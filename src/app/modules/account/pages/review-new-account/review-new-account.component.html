<app-small-spinner [isLoading]="isLoading"> </app-small-spinner>
<div class="top-header" [ngClass]="accservive.header?'navbar-sticky-top':'navbar-fixed-top'">
    <app-nav></app-nav>

    <div class="float-left col-12 header-action-tab new-container main-containtnoSide" [ngClass]="accservive.chatBot? 'chat-bot-1100' : ''">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left new-container mb10 mt10 no_pad">
            <!--Header starts here-->
            <div class="col-12 col-sm-8 col-md-8 col-lg-8 col-xl-8 float-left no_pad">
                <button class="no_pad mdi mdi-keyboard-backspace backspace_button cp" aria-label="Back" (keypress)="goBack()" (click)="goBack()"></button>
                <h1 *ngIf="(loggedin_user == 'sbu' || loggedin_user == 'cso') && route_from =='acc_req' && dunsId" class="heading-level-one">
                    Review new account request</h1>

                <h1 *ngIf="route_from =='modif_req' && accountType == 1" class="heading-level-one">
                    Review account activation </h1>

                <h1 *ngIf="loggedin_user == 'cso' && route_from =='modif_req' && accountType != 1" class="heading-level-one">
                    Review account modification</h1>

                <h1 *ngIf="loggedin_user == 'sbu' && route_from =='modif_req' && accountType != 1" class="heading-level-one">
                    Rework account modification</h1>

                <h1 class="heading-level-one" *ngIf="route_from == 'assign_ref'"> Review new reference </h1>

                <h1 *ngIf="loggedin_user == 'account_requestor' && route_from =='acc_req'" class="heading-level-one">
                    Rework new account request</h1>

                <h1 class="heading-level-one" *ngIf="(loggedin_user == 'sbu' || loggedin_user == 'cso') && route_from =='acc_req' && !dunsId">
                    Review custom account request</h1>
                <!-- added as per bug :54243 -->

            </div>
            <!--Header ends here-->
            <!--Buttons starts here-->
            <div class="col-12 col-sm-4 col-md-4 col-lg-4 col-xl-4 float-left no_pad ">

                <div class="float-right disp-flex save-cancel-responsive ">
                    <!-- scroll_x -->
                    <!-- Button will shown based on logged user and permissions, KUNAL 3/6/19 -->
                    <!-- class="margRmobileDesk" -->
                    <ng-container *ngFor="let b of validButton">
                        <button class="primary-button secondary-btn btn-block h-40 margR10 std cancel-responsived-btn min-width-auto flex-grow-1" (click)="performAction(b)">{{b}} </button>
                    </ng-container>
                    <!--<div *ngIf="validButton['message']"> {{validButton['message']}}
                            <p><small> this may be old created id. </small></p>
                        </div>-->
                </div>
            </div>
            <!--Buttons ends here-->
        </div>
    </div>
</div>

<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad new-container" [formGroup]="profileForm">

    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pos-abs bg-mid_night h-200"> </div>
    <!-- Flow switches to SBU || to Account requestor || to SBU SE SPOC || CSO reviews and reworks || switches to CSO -starts  here-->
    <div *ngIf="route_from != 'assign_ref'">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  pad-30 top-13 pad15px padd-top-130 scroll-middle-ios" *ngIf="loggedin_user == 'cso' || loggedin_user == 'sbu' || loggedin_user == 'account_requestor' || loggedin_user == 'activate'|| loggedin_user == 'view'">

            <!--Status blocks starts here-->
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad marginTop105" *ngIf="loggedin_user == 'account_requestor' ||  loggedin_user == 'sbu' ||  loggedin_user == 'cso' ||
                   loggedin_user == 'account_requestor'|| loggedin_user == 'activate'">
                <mat-accordion class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left card mt30 no_pad margin-top50">
                        <mat-expansion-panel [expanded]="requestHistoryPanel" (click)="expand(1)" [disabled]="editable1" (opened)="panelOpenState = true" (closed)="panelOpenState = false">

                            <mat-expansion-panel-header>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left ">

                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left">
                                        <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad accordian-heading pad-top-8">
                                            Request history</h2>
                                        <!-- <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-two pad-top-8" *ngIf="loggedin_user == 'account_requestor'">
                            Request history</h2>
                        <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-two pad-top-8" *ngIf="loggedin_user == 'activate' || loggedin_user == 'sbu' || (loggedin_user == 'cso' && service.creation_modification == 'modification')">
                            Additional comments</h2>
                        <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad  heading-level-two-review pad-top-8" *ngIf="loggedin_user == 'cso' &&  service.creation_modification == 'creation'">Additional comments </h2> -->
                                        <!-- <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-two pad-top-8" *ngIf="loggedin_user == 'cso' &&  service.creation_modification == 'creation'">Additional comments - Account creator</h2> jul 26 bug 7369  -->
                                        <!--Progress status in first legend starts here-->
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 container-fluid d-flex float-right justify-content-end" *ngIf="loggedin_user == 'account_requestor'">
                                            <!-- <ul class="progressbar">

                                <li class="active">
                                    <span class="mdi mdi-check" matTooltip="{{firstComment}}"></span>
                                    <hr>
                                </li>
                              
                                <li class="active">
                                    <span class="mdi mdi-history" matTooltip="{{reworksecondComment}}"></span>
                                    <hr class="inActive">
                                </li>
                                <li>
                                    <span class="mdi mdi-comment-outline noIcons"></span>
                                </li>
                            </ul> -->

                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 container-fluid d-flex float-right justify-content-end" *ngIf="loggedin_user == 'cso'">
                                            <!-- <ul class="progressbar ">

                                <li class="active">
                                    <span class="mdi mdi-check" matTooltip="{{firstComment}}"></span>
                                    <hr>
                                </li>
                                <li class="active" *ngIf="route_from === 'acc_req'">
                                    <span class="mdi mdi-check" matTooltip="{{CSO2progressComment}}"></span>
                                    <hr>
                                </li>
                                <li class="active">
                                    <span class="mdi mdi-history" matTooltip="{{CSO3progressComment}}"></span>
                            
                                </li>
                             
                            </ul> -->
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 container-fluid d-flex float-right justify-content-end" *ngIf="loggedin_user == 'sbu'">
                                            <!-- <ul class="progressbar " *ngIf="reworkCSO">

                                <li class="active">
                                    <span class="mdi mdi-check" matTooltip="{{firstComment}}"></span>
                                    <hr>
                                </li>
                                <li class="active" *ngIf="!hidesecondButtonFromSBU && route_from === 'acc_req'">
                                    <span class="mdi mdi-check" matTooltip="{{reworkfirstComment}}"></span>
                                    <hr>
                                </li>
                                <li class="active">
                                    <span class="mdi mdi-history" matTooltip="{{reworksecondComment}}"></span>
                                </li>

                            </ul> -->
                                            <!-- <ul class="progressbar " *ngIf="!reworkCSO">
                                <li class="active">
                                    <span class="mdi mdi-check" matTooltip="{{firstComment}}"></span>
                                    <hr>
                                </li>
                                <li class="active">
                                    <span class="mdi mdi-history" matTooltip="{{progressComment}}"></span>
                                 
                                    <hr class="inActive" *ngIf="disableButton">
                                </li>
                            
                                <li class="" *ngIf="disableButton">
                                    <span class="mdi mdi-comment-outline noIcons"></span>
                                </li>
                            </ul> -->
                                        </div>
                                        <!--Progress status in first legend ends here-->
                                    </div>
                                </div>
                            </mat-expansion-panel-header>
                            <div class="col-12 no_pad border-bottmaccordian"></div>

                            <!--comments status in first legend starts here-->
                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left  ">
                                <div class="scroll-window" slimScroll>
                                    <div *ngFor="let com of accountDetails.OverAllComments" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mt10 mb20">
                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-6 float-left no_pad">
                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                <p><b>Status: {{(com.Status && com.Status.Value)?com.Status.Value: 'NA'}}</b> ({{com.CommentedOn | date: 'dd MMM yyyy' }} at {{com.CommentedOn | date: 'HH:mm ' }})</p>
                                            </div>
                                            <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                    <p class="text_emptycomments"><b>Reason Code:</b> Rework code </p>
                  </div> -->
                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                <p><b>Comments:</b>{{com.Comment?com.Comment:'NA'}}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="accountDetails.OverAllComments && accountDetails.OverAllComments.length==0">
                                        No comments are there.
                                    </div>

                                    <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mt20">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-6 float-left no_pad">
                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                    <p><b>Status: Account requested</b> (12 Jan 2019 at 15:20)</p>
                  </div>
                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                    <p class="text_emptycomments"><b>Reason Code:</b> Rework code </p>
                  </div>
                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                    <p><b>Comments:</b> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                      incididunt ut labore et dolore magna aliqua.</p>
                  </div>
                </div>
              </div> -->
                                </div>
                            </div>

                            <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead2 "
            *ngIf="(loggedin_user == 'cso' &&  service.creation_modification == 'creation')">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-6 float-left no_pad padtop legend1">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
              ut labore et dolore magna aliqua. Lorem ipsum dolor sit amet, consectetur adipiscing
              adipiscing elit, sed do eiusmod tempor incididunt ut labore.
            </div>
          </div> -->
                            <!--comments status in first legend ends here-->

                            <div class="col-12 no_pad border-bottmaccordian" *ngIf="(loggedin_user == 'cso' &&  service.creation_modification == 'modification') || loggedin_user == 'cso' || loggedin_user == 'sbu' || loggedin_user == 'activate'|| loggedin_user == 'view'">
                            </div>

                            <!--Add view comments in first legend starts here-->
                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  padtop pad-create-lead4" *ngIf="(loggedin_user == 'cso' &&  service.creation_modification == 'modification') || loggedin_user == 'cso' || loggedin_user == 'sbu' || loggedin_user == 'activate'|| loggedin_user == 'view'">
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-2 width_message mobilewidthmessage  float-left no_pad">
                                    <span class="col-xs-12 acc_vision_txtarea_txt_readonly mt20 no_pad">
                    <span class="mdi mdi-comment-plus-outline message_cls_edit disablemouse"></span>Add comments
                                    </span>
                                </div>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-2 float-left no_pad width_message mobilewidthmessage ">
                                    <span class="col-xs-12 acc_vision_txtarea_txt mt10">
                    <span class="mdi mdi-comment-plus-outline message_cls_orange_edit disablemouse"></span> View comments
                                    </span>
                                </div>
                            </div>

                            <!--<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  padtop pad-create-lead4" *ngIf="(loggedin_user == 'cso' &&  service.creation_modification == 'creation')">
                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-2 float-left no_pad">
                       <div class="col-12 legend">Legend</div>
                       <div class="col-12 acc_vision_txtarea_txt_readonly No_legend">
                         <span class="yellow"></span>Modified fields / Notifications
                       </div>
                       <div class="col-12 acc_vision_txtarea_txt_readonly No_legend ">
                         <span class="orange"></span>Error
                       </div>
                     </div>
                  </div>-->

                            <!--Add view comments in first legend ends here-->
                        </mat-expansion-panel>
                    </div>
                </mat-accordion>
            </div>
            <!--Status blocks ends here-->

            <!--accordian starts here-->
            <div *ngIf="loggedin_user == 'account_requestor' || loggedin_user == 'sbu' || loggedin_user == 'cso' || loggedin_user == 'activate'">
                <mat-accordion class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">

                    <!-- First block accout details field  starts here-->
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left card mt20 no_pad">
                        <mat-expansion-panel [expanded]="accountDetailsPanel">

                            <mat-expansion-panel-header>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left ">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left ">
                                        <h2 class="col-10 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad accordian-heading pad-top-8 ">
                                            Account details</h2>
                                        <div class="col-2 no_pad count_cls top-6">
                                            <span class="count_txt">{{accountDetailscount + AdditionalDetailscount + businesscount }}</span>
                                            <!-- {{accountDetailscount}}---------{{AdditionalDetailscount}}----------{{businesscount}} -->
                                        </div>
                                    </div>
                                </div>
                            </mat-expansion-panel-header>

                            <div class="col-12 no_pad border-bottmaccordian"></div>

                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead3 no_pad">
                                <!--autocomplete-->
                                <!--<div *ngFor="let data of WithoutInputFields_Account_details"  >
                          <div [ngClass]="data.title == 'Account name'?'col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyNameacc':'col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left no_pad CompanyNameacc'" 
                            *ngIf="loggedin_user == 'cso' || loggedin_user == 'sbu'  || loggedin_user == 'activate'|| loggedin_user == 'view'">
                            <div (clickOutside)="data.GrowthPositionInAccountClicked =false">
                             <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-12 float-left  cust_autoComplete pos-rel mt20">
                              <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad  CompanyName">
                                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                    <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{data.title}}">{{data.title}}</label>
                                    <button [popoverOnHover]="false"
                                            [popoverCloseOnMouseOutside]="false"
                                            [popoverCloseOnClickOutside]="true"
                                            [popover]="myPopover"
                                            (click)="toggleComment()"
                                            (keypress)="toggleComment()" 
                                            class="button_messagespophover button-plus"
                                            *ngIf="data.control != 'span'">
                                          <span  [ngClass]="data.GrowthPositionSubmitted?'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'" >
                                          <span class="sr-only" >{{data.title}} message</span>
                                          </span> 
                                    </button>
                                    
                                    <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad acc_txtarea" *ngIf="data.control=='span' ">{{data.data_content}}</span>
      
                                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text acc_txtarea" 
                                    *ngIf="data.control=='input'" id="{{data.title}}" name="text" type="text" placeholder="{{data.data_content}}">
      
                                    <div class="customized-select acc_txtarea" *ngIf="data.control=='select'">
                                      <span class="caret color-azure"></span>
                                      <select id="{{data.title}}" role="listbox" class="pad-left10 acc_txtarea">
                                        <option value="Face to Face">Architecture</option>
                                        <option value="Virtual Meeting">Business</option>
                                        <option value="Telephonic Conversation">Farming</option>
                                      </select>
                                    </div>
                                    
      
                                    <popover-content #myPopover 
                                                    title="Comments - {{data.title}}"
                                                    placement="right"
                                                    [animation]="false" 
                                                    [closeOnClickOutside]="true"
                                                    [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                <span class="">
                                                  <div class="textarea_readonly">
                                                  <textarea class="form-control vision_txt_area_placeholder"  #newListItem name="newListItem" rows="6" placeholder="Write your comments here.."></textarea>
                                                  </div>
                                                  <button type="button" class="btn pull-left cancel_but" (click)="data.GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel </button>
                                                  <button type="button" [disabled]="newListItem.value.length < 1" [ngClass]="newListItem.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'" 
                                                  (click)="data.GrowthPositionSubmitted = true;data.GrowthPositionInAccountClicked = false;incrementAccount() ;myPopover.hide()">Submit</button>
                                                </span>
                                    </popover-content>
                                </div>
                              </form>
                             </div>
                            </div>
                          </div>
                        </div>
      
                        <div *ngFor="let data of WithoutInputFields_Account_details"  >
                          <div [ngClass]="data.title == 'Account name'?'col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyNameacc':'col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left no_pad CompanyNameacc'"  
                            *ngIf="loggedin_user == 'account_requestor'" >
                          <div (clickOutside)="data.GrowthPositionInAccountClicked =false">
                             <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-12 float-left  cust_autoComplete pos-rel mt20">
                              <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad  CompanyName">
                                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                    <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{data.title}}">{{data.title}}</label>
                                    <button [popoverOnHover]="false"
                                            [popoverCloseOnMouseOutside]="false"
                                            [popoverCloseOnClickOutside]="true"
                                            [popover]="myPopover"
                                            (click)="toggleComment()"
                                            (keypress)="toggleComment()" 
                                            class="button_messagespophover button-plus"
                                            *ngIf="data.control != 'span'">
                                          <span  [ngClass]="data.GrowthPositionSubmitted?'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'" >
                                          <span class="sr-only" >{{data.title}} message</span>
                                          </span> 
                                    </button>
                                    
                                    <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad acc_txtarea" *ngIf="data.control=='span' ">{{data.data_content}}</span>
      
                                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text acc_txtarea" 
                                    *ngIf="data.control=='input'" id="{{data.title}}" name="text" type="text" placeholder="{{data.data_content}}">
      
                                    <div class="customized-select acc_txtarea" *ngIf="data.control=='select'">
                                      <span class="caret color-azure"></span>
                                      <select id="{{data.title}}" role="listbox" class="pad-left10 acc_txtarea">
                                        <option value="Face to Face">Architecture</option>
                                        <option value="Virtual Meeting">Business</option>
                                        <option value="Telephonic Conversation">Farming</option>
                                      </select>
                                    </div>
                                    
      
                                    <popover-content #myPopover 
                                                    placement="right"
                                                    [animation]="false" 
                                                    [closeOnClickOutside]="true"
                                                    [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad " >
                                                    <div class="scroll-window" slimScroll  >
                                                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1">
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p class="pstyles_acc"><b  class="bstyles_acc">CSO</b> (12 Jan 2019 at 15:20)</p>
                                                          </div>
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p>Lorem ipsum dolor sit amet,  consectetur adipiscing elit, sed do eiusmod tempor 
                                                              incididunt ut labore et dolore magna aliqua.</p>
                                                          </div>
                                                        </div>
                                                      </div>
      
                                                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mt20">
                                                       <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p class="pstyles_acc"><b  class="bstyles_acc" >SBU</b> (12 Jan 2019 at 15:20)</p>
                                                          </div>
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p> Lorem ipsum dolor sit amet,  consectetur adipiscing elit, sed do eiusmod tempor 
                                                              incididunt ut labore et dolore magna aliqua.</p>
                                                          </div>
                                                        </div>
                                                      </div>
                                                     </div>
                                                   </div>       
                                                <span class="">
                                                  <div class="textarea_readonly">
                                                  <textarea class="form-control vision_txt_area_placeholder" #newListItem name="newListItem" rows="1" placeholder="Write your comments here.."></textarea>
                                                  </div>
                                                  <button type="button" class="btn pull-left cancel_but" (click)="data.GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel </button>
                                                  <button type="button" [disabled]="newListItem.value.length < 1" [ngClass]="newListItem.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'" 
                                                  (click)="data.GrowthPositionSubmitted = true;data.GrowthPositionInAccountClicked = false;incrementAccount() ;myPopover.hide()">Submit</button>
                                                </span>
                                    </popover-content>
                                </div>
                              </form>
                             </div>
                          </div>
                         </div>
                        </div>-->
                                <!-- <div> -->
                                <ng-container formArrayName="Account_details">
                                    <ng-container *ngFor="let address of Account_details.controls; let i=index">
                                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  CompanyNameacc mt10 no_pad_mobile last-target">
                                            <div class="col-12 float-left no_pad" (clickOutside)="WithoutInputFields_Account_details[i].GrowthPositionInAccountClicked =false">
                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2 ">
                                                    <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{WithoutInputFields_Account_details[i].title}}" [ngClass]="WithoutInputFields_Account_details[i].control=='toggle' ? 'toggle_left' : ''" matTooltip="{{WithoutInputFields_Account_details[i].tooltip}}">{{WithoutInputFields_Account_details[i].title}}

                            <span *ngIf="WithoutInputFields_Account_details[i].isRequired" class="asteriq"> *
                            </span></label>

                                                    <!--<button class="button_messagespophover">-->
                                                    <span *ngIf="WithoutInputFields_Account_details[i].searchbtn" (click)="openeSharedAdvanceLookupPopup();" (keypress)="openeSharedAdvanceLookupPopup();" [ngClass]="WithoutInputFields_Account_details[i].AttributeName == 'legalentity'?'mdi mdi-magnify message_cls mdi_mag_reviewaccount':''">
                            <button class="button_search_leagal" (click)="openeSharedAdvanceLookupPopup();"
                              (keypress)="openeSharedAdvanceLookupPopup();">
                              <span class="sr-only">search</span>
                                                    <!-- <span role="button" tabindex="0" [ngClass]="WithoutInputFields_Account_details[i].AttributeName == 'legalentity'?'mdi mdi-magnify message_cls mdi_mag_reviewaccount':''" (click)="openeSharedAdvanceLookupPopup();getwiproaccounts('');" (keypress)="openeSharedAdvanceLookupPopup();getwiproaccounts('');">
                                                           <span class="sr-only">search</span> -->
                                                    </button>
                                                    </span>
                                                    <!--</button>-->

                                                    <button *ngIf="WithoutInputFields_Account_details[i].attrBtn" [popoverOnHover]="false" [popoverCloseOnMouseOutside]="false" [popoverCloseOnClickOutside]="true" [popover]="myPopoverAccount_details" (click)="toggleComment()" (keypress)="toggleComment()"
                                                        class="button_messagespophover">
                            <span
                              [ngClass]="(WithoutInputFields_Account_details[i]['RequestHistoryComments'] || WithoutInputFields_Account_details[i]['isCommented'])? 'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'">
                              <span class="sr-only">{{WithoutInputFields_Account_details[i].title}} message</span>
                            </span>
                          </button>

                                                    <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad acc_txtarea h-43" *ngIf="WithoutInputFields_Account_details[i].control=='span' ">{{getdecodevalue(WithoutInputFields_Account_details[i].data_content)}}</span>

                                                    <!--<div class="customized-select acc_txtarea" *ngIf="WithoutInputFields_Account_details[i].control=='select'">
                                          <span class="caret color-azure"></span>
                                          <select id="{{WithoutInputFields_Account_details[i].title}}" [formControlName]="i" role="listbox" class="pad-left10 acc_txtarea" >
                                            <option value="{{item.id}}" *ngFor="let item of WithoutInputFields_Account_details[i].data">{{item.name}}</option>
                                          </select>
                                      </div>-->

                                                    <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName mt15" *ngIf="WithoutInputFields_Account_details[i].control=='autocomplete'">
                                      <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 input-text acc_txtarea" id="{{WithoutInputFields_Account_details[i].title}}"
                                        name="contactSBU" #auto autocomplete="off" type="text" [formControlName]="i" placeholder="Select"
                                        (clickOutside)="WithoutInputFields_Account_details[i].isTyping=false"
                                      (keyup)="autocomplete(WithoutInputFields_Account_details[i].title,i);WithoutInputFields_Account_details[i].isTyping=true"
                                        [ngClass]="submitted && accOwnerSwap.sbu.errors && accOwnerSwap.sbu.errors.required ? 'border-pink':'border-gray'"
                                        required>
      
                                        <p *ngIf="submitted && accOwnerSwap.sbu.errors && accOwnerSwap.sbu.errors.required"
                                          class="error-message custom-label">SBU is required</p>
                                        <span class="mdi mdi-magnify"></span>
                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border-right float-left top32  zindex_border no_pad standard-border color-azure
                                          suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="WithoutInputFields_Account_details[i].isTyping">
                                          <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                                            <ul class=" list-group mr2 sort-dropdown">
                                              <li class="list-group-item h-50 p-4-10" (click)="auto.value=item.name;selectedValue(item,i,'Account_details')"
                                                *ngFor="let item of WithoutInputFields_Account_details[i].data">
                                                {{item.name}}
                                              </li>
                                            </ul>
                                          </perfect-scrollbar>
                                        </div>
                                    </div> -->

                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pb1" *ngIf="WithoutInputFields_Account_details[i].control=='autocomplete'">

                                                        <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="{{WithoutInputFields_Account_details[i].title}}" name="contactSBU" #auto autocomplete="off" type="text" [formControlName]="i" placeholder="Search {{(WithoutInputFields_Account_details[i].title).toLowerCase()}}"
                                                            (clickOutside)="WithoutInputFields_Account_details[i].isTyping=false" (click)="autocomplete($event,WithoutInputFields_Account_details[i].title,i, address, 'Account_details');WithoutInputFields_Account_details[i].isTyping=true"
                                                            (keyup)="autocomplete($event,WithoutInputFields_Account_details[i].title,i, address, 'Account_details');WithoutInputFields_Account_details[i].isTyping=true" required>
                                                        <p *ngIf="submitted && address.errors && address.errors.required" class="error-message custom-msg top-40">
                                                            {{WithoutInputFields_Account_details[i].title}} is required</p>
                                                        <!--<p *ngIf="submitted && accOwnerSwap.sbu.errors && accOwnerSwap.sbu.errors.required" class="error-message custom-label">SBU is required</p>-->
                                                        <!--<span class="mdi mdi-magnify"></span>-->
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border-right float-left top32  zindex_border no_pad standard-border suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="WithoutInputFields_Account_details[i].isTyping">
                                                            <perfect-scrollbar style="max-height:160px" class="z-ind-9">


                                                                <span class="w-100 z-ind-9 float-left bg-white">
                                  <ul class=" list-group sort-dropdown mr2" role="listbox" id="read"
                                    [ngClass]="{'loader-search':isActivityGroupSearchLoading }">

                                    <li class="list-group-item h-50 p-4-10"
                                      (click)="auto.value=item.name;selectedValue(item,i,'Account_details',WithoutInputFields_Account_details,ind )"
                                      *ngFor="let item of WithoutInputFields_Account_details[i].data; let ind =index;">
                                      {{item.Name}}
                                    </li>
                                    <li
                                      *ngIf="WithoutInputFields_Account_details[i]['message']&& !isActivityGroupSearchLoading">
                                      {{WithoutInputFields_Account_details[i]['message']}}</li>
                                  </ul>
                                </span>
                                                            </perfect-scrollbar>


                                                            <span *ngIf="WithoutInputFields_Account_details[i].isAdvanceLookUp" class="db-search" (click)="openadvancetabs('WithoutInputFields_Account_details',WithoutInputFields_Account_details,Account_details, 'Account_details',i)" (keypress)="openadvancetabs('WithoutInputFields_Account_details',WithoutInputFields_Account_details,Account_details, 'Account_details',i)">
                                <button id="{{searchAccountCompany?.length+1}}" role="option" tabindex="0"
                                  aria-disabled="false" type="button" class="button-search"
                                  [class.active]="searchAccountCompany?.length+1 == arrowkeyLocation">
                                  <span class="mdi mdi-file-outline"></span> Advance look up
                                                            </button>
                                                            </span>

                                                        </div>


                                                    </div>
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pb1" *ngIf="WithoutInputFields_Account_details[i].control=='input'">
                                                        <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  acc_txtarea h-40 label-input" #AccountDetailsData id="WithoutInputFields_Account_details[i].title" name="ConversationName" autocomplete="off" type="text" placeholder="Enter {{(WithoutInputFields_Account_details[i].title).toLowerCase()}}"
                                                            [formControlName]="i" [ngClass]="{'error': submitted && address.invalid}" (input)="restrictspace1($event,WithoutInputFields_Account_details,AccountDetailsData.value,WithoutInputFields_Account_details[i].fkey)"
                                                            (keypress)="restrictspace1($event,WithoutInputFields_Account_details,AccountDetailsData.value,WithoutInputFields_Account_details[i].fkey)" (keydown)="restrictspace1($event,WithoutInputFields_Account_details,AccountDetailsData.value,WithoutInputFields_Account_details[i].fkey)">
                                                        <!-- <span class="mdi mdi-magnify"></span> -->
                                                        <p *ngIf="submitted && address.errors && address.errors.required" class="error-message custom-msg top-40">
                                                            {{WithoutInputFields_Account_details[i].title}} is required</p>
                                                    </div>

                                                    <textarea class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text text-height-70 acc_txtarea pb1" id="{{WithoutInputFields_Account_details[i].title}}" name="text" type="text" *ngIf="WithoutInputFields_Account_details[i].control=='textarea'"
                                                        [formControlName]="i" placeholder="Enter {{(WithoutInputFields_Account_details[i].title).toLowerCase()}}"></textarea>
                                                    <p *ngIf="(WithoutInputFields_Account_details[i].control=='textarea') && submitted && address.errors && address.errors.required" class="error-message custom-msg top-40">
                                                        {{WithoutInputFields_Account_details[i].title}} is required</p>

                                                    <popover-content #myPopoverAccount_details [ngClass]="searchBtn ? 'active' : ''" title="{{WithoutInputFields_Account_details[i].iscreate ? 'Edit field' : getBussinesspopoverTitle(WithoutInputFields_Account_details[i].title) + charLimitMessage(WithoutInputFields_Account_details[i])}}"
                                                        placement="right" [animation]="false" [closeOnClickOutside]="true">
                                                        <div>
                                                            <div *ngIf="WithoutInputFields_Account_details[i].RequestHistoryComments" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad ">
                                                                <div class="scroll-window" slimScroll>
                                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mb20" *ngFor="let item of WithoutInputFields_Account_details[i].RequestHistoryComments">
                                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                                <p class="pstyles_acc"><b class="bstyles_acc">{{(item.CommentedBy && item.CommentedBy.FullName)?item.CommentedBy.FullName:'NA'}}
                                            <{{(item.CommentedBy && item.CommentedBy.Email)?item.CommentedBy.Email:'NA'}}>
                                          </b> ({{item.CommentedOn| date: 'dd MMM yyyy' }} at {{item.CommentedOn | date: 'HH:mm ' }})
                                                                                </p>
                                                                            </div>
                                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                                <p>{{item.Comment}}</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                            <!--<span class="" *ngIf="(loggedin_user == 'sbu' &&  accountDetails.Status.Id==184450006) || (loggedin_user == 'cso' && accountDetails.Status.Id==184450007)">-->
                                                            <div class="">
                                                                <div class="textarea_readonly">
                                                                    <textarea class="form-control vision_txt_area_placeholder" #newListItem (keyup)="newListItem.value;checCharLimit(newListItem.value,WithoutInputFields_Account_details[i])" name="newListItem" rows="6" placeholder="Write your comments here.." maxlength="2000"></textarea>
                                                                </div>
                                                                <button type="button" class="btn pull-left cancel_but" (click)="WithoutInputFields_Account_details[i].GrowthPositionInAccountClicked = false;myPopoverAccount_details.hide() ;removeComment(WithoutInputFields_Account_details[i], newListItem, WithoutInputFields_Account_details, 'accountDetail',i)">Cancel
                                </button>

                                                                <button type="button" [disabled]="newListItem.value.length < 1" [ngClass]="newListItem.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'" (click)="WithoutInputFields_Account_details[i].GrowthPositionSubmitted = true;WithoutInputFields_Account_details[i].GrowthPositionInAccountClicked = false;popoverSubmitAcc(WithoutInputFields_Account_details[i].title, newListItem.value) ;
                                                      myPopoverAccount_details.hide();WithoutInputFields_Account_details[i].iscreate=true; build_attribute_comments(WithoutInputFields_Account_details[i], newListItem.value, WithoutInputFields_Account_details, 'accountDetail',i)">Save</button>
                                                            </div>
                                                        </div>

                                                        <!-- <div
                                  *ngIf="loggedin_user == 'cso' || loggedin_user == 'sbu'  || loggedin_user == 'activate'|| loggedin_user == 'view'">
                                  <span class="">
                                    <div class="textarea_readonly">
                                      <textarea class="form-control vision_txt_area_placeholder" name="newListItem"
                                        #newListItem1 rows="6" placeholder="Write your comments here.."></textarea>
                                    </div>
                                    <button type="button" class="btn pull-left cancel_but"
                                      (click)="WithoutInputFields_Account_details[i].GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel
                                    </button>
                                    <button type="button" [disabled]="newListItem1.value.length < 1"
                                      [ngClass]="newListItem1.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                      (click)="WithoutInputFields_Account_details[i].GrowthPositionSubmitted = true;WithoutInputFields_Account_details[i].GrowthPositionInAccountClicked = false;popoverSubmitAcc(WithoutInputFields_Account_details[i].title,newListItem1.value) 
                                                    ;myPopover.hide();build_attribute_comments(WithoutInputFields_Account_details[i].AttributeGuid, newListItem1.value)">Submit</button>
                                  </span>
                                </div> -->
                                                    </popover-content>

                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>
                                </ng-container>
                                <!-- </div> -->
                                <!--autocomplete-->
                            </div>

                            <div class="col-12 no_pad border-bottmaccordian"></div>

                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left  no_pad mt-12">
                                <!-- removed pad-create-lead Rudra jan 29 -->
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left padding_left">
                                    <h2 class="col-10 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-three pad-top-8">
                                        Business </h2>
                                    <!-- <div class="col-xs-2 no_pad count_cls">
                                        <span class="count_txt">{{businesscount}}</span>
                                    </div> -->
                                </div>
                                <!--<div *ngFor="let data of WithoutInputFields_Business">
                            <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20"
                              *ngIf="loggedin_user == 'cso' || loggedin_user == 'sbu'  || loggedin_user == 'activate'|| loggedin_user == 'view'">
                              <div (clickOutside)="data.GrowthPositionInAccountClicked =false">
                                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                    <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{data.title}}">{{data.title}}</label>
                                      <button [popoverOnHover]="false"
                                              [popoverCloseOnMouseOutside]="false"
                                              [popoverCloseOnClickOutside]="true"
                                              [popover]="myPopover"
                                              (click)="toggleComment()"
                                              (keypress)="toggleComment()"
                                              class="button_messagespophover">
                                            <span  [ngClass]="data.GrowthPositionSubmitted?'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'" >
                                            <span class="sr-only" >{{data.title}} message</span>
                                            </span> 
                                      </button>
                                      
                                      <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text acc_txtarea" 
                                        *ngIf="data.control=='input'" id="{{data.title}}" name="text" type="text" placeholder="{{data.data_content}}">
                                                                        
                                        <textarea class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text text-height-70 acc_txtarea" id="{{data.title}}" name="text"
                                        type="text" *ngIf="data.control=='textarea'" placeholder="{{data.data_content}}"></textarea>
      
      
                                      <popover-content #myPopover 
                                                      title="Comments - {{data.title}}"
                                                      placement="right"
                                                      [animation]="false" 
                                                      [closeOnClickOutside]="true"
                                                      [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                  <span class="">
                                                    <div class="textarea_readonly">
                                                    <textarea class="form-control vision_txt_area_placeholder"  #newListItem name="newListItem" rows="6" placeholder="Write your comments here.."></textarea>
                                                    </div>
                                                    <button type="button" class="btn pull-left cancel_but" (click)="data.GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel </button>
                                                    <button type="button" [disabled]="newListItem.value.length < 1" [ngClass]="newListItem.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'" 
                                                    (click)="data.GrowthPositionSubmitted = true;data.GrowthPositionInAccountClicked = false;incrementBusinness() ;myPopover.hide()">Submit</button>
                                                  </span>
                                      </popover-content>
                                  </div>
                              </div>
                            </div>
                          </div>
                          <div *ngFor="let data of WithoutInputFields_Business">
                            <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20" 
                              *ngIf="loggedin_user == 'account_requestor'">
                              <div (clickOutside)="data.GrowthPositionInAccountClicked =false">
                                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                    <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{data.title}}">{{data.title}}</label>
                                      <button [popoverOnHover]="false"
                                              [popoverCloseOnMouseOutside]="false"
                                              [popoverCloseOnClickOutside]="true"
                                              [popover]="myPopover"
                                              (click)="toggleComment()"
                                              (keypress)="toggleComment()"
                                              class="button_messagespophover">
                                            <span  [ngClass]="data.GrowthPositionSubmitted?'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'" >
                                            <span class="sr-only" >{{data.title}} message</span>
                                            </span> 
                                      </button>
                                      
                                      <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text acc_txtarea" 
                                        *ngIf="data.control=='input'" id="{{data.title}}" name="text" type="text" placeholder="{{data.data_content}}">
                                                                        
                                        <textarea class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text text-height-70 acc_txtarea" id="{{data.title}}" name="text"
                                        type="text" *ngIf="data.control=='textarea'" placeholder="{{data.data_content}}"></textarea>
      
      
                                      <popover-content #myPopover 
                                                      placement="right"
                                                      [animation]="false" 
                                                      [closeOnClickOutside]="true"
                                                      [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad " >
                                                      <div class="scroll-window" slimScroll  >
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1">
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                              <p class="pstyles_acc"><b  class="bstyles_acc">CSO</b> (12 Jan 2019 at 15:20)</p>
                                                            </div>
                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                              <p>Lorem ipsum dolor sit amet,  consectetur adipiscing elit, sed do eiusmod tempor 
                                                                incididunt ut labore et dolore magna aliqua.</p>
                                                            </div>
                                                          </div>
                                                        </div>
      
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mt20">
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                              <p class="pstyles_acc"><b  class="bstyles_acc" >SBU</b> (12 Jan 2019 at 15:20)</p>
                                                            </div>
                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                              <p> Lorem ipsum dolor sit amet,  consectetur adipiscing elit, sed do eiusmod tempor 
                                                                incididunt ut labore et dolore magna aliqua.</p>
                                                            </div>
                                                          </div>
                                                        </div>
                                                      </div>
                                                    </div> 
                                                  <span class="">
                                                    <div class="textarea_readonly">
                                                    <textarea class="form-control vision_txt_area_placeholder"  #newListItem name="newListItem" rows="1" placeholder="Write your comments here.."></textarea>
                                                    </div>
                                                    <button type="button" class="btn pull-left cancel_but" (click)="data.GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel </button>
                                                    <button type="button" [disabled]="newListItem.value.length < 1" [ngClass]="newListItem.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'" 
                                                    (click)="data.GrowthPositionSubmitted = true;data.GrowthPositionInAccountClicked = false;incrementBusinness() ;myPopover.hide()">Submit</button>
                                                  </span>
                                      </popover-content>
                                  </div>
                              </div>
                            </div>
                          </div>-->
                                <div>
                                    <div formArrayName="Business">
                                        <div *ngFor="let address of Business.controls; let i=index">
                                            <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20 no_pad_mobile">
                                                <div (clickOutside)="WithoutInputFields_Business[i].GrowthPositionInAccountClicked =false">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                                        <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{WithoutInputFields_Business[i].title}}" [ngClass]="WithoutInputFields_Business[i].control=='toggle' ? 'toggle_left' : ''">{{WithoutInputFields_Business[i].title}}
                              <span *ngIf="WithoutInputFields_Business[i].isRequired" class="asteriq"> * </span></label>

                                                        <button [popoverOnHover]="false" [popoverCloseOnMouseOutside]="false" [popoverCloseOnClickOutside]="true" [popover]="myPopoverBusiness" (click)="toggleComment()" (keypress)="toggleComment()" class="button_messagespophover">
                              <span
                                [ngClass]="(WithoutInputFields_Business[i]['RequestHistoryComments'] || WithoutInputFields_Business[i]['isCommented'])? 'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'">
                                <span class="sr-only">{{WithoutInputFields_Business[i].title}} message</span>
                              </span>
                            </button>

                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" *ngIf="WithoutInputFields_Business[i].control=='input'">
                                                            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  acc_txtarea h-40 label-input" id="WithoutInputFields_Business[i].title" name="ConversationName" (keypress)="WithoutInputFields_Business[i].AttributeName == 'contact_contactno'?validate.maxValueValidation($event, Business.controls[i].value ,Business.controls[i].AttributeName):''"
                                                                (keydown)="WithoutInputFields_Business[i].AttributeName == 'contact_contactno'?validate.deleteAfterDecimal($event,Business,i, Business.controls[i].value,Business.controls[i].AttributeName):''"
                                                                autocomplete="off" type="text" placeholder="Enter {{WithoutInputFields_Business[i].title =='Employees '? 'no. of employees':(WithoutInputFields_Business[i].title).toLowerCase()}}" [formControlName]="i"
                                                                [attr.aria-required]="WithoutInputFields_Business[i].isRequired ? true :'false'" [ngClass]="{'error': address.invalid}">
                                                            <!-- <span class="mdi mdi-magnify"></span> -->
                                                            <p *ngIf="WithoutInputFields_Business[i].AttributeName == 'email' && address.invalid" class="error-message custom-msg top-40">
                                                                Please enter valid email address</p>
                                                            <p *ngIf="WithoutInputFields_Business[i].AttributeName == 'websiteurl' && address.invalid" class="error-message custom-msg top-40">
                                                                Please enter valid website url</p>
                                                            <p *ngIf="WithoutInputFields_Business[i].AttributeName == 'contact_contactno' && address.invalid && (address.errors && !address.errors.required)" class="error-message custom-msg top-40">Please enter 10 digit phone no</p>
                                                            <p *ngIf="submitted && address.errors && address.errors.required" class="error-message custom-msg top-40">
                                                                {{WithoutInputFields_Business[i].title}} is required</p>
                                                            <!-- <p *ngIf="submitted && address.errors && address.errors.required"
                                    class="error-message custom-msg top-40">
                                    {{WithoutInputFields_SecondaryDetails[i].title}} is required</p> -->

                                                        </div>

                                                        <textarea class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text text-height-70 acc_txtarea" id="{{WithoutInputFields_Business[i].title}}" name="text" type="text" [formControlName]="i" *ngIf="WithoutInputFields_Business[i].control=='textarea'"
                                                            placeholder="Enter {{(WithoutInputFields_Business[i].title).toLowerCase()}}" maxlength="2000"></textarea>
                                                        <p *ngIf="WithoutInputFields_Business[i].control=='textarea' && submitted && address.errors && address.errors.required" class="col-12 float-left error-message-text-area">
                                                            {{WithoutInputFields_Business[i].title}} is required</p>
                                                        <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" *ngIf="WithoutInputFields_Business[i].control=='autocomplete'">
                                      <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="{{WithoutInputFields_Business[i].title}}"
                                        name="contactSBU" #auto autocomplete="off" type="text" [formControlName]="i" placeholder="Select"
                                        (clickOutside)="WithoutInputFields_Business[i].isTyping=false"
                                      (keyup)="autocomplete(WithoutInputFields_Business[i].title,i);WithoutInputFields_Business[i].isTyping=true"
                                        [ngClass]="submitted && accOwnerSwap.sbu.errors && accOwnerSwap.sbu.errors.required ? 'border-pink':'border-gray'"
                                        required>
      
                                        <p *ngIf="submitted && accOwnerSwap.sbu.errors && accOwnerSwap.sbu.errors.required"
                                          class="error-message custom-label">SBU is required</p>
                                        <span class="mdi mdi-magnify"></span>
                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border-right float-left top32  zindex_border no_pad standard-border color-azure
                                          suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="WithoutInputFields_Business[i].isTyping">
                                          <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                                            <ul class=" list-group mr2 sort-dropdown">
                                              <li class="list-group-item h-50 p-4-10" (click)="auto.value=item.name;selectedValue(item,i,'Business')"
                                                *ngFor="let item of WithoutInputFields_Business[i].data">
                                                {{item.name}}
                                              </li>
                                            </ul>
                                          </perfect-scrollbar>
                                        </div>
                                    </div> -->



                                                        <popover-content #myPopoverBusiness title="{{WithoutInputFields_Business[i].iscreate ? 'Edit field':getBussinesspopoverTitle(WithoutInputFields_Business[i].title) + charLimitMessage(WithoutInputFields_Business[i])}}" placement="right" [animation]="false"
                                                            [closeOnClickOutside]="true" [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                            <div>
                                                                <div *ngIf="WithoutInputFields_Business[i].RequestHistoryComments" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad ">
                                                                    <div class="scroll-window" slimScroll>
                                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mb20" *ngFor="let item of WithoutInputFields_Business[i].RequestHistoryComments">
                                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                                    <p class="pstyles_acc"><b class="bstyles_acc">{{(item.CommentedBy && item.CommentedBy.FullName)?item.CommentedBy.FullName:'NA'}}
                                              <{{(item.CommentedBy && item.CommentedBy.Email)?item.CommentedBy.Email:'NA'}}>
                                            </b> ({{item.CommentedOn| date: 'dd MMM yyyy' }} at {{item.CommentedOn | date: 'HH:mm ' }})
                                                                                    </p>
                                                                                </div>
                                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                                    <p>{{item.Comment}}</p>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </div>
                                                                <!--<span class="" *ngIf="(loggedin_user == 'sbu' &&  accountDetails.Status.Id==184450006) || (loggedin_user == 'cso' && accountDetails.Status.Id==184450007)">-->
                                                                <span class="">
                                  <div class="textarea_readonly">
                                    <textarea class="form-control vision_txt_area_placeholder" #newListItem2
                                      name="newListItem"
                                      (keyup)="newListItem2.value; checCharLimit(newListItem2.value,WithoutInputFields_Business[i])"
                                      rows="6" placeholder="Write your comments here.." maxlength="2000"></textarea>
                                  </div>
                                  <button type="button" class="btn pull-left cancel_but"
                                    (click)="WithoutInputFields_Business[i].GrowthPositionInAccountClicked = false;myPopoverBusiness.hide(); removeComment(WithoutInputFields_Business[i], newListItem2,WithoutInputFields_Business, 'business',i)">Cancel
                                  </button>
                                  <button type="button" [disabled]="!newListItem2.value"
                                    [ngClass]="!newListItem2.value? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                    (click)="WithoutInputFields_Business[i].GrowthPositionSubmitted = true;WithoutInputFields_Business[i].GrowthPositionInAccountClicked = false;popoverSubmitDataBus(WithoutInputFields_Business[i].title, newListItem2.value) ;
                                                      myPopoverBusiness.hide(); WithoutInputFields_Business[i].iscreate =true;build_attribute_comments(WithoutInputFields_Business[i],newListItem2.value,WithoutInputFields_Business, 'business',i)">Save</button>
                                </span>
                                                            </div>

                                                            <!-- <div
                                  *ngIf="loggedin_user == 'cso' || loggedin_user == 'sbu'  || loggedin_user == 'activate'|| loggedin_user == 'view'">
                                  <span class="">
                                    <div class="textarea_readonly">
                                      <textarea class="form-control vision_txt_area_placeholder" #newListItem3
                                        name="newListItem" rows="6" placeholder="Write your comments here.."></textarea>
                                    </div>
                                    <button type="button" class="btn pull-left cancel_but"
                                      (click)="WithoutInputFields_Business[i].GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel
                                    </button>
                                    <button type="button" [disabled]="newListItem3.value.length < 1"
                                      [ngClass]="newListItem3.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                      (click)="WithoutInputFields_Business[i].GrowthPositionSubmitted = true;WithoutInputFields_Business[i].GrowthPositionInAccountClicked = false;popoverSubmitDataBus(WithoutInputFields_Business[i].title,newListItem3.value);myPopover.hide();
                                      build_attribute_comments(WithoutInputFields_Business[i].AttributeGuid, newListItem3.value)">Submit</button>
                                  </span>
                                </div> -->
                                                        </popover-content>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left  pad-create-leadbtmPophover no_pad padding_bottomspace mt20" [ngClass]="accordianClass">
                                <!-- [ngClass]="expandAccordian?'mb180':'mb50'" -->
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left padding_left">
                                    <h2 class="col-10 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-three pad-top-8">
                                        Additonal details</h2>
                                    <!-- <div class="col-xs-2 no_pad count_cls">
                                        <span [ngClass]="AdditionalDetailscount <= '9' ? 'count_txt' : 'count_txt2' ">{{AdditionalDetailscount}}</span>
                                    </div> -->
                                </div>

                                <!--<div *ngFor="let data of WithoutInputFields_AdditionalDetails">
                         <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20"
                           *ngIf="loggedin_user == 'cso' || loggedin_user == 'sbu'  || loggedin_user == 'activate'|| loggedin_user == 'view'" >
                           <div (clickOutside)="data.GrowthPositionInAccountClicked =false">
                              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{data.title}}">{{data.title}}</label>
                                  <button [popoverOnHover]="false"
                                          [popoverCloseOnMouseOutside]="false"
                                          [popoverCloseOnClickOutside]="true"
                                          [popover]="myPopover"
                                          (click)="toggleComment()"
                                          (keypress)="toggleComment()"
                                          class="button_messagespophover" >
                                        <span  [ngClass]="data.GrowthPositionSubmitted?'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'" >
                                        <span class="sr-only" >{{data.title}} message</span>
                                        </span> 
                                  </button>
                                  
                                  <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text acc_txtarea" 
                                    *ngIf="data.control=='input'" id="{{data.title}}" name="text" type="text" placeholder="{{data.data_content}}">
      
                                    <div class="customized-select " *ngIf="data.control=='select'">
                                      <span class="caret color-azure"></span>
                                      <select id="{{data.title}}" role="listbox" class="pad-left10 acc_txtarea">
                                        <option value="Face to Face">Architecture</option>
                                        <option value="Virtual Meeting">Business</option>
                                        <option value="Telephonic Conversation">Farming</option>
                                      </select>
                                    </div>
      
                                  <popover-content #myPopover 
                                                  title="Comments - {{data.title}}"
                                                  placement="right"
                                                  [animation]="false" 
                                                  [closeOnClickOutside]="true"
                                                  [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                              <span class="">
                                                <div class="textarea_readonly">
                                                <textarea class="form-control vision_txt_area_placeholder" ngModel="" #newListItem name="newListItem" rows="6" placeholder="Write your comments here.."></textarea>
                                                </div>
                                                <button type="button" class="btn pull-left cancel_but" (click)="data.GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel </button>
                                                <button type="button" [disabled]="newListItem.value.length < 1" [ngClass]="newListItem.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                                (click)="data.GrowthPositionSubmitted = true;data.GrowthPositionInAccountClicked = false;incrementAdditional_details() ;myPopover.hide()">Submit</button>
                                              </span>
                                  </popover-content>
                              </div>
                           </div>
                         </div>
                        </div>
                        <div *ngFor="let data of WithoutInputFields_AdditionalDetails">
                          <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20"
                            *ngIf="loggedin_user == 'account_requestor'">
                            <div (clickOutside)="data.GrowthPositionInAccountClicked =false">
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                  <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{data.title}}">{{data.title}}</label>
                                    <button [popoverOnHover]="false"
                                            [popoverCloseOnMouseOutside]="false"
                                            [popoverCloseOnClickOutside]="true"
                                            [popover]="myPopover"
                                            (click)="toggleComment()"
                                            (keypress)="toggleComment()"
                                            class="button_messagespophover" >
                                          <span  [ngClass]="data.GrowthPositionSubmitted?'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'" >
                                          <span class="sr-only" >{{data.title}} message</span>
                                          </span> 
                                    </button>
                                    
                                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text acc_txtarea" 
                                      *ngIf="data.control=='input'" id="{{data.title}}" name="text" type="text" placeholder="{{data.data_content}}">
      
                                      <div class="customized-select " *ngIf="data.control=='select'">
                                        <span class="caret color-azure"></span>
                                        <select id="{{data.title}}" role="listbox" class="pad-left10 acc_txtarea">
                                          <option value="Face to Face">Architecture</option>
                                          <option value="Virtual Meeting">Business</option>
                                          <option value="Telephonic Conversation">Farming</option>
                                        </select>
                                      </div>
      
                                    <popover-content #myPopover 
                                                    placement="right"
                                                    [animation]="false" 
                                                    [closeOnClickOutside]="true"
                                                    [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                   <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad " >
                                                    <div class="scroll-window" slimScroll  >
                                                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1">
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p class="pstyles_acc"><b  class="bstyles_acc">CSO</b> (12 Jan 2019 at 15:20)</p>
                                                          </div>
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p>Lorem ipsum dolor sit amet,  consectetur adipiscing elit, sed do eiusmod tempor 
                                                              incididunt ut labore et dolore magna aliqua.</p>
                                                          </div>
                                                        </div>
                                                      </div>
      
                                                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mt20">
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p class="pstyles_acc"><b  class="bstyles_acc" >SBU</b> (12 Jan 2019 at 15:20)</p>
                                                          </div>
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p> Lorem ipsum dolor sit amet,  consectetur adipiscing elit, sed do eiusmod tempor 
                                                              incididunt ut labore et dolore magna aliqua.</p>
                                                          </div>
                                                        </div>
                                                      </div>
                                                     </div>
                                                   </div> 
                                                <span class="">
                                                  <div class="textarea_readonly">
                                                  <textarea class="form-control vision_txt_area_placeholder" ngModel="" #newListItem name="newListItem" rows="1" placeholder="Write your comments here.."></textarea>
                                                  </div>
                                                  <button type="button" class="btn pull-left cancel_but" (click)="data.GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel </button>
                                                  <button type="button" [disabled]="newListItem.value.length < 1" [ngClass]="newListItem.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                                  (click)="data.GrowthPositionSubmitted = true;data.GrowthPositionInAccountClicked = false;incrementAdditional_details() ;myPopover.hide()">Submit</button>
                                                </span>
                                    </popover-content>
                                </div>
                            </div>
                          </div>
                        </div>-->
                                <div class="col-12 float-left no_pad">
                                    <div class="col-12 float-left no_pad" formArrayName="AdditionalDetails">
                                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left no_pad" *ngFor="let address of AdditionalDetails.controls; let i=index">
                                            <div class="col-12  float-left  mt20 no_pad_mobile">
                                                <div (clickOutside)="WithoutInputFields_AdditionalDetails[i].GrowthPositionInAccountClicked =false">
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                                        <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{WithoutInputFields_AdditionalDetails[i].title}}" [ngClass]="WithoutInputFields_AdditionalDetails[i].control=='toggle' ? 'toggle_left' : ''" matTooltip="{{WithoutInputFields_AdditionalDetails[i].tooltip}}">{{WithoutInputFields_AdditionalDetails[i].title}}
                              <span *ngIf="WithoutInputFields_AdditionalDetails[i].isRequired" class="asteriq"> *
                              </span></label>
                                                        <button [popoverOnHover]="false" [popoverCloseOnMouseOutside]="false" [popoverCloseOnClickOutside]="true" [popover]="myPopoverAdditionalDetails" (onShown)="AdditionalExpandContent(WithoutInputFields_AdditionalDetails[i].title,WithoutInputFields_AdditionalDetails[i])"
                                                            (onHidden)="AdditionalRestoreContent(WithoutInputFields_AdditionalDetails[i].title,WithoutInputFields_AdditionalDetails[i])" [ngClass]="WithoutInputFields_AdditionalDetails[i].control== 'toggle' ? 'toggle_left_toggle' : ''"
                                                            class="button_messagespophover">
                              <!-- (click)="AdditionaltoggleComment(WithoutInputFields_AdditionalDetails[i].title)" (keypress)="AdditionaltoggleComment(WithoutInputFields_AdditionalDetails[i].title)" -->
                              <span
                                [ngClass]="(WithoutInputFields_AdditionalDetails[i]['RequestHistoryComments'] || WithoutInputFields_AdditionalDetails[i]['isCommented'])? 'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'">
                                <span class="sr-only">{{WithoutInputFields_AdditionalDetails[i].title}} message</span>
                              </span>
                            </button>

                                                        <!-- <div class="customized-select acc_txtarea"
                                    *ngIf="WithoutInputFields_AdditionalDetails[i].control=='select'">
                                    <span class="caret color-azure"></span>
                                    <select id="{{WithoutInputFields_AdditionalDetails[i].title}}" [formControlName]="i"
                                      role="listbox" class="pad-left10 acc_txtarea">
                                      <option value=""> Select {{WithoutInputFields_AdditionalDetails[i].title}} </option>
                                      <option [value]="item.Id"
                                        *ngFor="let item of WithoutInputFields_AdditionalDetails[i].data">{{item.Value}}
                                      </option>
                                    </select>
                                    <p *ngIf="submitted && address.errors && address.errors.required"
                                      class="error-message custom-msg top-40">
                                      {{WithoutInputFields_AdditionalDetails[i].title}} is required</p>
                                  </div> -->

                                                        <!-- SELECT DROPDOWN STARTS -->

                                                        <div class="col-12 no_pad float-left  mobile-select-box" *ngIf="WithoutInputFields_AdditionalDetails[i].control=='select'">
                                                            <div class="customized-select">
                                                                <span class="caret color-azure"></span>
                                                                <select id="{{WithoutInputFields_AdditionalDetails[i].title}}" [formControlName]="i" role="listbox" class="pad-left10 acc_txtarea">
                                  <option value=""> Select {{WithoutInputFields_AdditionalDetails[i].title}} </option>
                                  <option [value]="item.Id"
                                    *ngFor="let item of WithoutInputFields_AdditionalDetails[i].data">{{item.Value}}
                                  </option>
                                </select>
                                                                <p *ngIf="submitted && address.errors && address.errors.required" class="error-message custom-msg top-40">
                                                                    {{WithoutInputFields_AdditionalDetails[i].title}} is required</p>
                                                            </div>
                                                        </div>

                                                        <div *ngIf="WithoutInputFields_AdditionalDetails[i].control=='select'" class="col-12 no_pad float-left web-select-box review-select">
                                                            <mat-form-field class="col-12 no_pad float-left">
                                                                <!-- <mat-label>Entity type</mat-label> -->
                                                                <mat-select disableOptionCentering panelClass="custom-Select-panel-class" class="select-focus pad-left10 acc_txtarea" id="{{WithoutInputFields_AdditionalDetails[i].title}}" [formControlName]="i" role="listbox" [attr.aria-required]="WithoutInputFields_AdditionalDetails[i].isRequired? true: 'false'"
                                                                    [class.select-holder]="AdditionalDetails.controls[i].value == ''" [ngClass]="submitted && address.errors && address.errors.required ? 'border-red':border-grey">
                                                                    <mat-option value="" class="select-holder">Select {{WithoutInputFields_AdditionalDetails[i].title}}
                                                                    </mat-option>
                                                                    <mat-option [value]="item.Id" matTooltip="{{item.Value}}" id="{{WithoutInputFields_AdditionalDetails[i].title}}" *ngFor="let item of WithoutInputFields_AdditionalDetails[i].data">
                                                                        {{item.Value}}
                                                                    </mat-option>
                                                                </mat-select>
                                                                <p *ngIf="submitted && address.errors && address.errors.required" class="error-message custom-msg top-40">
                                                                    {{WithoutInputFields_AdditionalDetails[i].title}} is required</p>
                                                            </mat-form-field>
                                                        </div>
                                                        <!-- SELECT DROPDOWN ENDS -->

                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" *ngIf="WithoutInputFields_AdditionalDetails[i].control=='input'">
                                                            <input (keypress)="(WithoutInputFields_AdditionalDetails[i].AttributeName == 'fortuneranking' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'grossprofit' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'revenue' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'operatingmargin' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'marketvalue' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'returnonequity' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'creditscore')?validate.maxValueValidation($event, AdditionalDetails.controls[i].value,WithoutInputFields_AdditionalDetails[i].AttributeName):''"
                                                                (keydown)="(WithoutInputFields_AdditionalDetails[i].AttributeName == 'fortuneranking' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'grossprofit' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'revenue' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'operatingmargin' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'marketvalue' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'returnonequity' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'creditscore')? validate.deleteAfterDecimal($event,AdditionalDetails,i, AdditionalDetails.controls[i].value,WithoutInputFields_AdditionalDetails[i].AttributeName):''"
                                                                (cut)="(WithoutInputFields_AdditionalDetails[i].AttributeName == 'fortuneranking' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'grossprofit' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'revenue' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'operatingmargin' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'marketvalue' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'returnonequity' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'creditscore')? validate.deleteAfterDecimal($event,AdditionalDetails,i, AdditionalDetails.controls[i].value,WithoutInputFields_AdditionalDetails[i].AttributeName):''"
                                                                (paste)="(WithoutInputFields_AdditionalDetails[i].AttributeName == 'fortuneranking' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'grossprofit' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'revenue' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'operatingmargin' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'marketvalue' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'returnonequity' || WithoutInputFields_AdditionalDetails[i].AttributeName == 'creditscore')? validate.deleteAfterDecimal($event,AdditionalDetails,i, AdditionalDetails.controls[i].value,WithoutInputFields_AdditionalDetails[i].AttributeName):''"
                                                                class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  acc_txtarea h-40 label-input" id="WithoutInputFields_AdditionalDetails[i].title" name="ConversationName" autocomplete="off" type="text"
                                                                placeholder="Enter {{(WithoutInputFields_AdditionalDetails[i].title).toLowerCase()}}" [formControlName]="i">

                                                            <p *ngIf="submitted && address.errors && address.errors.required" class="error-message custom-msg top-40">
                                                                {{WithoutInputFields_AdditionalDetails[i].title}} is required</p>
                                                            <!-- <span class="mdi mdi-magnify"></span> -->
                                                        </div>

                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" *ngIf="WithoutInputFields_AdditionalDetails[i].control=='autocomplete'">
                                                            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="{{WithoutInputFields_AdditionalDetails[i].title}}" name="contactSBU" #auto autocomplete="off" type="text" [formControlName]="i" placeholder="Search {{(WithoutInputFields_AdditionalDetails[i].title).toLowerCase()}}"
                                                                (clickOutside)="WithoutInputFields_AdditionalDetails[i].isTyping=false" (click)="autocomplete($event,WithoutInputFields_AdditionalDetails[i].title,i, address, 'AdditionalDetails');WithoutInputFields_AdditionalDetails[i].isTyping=true"
                                                                (keyup)="autocomplete($event,WithoutInputFields_AdditionalDetails[i].title,i, address, 'AdditionalDetails');WithoutInputFields_AdditionalDetails[i].isTyping=true" [attr.aria-required]="WithoutInputFields_AdditionalDetails[i].isRequired? true: 'false'"
                                                                [ngClass]="{'error': AdditionalDetails.controls[i]?.errors && submitted}">
                                                            <p *ngIf="submitted && address.errors && address.errors.required" class="error-message custom-msg top-40">
                                                                {{WithoutInputFields_AdditionalDetails[i].title}} is required</p>
                                                            <span class="mdi mdi-magnify"></span>
                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border-right float-left top32  zindex_border no_pad standard-border color-azure
                                          suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="WithoutInputFields_AdditionalDetails[i].isTyping">
                                                                <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                                                                    <ul class=" list-group mr2 sort-dropdown">
                                                                        <li class="list-group-item h-40 p-4-10" (click)="auto.value=item.name;selectedValue(item,i,'AdditionalDetails',WithoutInputFields_AdditionalDetails, ind)" *ngFor="let item of WithoutInputFields_AdditionalDetails[i].data; let ind = index">
                                                                            <label for="inti_name" class="float-left name">
                                          <span class="d-block list-name"> {{item.Name}} </span>
                                          </label>

                                                                        </li>
                                                                    </ul>
                                                                </perfect-scrollbar>


                                                                <span *ngIf="WithoutInputFields_AdditionalDetails[i].isAdvanceLookUp" class="db-search" (click)="openadvancetabs('WithoutInputFields_AdditionalDetails',WithoutInputFields_AdditionalDetails,AdditionalDetails,'AdditionalDetails', i)" (keypress)="openadvancetabs('WithoutInputFields_AdditionalDetails',WithoutInputFields_AdditionalDetails,AdditionalDetails,'AdditionalDetails', i)">
                                  <button id="{{WithoutInputFields_AdditionalDetails[i].data?.length+1}}" role="option"
                                    tabindex="0" aria-disabled="false" type="button" class="button-search"
                                    [class.active]="WithoutInputFields_AdditionalDetails[i].data?.length+1 == arrowkeyLocation">
                                    <span class="mdi mdi-file-outline"></span> Advance look up
                                                                </button>
                                                                </span>


                                                            </div>
                                                        </div>

                                                        <popover-content #myPopoverAdditionalDetails title="{{WithoutInputFields_AdditionalDetails[i].iscreate ? 'Edit field' :getBussinesspopoverTitle(WithoutInputFields_AdditionalDetails[i].title) + charLimitMessage(WithoutInputFields_AdditionalDetails[i])}}"
                                                            placement="right" [animation]="false" [closeOnClickOutside]="true" [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                            <div>
                                                                <div *ngIf="WithoutInputFields_AdditionalDetails[i].RequestHistoryComments" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad ">
                                                                    <div class="scroll-window" slimScroll>
                                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mb20" *ngFor="let item of WithoutInputFields_AdditionalDetails[i].RequestHistoryComments">
                                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                                    <p class="pstyles_acc"><b class="bstyles_acc">{{(item.CommentedBy && item.CommentedBy.FullName)?item.CommentedBy.FullName:'NA'}}
                                              <{{(item.CommentedBy && item.CommentedBy.Email)?item.CommentedBy.Email:'NA'}}>
                                            </b> ({{item.CommentedOn| date: 'dd MMM yyyy' }} at {{item.CommentedOn | date: 'HH:mm ' }})
                                                                                    </p>
                                                                                </div>
                                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                                    <p>{{item.Comment}}</p>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </div>
                                                                <!--<span class="" *ngIf="(loggedin_user == 'sbu' &&  accountDetails.Status.Id==184450006) || (loggedin_user == 'cso' && accountDetails.Status.Id==184450007)">-->
                                                                <span class="">
                                  <div class="textarea_readonly">
                                    <textarea class="form-control vision_txt_area_placeholder" #newListItem4
                                      (keyup)="newListItem4.value; checCharLimit(newListItem4.value,WithoutInputFields_AdditionalDetails[i]);checkBottomMargin(WithoutInputFields_AdditionalDetails[i])"
                                      name="newListItem" rows="6" placeholder="Write your comments here.."
                                      maxlength="2000"></textarea>
                                  </div>
                                  <button type="button" class="btn pull-left cancel_but"
                                    (click)="WithoutInputFields_AdditionalDetails[i].GrowthPositionInAccountClicked = false;myPopoverAdditionalDetails.hide() ;removeComment(WithoutInputFields_AdditionalDetails[i], newListItem4 , WithoutInputFields_AdditionalDetails, 'AdditionalDetails',i);expandAccordian = false">Cancel
                                  </button>
                                  <button type="button" [disabled]="newListItem4.value.length < 1"
                                    [ngClass]="newListItem4.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                    (click)="WithoutInputFields_AdditionalDetails[i].GrowthPositionSubmitted = true;WithoutInputFields_AdditionalDetails[i].GrowthPositionInAccountClicked = false;popoverSubmitDataAdd(WithoutInputFields_AdditionalDetails[i].title, newListItem4.value) ;
                                                      myPopoverAdditionalDetails.hide();WithoutInputFields_AdditionalDetails[i].iscreate=true;build_attribute_comments(WithoutInputFields_AdditionalDetails[i], newListItem4.value,WithoutInputFields_AdditionalDetails, 'AdditionalDetails',i) ;expandAccordian= false">Save</button>
                                </span>
                                                            </div>

                                                            <!-- <div
                                  *ngIf="loggedin_user == 'cso' || loggedin_user == 'sbu'  || loggedin_user == 'activate'|| loggedin_user == 'view'">
                                  <span class="">
                                    <div class="textarea_readonly">
                                      <textarea class="form-control vision_txt_area_placeholder" #newListItem5
                                        name="newListItem" rows="6" placeholder="Write your comments here.."></textarea>
                                    </div>
                                    <button type="button" class="btn pull-left cancel_but"
                                      (click)="WithoutInputFields_AdditionalDetails[i].GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel
                                    </button>
                                    <button type="button" [disabled]="newListItem5.value.length < 1"
                                      [ngClass]="newListItem5.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                      (click)="WithoutInputFields_AdditionalDetails[i].GrowthPositionSubmitted = true;WithoutInputFields_AdditionalDetails[i].GrowthPositionInAccountClicked = false;popoverSubmitDataAdd(WithoutInputFields_AdditionalDetails[i].title, newListItem5.value);myPopover.hide();
                                      build_attribute_comments(WithoutInputFields_AdditionalDetails[i].AttributeGuid, newListItem5.value)">Submit</button>
                                  </span>
                                </div> -->
                                                        </popover-content>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </mat-expansion-panel>
                    </div>
                    <!-- First block accout details field  ends here-->

                    <!-- second block additional details field  starts from here-->
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left card mt20 no_pad margin-btm55">
                        <mat-expansion-panel [expanded]="accountOwnerPanel" (click)="expand(2)" [disabled]="editable2" (opened)="panelOpenState = true" (closed)="panelOpenState = false">

                            <mat-expansion-panel-header>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left ">
                                        <h2 class="col-10 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad accordian-heading pad-top-8 ">
                                            Account owner and other details</h2>
                                        <div class="col-2 no_pad count_cls top-6">
                                            <span [ngClass]="accountownercount <= '9' ? 'count_txt' : 'count_txt2' ">{{accountownercount}}</span>
                                        </div>
                                    </div>
                                </div>
                            </mat-expansion-panel-header>

                            <div class="col-12 no_pad border-bottmaccordian"></div>

                            <!--<span class="border-bottm"></span>-->
                            <!--<div class="col-12 no_pad border-bottmaccordian"></div>-->
                            <div class="col-12 float-left no_pad" [ngClass]="OwnerMB">
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad mb20">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left padding_left">
                                        <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-three pad-top-8 mt10">
                                            Wipro engagement details </h2>
                                    </div>
                                    <!--<div  *ngFor="let data of WithoutInputFields_SecondaryDetails" >
                           <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20" *ngIf="loggedin_user == 'cso' || loggedin_user == 'sbu'  || loggedin_user == 'activate'|| loggedin_user == 'view'" >
                            <div (clickOutside)="data.GrowthPositionInAccountClicked =false">
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2" >
                                   <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{data.title}}" [ngClass]="data.control=='toggle' ? 'toggle_left' : ''" >{{data.title}}</label>
                                    <button [popoverOnHover]="false"
                                            [popoverCloseOnMouseOutside]="false"
                                            [popoverCloseOnClickOutside]="true"
                                            [popover]="myPopover"
                                            (click)="toggleComment()"
                                            (keypress)="toggleComment()"
                                            [ngClass]="data.control== 'toggle' ? 'toggle_left_toggle' : ''"
                                             class="button_messagespophover"
                                            >
                                          <span   [ngClass]="data.GrowthPositionSubmitted == true  ? 'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'" >
                                          <span class="sr-only" >{{data.title}} message</span>
                                          </span> 
                                    </button>
                                  
                                    
                                    <div class="customized-select acc_txtarea" *ngIf="data.control=='select'">
                                        <span class="caret color-azure"></span>
                                        <select id="{{data.title}}" role="listbox" class="pad-left10 acc_txtarea" >
                                          <option value="Face to Face">{{data.category}}</option>
                                          <option value="Virtual Meeting">Business</option>
                                          <option value="Telephonic Conversation">Farming</option>
                                        </select>
                                    </div>
      
                                    <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input" *ngIf="data.control=='div'">
                                      <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " id="calStart"
                                      [matDatepicker]="picker" title="DD-MMM-YYYY" placeholder="DD-MMM-YYYY">
                                      <mat-datepicker-toggle matSuffix [for]="picker" aria-label="calendar" (click)="picker.open()" (keypress)="picker.open()">
                                      </mat-datepicker-toggle>
                                      <mat-datepicker #picker></mat-datepicker>
                                    </div>
      
                                    <div class="float-left  customized-input slidetoggle_toggle customized-slider" *ngIf="data.control=='toggle'">
                                      <mat-slide-toggle checked="false" ></mat-slide-toggle>
                                    </div>
      
                                    <popover-content #myPopover 
                                                    title="Comments - {{data.title}}"
                                                    placement="right"
                                                    [animation]="false" 
                                                    [closeOnClickOutside]="true"
                                                    [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                <span class="">
                                                  <div class="textarea_readonly">
                                                  <textarea class="form-control vision_txt_area_placeholder" ngModel="" #newListItem name="newListItem" rows="6" placeholder="Write your comments here.."></textarea>
                                                  </div>
                                                  <button type="button" class="btn pull-left cancel_but" (click)="data.GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel </button>
                                                  <button type="button" [disabled]="newListItem.value.length < 1" [ngClass]="newListItem.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'" 
                                                  (click)="data.GrowthPositionSubmitted = true;data.GrowthPositionInAccountClicked = false;increment() ;myPopover.hide()">Submit</button>
                                                </span>
                                    </popover-content>
                                </div>
                            </div>
                            </div>
                          </div>-->
                                    <!--<div  *ngFor="let data of WithoutInputFields_SecondaryDetails" >
                           <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20" *ngIf="loggedin_user == 'account_requestor'">
                            <div (clickOutside)="data.GrowthPositionInAccountClicked =false">
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2" >
                                   <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{data.title}}" [ngClass]="data.control=='toggle' ? 'toggle_left' : ''" >{{data.title}}</label>
                                    <button [popoverOnHover]="false"
                                            [popoverCloseOnMouseOutside]="false"
                                            [popoverCloseOnClickOutside]="true"
                                            [popover]="myPopover"
                                            (click)="toggleComment()"
                                            (keypress)="toggleComment()"
                                            [ngClass]="data.control== 'toggle' ? 'toggle_left_toggle' : ''"
                                             class="button_messagespophover"
                                            >
                                          <span   [ngClass]="data.GrowthPositionSubmitted == true  ? 'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'" >
                                          <span class="sr-only" >{{data.title}} message</span>
                                          </span> 
                                    </button>
                                  
                                    
                                    <div class="customized-select acc_txtarea" *ngIf="data.control=='select'">
                                        <span class="caret color-azure"></span>
                                        <select id="{{data.title}}" role="listbox" class="pad-left10 acc_txtarea" >
                                          <option value="Face to Face">{{data.category}}</option>
                                          <option value="Virtual Meeting">Business</option>
                                          <option value="Telephonic Conversation">Farming</option>
                                        </select>
                                    </div>
      
                                    <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input" *ngIf="data.control=='div'">
                                      <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " id="calStart"
                                      [matDatepicker]="picker" title="DD-MMM-YYYY" placeholder="DD-MMM-YYYY">
                                      <mat-datepicker-toggle matSuffix [for]="picker" aria-label="calendar" (click)="picker.open()" (keypress)="picker.open()">
                                        
                                      </mat-datepicker-toggle>
                                      <mat-datepicker #picker></mat-datepicker>
                                    </div>
      
                                    <div class="float-left  customized-input slidetoggle_toggle customized-slider" *ngIf="data.control=='toggle'">
                                      <mat-slide-toggle checked="false" ></mat-slide-toggle>
                                    </div>
      
                                    <popover-content #myPopover 
                                                    placement="right"
                                                    [animation]="false" 
                                                    [closeOnClickOutside]="true"
                                                    [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                   <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad " >
                                                    <div class="scroll-window" slimScroll  >
                                                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1">
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p class="pstyles_acc"><b  class="bstyles_acc">CSO</b> (12 Jan 2019 at 15:20)</p>
                                                          </div>
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p>Lorem ipsum dolor sit amet,  consectetur adipiscing elit, sed do eiusmod tempor 
                                                              incididunt ut labore et dolore magna aliqua.</p>
                                                          </div>
                                                        </div>
                                                      </div>
      
                                                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mt20">
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p class="pstyles_acc"><b  class="bstyles_acc" >SBU</b> (12 Jan 2019 at 15:20)</p>
                                                          </div>
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                            <p> Lorem ipsum dolor sit amet,  consectetur adipiscing elit, sed do eiusmod tempor 
                                                              incididunt ut labore et dolore magna aliqua.</p>
                                                          </div>
                                                        </div>
                                                      </div>
                                                     </div>
                                                   </div>
                                                <span class="">
                                                  <div class="textarea_readonly">
                                                  <textarea class="form-control vision_txt_area_placeholder" ngModel="" #newListItem name="newListItem" rows="1" placeholder="Write your comments here.."></textarea>
                                                  </div>
                                                  <button type="button" class="btn pull-left cancel_but" (click)="data.GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel </button>
                                                  <button type="button" [disabled]="newListItem.value.length < 1" [ngClass]="newListItem.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'" 
                                                  (click)="data.GrowthPositionSubmitted = true;data.GrowthPositionInAccountClicked = false;increment() ;myPopover.hide()">Submit</button>
                                                </span>
                                    </popover-content>
                                </div>
                            </div>
                            </div>
                          </div>-->
                                    <div class="col-12 float-left no_pad">
                                        <div class="col-12 float-left no_pad" formArrayName="SecondaryDetails">
                                            <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20 no_pad_mobile" *ngFor="let address of SecondaryDetails.controls; let i=index">
                                                <div class="col-12  float-left no_pad">
                                                    <div (clickOutside)="WithoutInputFields_SecondaryDetails[i].GrowthPositionInAccountClicked =false">
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                                            <label class="col-xs-12 acc_vision_txtarea_txt mt10" matTooltip="{{accservive.chatBot && WithoutInputFields_SecondaryDetails[i].title =='Pursued opportunity scope/tenure/other Remarks'? WithoutInputFields_SecondaryDetails[i].title:WithoutInputFields_SecondaryDetails[i].tooltip }}"
                                                                for="{{WithoutInputFields_SecondaryDetails[i].title}}"><span [class.txtarea-chat-label]="accservive.chatBot && WithoutInputFields_SecondaryDetails[i].title =='Pursued opportunity scope/tenure/other Remarks'"> {{WithoutInputFields_SecondaryDetails[i].title}} </span>
                                <span *ngIf="WithoutInputFields_SecondaryDetails[i].isRequired" class="asteriq"> *
                                </span></label>
                                                            <span *ngIf="WithoutInputFields_SecondaryDetails[i].title === 'New age business'" class="mdi mdi-information-outline info-icon" role="button" tabindex="0" aria-label="information" matTooltip="Marks the account as a New Age Business account to keep focus on these accounts. New Age Businesses are accounts which could be potential unicorns, and could soon be your top customers."></span>
                                                            <ng-container *ngIf="WithoutInputFields_SecondaryDetails[i].title === 'Government account'">
                                                                <span class="mdi mdi-information-outline info-icon" role="button" tabindex="0" aria-label="information"></span>
                                                                <div class="toolTipDiv ">
                                                                    <span class="toolTipSpan">Government accounts means and include agencies operating
                                    through state-owned
                                    and state-controlled entities including the following:</span>
                                                                    <ul class="toolTipUl">
                                                                        <li class="toolTipLi">Public sector undertakings</li>
                                                                        <li class="toolTipLi">Government run enterprises</li>
                                                                        <li class="toolTipLi">Enterprises where key officers and directors are appointed by the government.
                                                                        </li>
                                                                        <li class="toolTipLi">Government funded /grants organizations</li>
                                                                        <li class="toolTipLi">Enterprises is widely perceived and understood to be performing governmental functions
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </ng-container>

                                                            <button [popoverOnHover]="false" [popoverCloseOnMouseOutside]="false" [popoverCloseOnClickOutside]="true" [popover]="myPopoverSecondaryDetails" (click)="toggleComment()" (keypress)="toggleComment()" class="button_messagespophover" (onHidden)="restoreHeight(WithoutInputFields_SecondaryDetails[i].title,WithoutInputFields_SecondaryDetails[i])"
                                                                (onShown)="setHeight(WithoutInputFields_SecondaryDetails[i].title,WithoutInputFields_SecondaryDetails[i])">
                                <span
                                  [ngClass]="(WithoutInputFields_SecondaryDetails[i]['RequestHistoryComments'] || WithoutInputFields_SecondaryDetails[i]['isCommented']) ? 'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'">
                                  <span class="sr-only">{{WithoutInputFields_SecondaryDetails[i].title}} message</span>
                                </span>
                              </button>

                                                            <div class="customized-select acc_txtarea mobile-select-box" *ngIf="WithoutInputFields_SecondaryDetails[i].control=='select'">
                                                                <span class="caret color-azure"></span>
                                                                <!--(change)="selected_currency(WithoutInputFields_SecondaryDetails[i],item.Id)"-->
                                                                <select id="{{WithoutInputFields_SecondaryDetails[i].title}}" [formControlName]="i" role="listbox" class="pad-left10 acc_txtarea">
                                  <option value=""> Select
                                    {{(WithoutInputFields_SecondaryDetails[i].title).toLowerCase()}} </option>
                                  <option [value]="item.Id"
                                    *ngFor="let item of WithoutInputFields_SecondaryDetails[i].data">{{item.Value}}
                                  </option>
                                </select>
                                                            </div>
                                                            <div *ngIf="WithoutInputFields_SecondaryDetails[i].control=='select'" class="col-12 no_pad float-left web-select-box review-select">
                                                                <mat-form-field class="col-12 no_pad float-left">
                                                                    <!-- <mat-label>Entity type</mat-label> -->
                                                                    <mat-select disableOptionCentering panelClass="custom-Select-panel-class" class="select-focus pad-left10 acc_txtarea" id="{{WithoutInputFields_SecondaryDetails[i].title}}" [formControlName]="i" role="listbox" [attr.aria-required]="WithoutInputFields_SecondaryDetails[i].isRequired? true: 'false'"
                                                                        [class.select-holder]="SecondaryDetails.controls[i].value == ''">
                                                                        <mat-option value="">Select {{ WithoutInputFields_SecondaryDetails[i].title ==='Revenue category ($Mn)' ?'Revenue category ($Mn)':(WithoutInputFields_SecondaryDetails[i].title).toLowerCase()}}
                                                                        </mat-option>
                                                                        <mat-option [value]="item.Id" matTooltip="{{item.Value}}" id="{{WithoutInputFields_SecondaryDetails[i].title}}" *ngFor="let item of WithoutInputFields_SecondaryDetails[i].data">
                                                                            {{item.Value}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                    <p *ngIf="submitted && address.errors && address.errors.required" class="error-message custom-msg top-40">
                                                                        {{WithoutInputFields_SecondaryDetails[i].title}} is required</p>
                                                                </mat-form-field>
                                                            </div>

                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" *ngIf="WithoutInputFields_SecondaryDetails[i].control=='autocomplete'">

                                                                <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="{{WithoutInputFields_SecondaryDetails[i].title}}" name="contactSBU" #auto autocomplete="off" type="text" [formControlName]="i" placeholder="Search {{(WithoutInputFields_SecondaryDetails[i].title).toLowerCase()}}"
                                                                    (clickOutside)="WithoutInputFields_SecondaryDetails[i].isTyping=false" (click)="autocomplete($event,WithoutInputFields_SecondaryDetails[i].title,i, address, 'SecondaryDetails');WithoutInputFields_SecondaryDetails[i].isTyping=true"
                                                                    (keyup)="autocomplete($event,WithoutInputFields_SecondaryDetails[i].title,i, address, 'SecondaryDetails');WithoutInputFields_SecondaryDetails[i].isTyping=true;" [attr.aria-required]="WithoutInputFields_SecondaryDetails[i].isRequired ? true:'false'"
                                                                    [ngClass]="{'error': SecondaryDetails.controls[i]?.errors && submitted}">
                                                                <p *ngIf="submitted && address.errors && address.errors.required" class="error-message custom-msg top-40">
                                                                    {{WithoutInputFields_SecondaryDetails[i].title}} is required</p>

                                                                <!--<p *ngIf="submitted && accOwnerSwap.sbu.errors && accOwnerSwap.sbu.errors.required" class="error-message custom-label">SBU is required</p>-->
                                                                <span class="mdi mdi-magnify"></span>
                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border-right float-left top32  zindex_border no_pad standard-border suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="WithoutInputFields_SecondaryDetails[i].isTyping">
                                                                    <perfect-scrollbar style="max-height:160px" class="z-ind-9">


                                                                        <span class="w-100 z-ind-9 float-left bg-white">
                                      <ul class=" list-group  sort-dropdown mr2" role="listbox" id="read"
                                        [ngClass]="{'loader-search':isActivityGroupSearchLoading }">

                                        <li class="list-group-item h-40 p-4-10"
                                          (click)="auto.value=item.name;selectedValue(item,i,'SecondaryDetails',WithoutInputFields_SecondaryDetails,ind )"
                                          *ngFor="let item of WithoutInputFields_SecondaryDetails[i].data; let ind =index;">
                                          <label for="inti_name" class="float-left name">
                                              <span class="d-block list-name">{{item.Name}}</span>
                                                                        </label>
                                                                        </li>
                                                                        <li class="d-block list-name h-40 p-10" *ngIf="WithoutInputFields_SecondaryDetails[i]['message']&& !isActivityGroupSearchLoading">
                                                                            {{WithoutInputFields_SecondaryDetails[i]['message']}}</li>
                                                                        </ul>
                                                                        </span>
                                                                    </perfect-scrollbar>


                                                                    <span *ngIf="WithoutInputFields_SecondaryDetails[i].isAdvanceLookUp" class="db-search" (click)="openadvancetabs('WithoutInputFields_SecondaryDetails',WithoutInputFields_SecondaryDetails,SecondaryDetails,'SecondaryDetails', i)" (keypress)="openadvancetabs('WithoutInputFields_SecondaryDetails',WithoutInputFields_SecondaryDetails,SecondaryDetails,'SecondaryDetails', i)">
                                    <button id="{{WithoutInputFields_SecondaryDetails[i].data?.length+1}}" role="option"
                                      tabindex="0" aria-disabled="false" type="button" class="button-search"
                                      [class.active]="WithoutInputFields_SecondaryDetails[i].data?.length+1 == arrowkeyLocation">
                                      <span class="mdi mdi-file-outline"></span> Advance look up
                                                                    </button>
                                                                    </span>


                                                                </div>
                                                            </div>
                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" *ngIf="WithoutInputFields_SecondaryDetails[i].control=='textarea'">
                                                                <textarea class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text text-height-70 wipro_txtarea" id="{{WithoutInputFields_SecondaryDetails[i].title}}" name="text" type="text" [formControlName]="i" *ngIf="WithoutInputFields_SecondaryDetails[i].control=='textarea'"
                                                                    placeholder="Enter {{(WithoutInputFields_SecondaryDetails[i].title).toLowerCase()}}" [attr.aria-required]="WithoutInputFields_SecondaryDetails[i].isRequired ? true:'false'" maxlength="2000"
                                                                    [ngClass]="{'error': SecondaryDetails.controls[i]?.errors && submitted}"></textarea>
                                                                <p *ngIf="submitted && address.errors && address.errors.required" class="col-12 no_pad float-left error-message-text-area">
                                                                    {{WithoutInputFields_SecondaryDetails[i].title}} is required</p>
                                                            </div>
                                                            <!-- <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input" *ngIf="WithoutInputFields_SecondaryDetails[i].control=='div'">
                                                                </div>
                                                            </div>

                                                            <textarea class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text text-height-70 wipro_txtarea" id="{{WithoutInputFields_SecondaryDetails[i].title}}" name="text" type="text" [formControlName]="i" *ngIf="WithoutInputFields_SecondaryDetails[i].control=='textarea'"
                                                                placeholder="Enter {{(WithoutInputFields_SecondaryDetails[i].title).toLowerCase()}}" [attr.aria-required]="WithoutInputFields_SecondaryDetails[i].isRequired ? true:'false'"></textarea>
                                                            <p *ngIf="submitted && address.errors && address.errors.required" class="col-12 float-left error-message-text-area">
                                                                {{WithoutInputFields_SecondaryDetails[i].title}} is required</p>
                                                             <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input" *ngIf="WithoutInputFields_SecondaryDetails[i].control=='div'">
                                                    <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " id="calStart" [formControlName]="i"
                                                    [matDatepicker]="picker" title="DD-MMM-YYYY" placeholder="DD-MMM-YYYY">
                                                    <mat-datepicker-toggle matSuffix [for]="picker" aria-label="calendar"  (click)="picker.open()" (keypress)="picker.open()">    
                                                    </mat-datepicker-toggle>
                                                    <mat-datepicker #picker></mat-datepicker>
                                                </div> -->

                                                            <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" *ngIf="WithoutInputFields_SecondaryDetails[i].control=='input'">
                                                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  acc_txtarea h-40 label-input" id="WithoutInputFields_SecondaryDetails[i].title" name="ConversationName"
                                                    autocomplete="off" type="text" placeholder="Search" [formControlName]="i">
                                                </div> -->


                                                            <!--<div class="float-left  customized-input slidetoggle_toggle customized-slider" *ngIf="WithoutInputFields_SecondaryDetails[i].control=='toggle'">
                    <mat-slide-toggle (change)="setSecondryFlag($event,WithoutInputFields_SecondaryDetails[i].key)" [checked]="accountCreationObj['prospect'] && accountCreationObj['prospect'][WithoutInputFields_SecondaryDetails[i].key]"
                        [formControlName]="i"></mat-slide-toggle>
                </div>-->
                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName mt10 mb10" *ngIf="WithoutInputFields_SecondaryDetails[i].control=='toggle'">
                                                                <mat-radio-group aria-labelledby="keyconGov">
                                                                    <mat-radio-button [value]="true" (change)="setSecondryFlag($event,WithoutInputFields_SecondaryDetails[i].key)" [checked]="accountCreationObj['prospect'] && accountCreationObj['prospect'][WithoutInputFields_SecondaryDetails[i].key]" class="pr30">
                                                                        Yes</mat-radio-button>
                                                                    <mat-radio-button [value]="false" (change)="setSecondryFlag($event,WithoutInputFields_SecondaryDetails[i].key)" [checked]="accountCreationObj['prospect'] && !accountCreationObj['prospect'][WithoutInputFields_SecondaryDetails[i].key]">
                                                                        No
                                                                    </mat-radio-button>
                                                                </mat-radio-group>
                                                            </div>

                                                            <popover-content #myPopoverSecondaryDetails title="{{WithoutInputFields_SecondaryDetails[i].iscreate? 'Edit field' :getBussinesspopoverTitle(WithoutInputFields_SecondaryDetails[i].title)+ charLimitMessage(WithoutInputFields_SecondaryDetails[i])}}" placement="right"
                                                                [animation]="false" [closeOnClickOutside]="true" [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                                <div>
                                                                    <div *ngIf="WithoutInputFields_SecondaryDetails[i].RequestHistoryComments" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad ">
                                                                        <div class="scroll-window" slimScroll>
                                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mb20" *ngFor="let item of WithoutInputFields_SecondaryDetails[i].RequestHistoryComments">
                                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                                        <p class="pstyles_acc"><b class="bstyles_acc">{{(item.CommentedBy && item.CommentedBy.FullName)?item.CommentedBy.FullName:'NA'}}
                                                <{{(item.CommentedBy && item.CommentedBy.Email)?item.CommentedBy.Email:'NA'}}>
                                              </b> ({{item.CommentedOn| date: 'dd MMM yyyy' }} at {{item.CommentedOn | date: 'HH:mm ' }})
                                                                                        </p>
                                                                                    </div>
                                                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                                        <p>{{item.Comment}}</p>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                    <!--<span class="" *ngIf="(loggedin_user == 'sbu' &&  accountDetails.Status.Id==184450006) || (loggedin_user == 'cso' && accountDetails.Status.Id==184450007)">-->
                                                                    <span class="">
                                    <div class="textarea_readonly">
                                      <textarea class="form-control vision_txt_area_placeholder" #newListItem8
                                        (keyup)="newListItem8.value; checCharLimit(newListItem8.value,WithoutInputFields_SecondaryDetails[i])"
                                        name="newListItem" rows="6" placeholder="Write your comments here.."
                                        maxlength="2000"></textarea>
                                    </div>
                                    <button type="button" class="btn pull-left cancel_but"
                                      (click)="WithoutInputFields_SecondaryDetails[i].GrowthPositionInAccountClicked = false;myPopoverSecondaryDetails.hide();removeComment(WithoutInputFields_SecondaryDetails[i], newListItem8,WithoutInputFields_SecondaryDetails,'SecondaryDetails')">Cancel
                                    </button>
                                    <button type="button" [disabled]="newListItem8.value.length < 1"
                                      [ngClass]="newListItem8.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                      (click)="WithoutInputFields_SecondaryDetails[i].GrowthPositionSubmitted = true;WithoutInputFields_SecondaryDetails[i].GrowthPositionInAccountClicked = false;popoverSubmitData(WithoutInputFields_SecondaryDetails[i].title,newListItem8.value);
                                                                myPopoverSecondaryDetails.hide();WithoutInputFields_SecondaryDetails[i].iscreate=true;build_attribute_comments(WithoutInputFields_SecondaryDetails[i], newListItem8.value,WithoutInputFields_SecondaryDetails,'SecondaryDetails')">Save</button>
                                  </span>
                                                                </div>

                                                                <!-- <div
                                            *ngIf="loggedin_user == 'cso' || loggedin_user == 'sbu'  || loggedin_user == 'activate'|| loggedin_user == 'view'">
                                            <span class="">
                                                <div class="textarea_readonly">
                                                <textarea class="form-control vision_txt_area_placeholder" #newListItem9
                                                    name="newListItem" rows="6" placeholder="Write your comments here.."></textarea>
                                                </div>
                                                <button type="button" class="btn pull-left cancel_but"
                                                (click)="WithoutInputFields_SecondaryDetails[i].GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel
                                                </button>
                                                <button type="button" [disabled]="newListItem9.value.length < 1"
                                                [ngClass]="newListItem9.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                                (click)="WithoutInputFields_SecondaryDetails[i].GrowthPositionSubmitted = true;WithoutInputFields_SecondaryDetails[i].GrowthPositionInAccountClicked = false;popoverSubmitData(WithoutInputFields_SecondaryDetails[i].title, newListItem9.value);myPopover.hide();
                                                build_attribute_comments(WithoutInputFields_SecondaryDetails[i].AttributeGuid, newListItem9.value)">Submit</button>
                                            </span>
                                            </div> -->
                                                            </popover-content>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- <<<<<<< HEAD -->
                                <div class="col-12 no_pad border-bottmaccordian"></div>

                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-leadbtmPophover no_pad mt20" [class.mb25]="!(route_from!='modif_req')">
                                    <!--autocomplete-->
                                    <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel  no_pad_mobile mt20">
                                        <div (clickOutside)="GrowthPositionInAccountClicked =false">
                                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad  CompanyName customized-input">
                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ConversationName3owner" class="label-form">
                            Owner <span class="asteriq"> *
                            </span>
                          </label>
                                                    <button [popoverOnHover]="false" [popoverCloseOnMouseOutside]="false" [popoverCloseOnClickOutside]="true" [popover]="myPopoverowner" (onShown)="OwnerexpandContent('owner')" (onHidden)="OwnerrestoreContent('owner')" class="button_messagespophover button-plus">
                            <!-- (click)="OwnertoggleComment('Owner')" (keypress)="OwnertoggleComment('Owner')" (onHidden)="onPopoverHidden()" -->
                            <span
                              [ngClass]="(AttrComment['AccountOwner'] && AttrComment['AccountOwner']['owner_fullname'] && ((AttrComment['AccountOwner']['owner_fullname']['RequestHistoryComments'] && (AttrComment['AccountOwner']['owner_fullname']['RequestHistoryComments'].length>0) || AttrComment['AccountOwner']['owner_fullname']['isCommented'])))?'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'">
                              <span class="sr-only">Owner message</span>
                            </span>
                          </button>

                                                    <div class="pos-rel w-100 float-left no_pad">
                                                        <input class=" col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input error acc_txtarea" [ngClass]="(submitted && (ownerAccountDetails['owner'].trim()).length==0) ? 'error-border' :(huntingRatio>=8) ? 'border-orange':'border-pink'"
                                                            type="ConversationName" [(ngModel)]="ownerAccountDetails['owner']" id="ConversationName3owner" name="text" placeholder="Search owner" autocomplete='off' (clickOutside)="customerNameSwitch = false"
                                                            (click)="customerNameSwitch = true;SearchAccountOwner($event)" (keyup)="customerNameSwitch = true;SearchAccountOwner($event)" autofocus="true" [disabled]="route_from=='modif_req'" required>
                                                        <p *ngIf="accountCreationObj['prospect'] && accountCreationObj['prospect']['owner']" class="error-message top-38" [ngClass]="(huntingRatio >= 8) ? 'background-orange' : 'background-green'"> Number of hunting accounts: {{huntingRatio}}</p>

                                                        <p *ngIf="submitted && (ownerAccountDetails['owner'].trim()).length==0" class="error-message custom-msg top-40">
                                                            Owner is required</p>

                                                        <span class="mdi mdi-magnify"></span>

                                                    </div>
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  float-left no_pad  border-bottom-4 top63 z-ind-99 bg-white
                              color-azure  border_owner_lookup" *ngIf="customerNameSwitch" [ngClass]="route_from!='modif_req' ? 'pos-abs':'pos-rel owner-rel'">
                                                        <perfect-scrollbar style="max-height:160px">
                                                            <span class="w-100 z-ind-9 float-left bg-white"> </span>
                                                            <ul class="list-group mr2 sort-dropdown cp bg-white" role="listbox" id="read" [ngClass]="{'loader-search':isActivityGroupSearchLoading }">

                                                                <li class=" list-group-item h-40 p-4-10 no_pad" (click)="customerNameSwitch = false;selectedOwner(item,'owner')" *ngFor="let item of WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'owner')].data | filter:ownerAccountDetails['owner']; let ind =index;">
                                                                    <label for="inti_name" class="float-left name">
                                    <span class="d-block list-name">{{item.FullName}}</span>
                                    <!-- <span class="d-block sub-list">{{item.designation}}</span> -->
                                  </label>

                                                                </li>
                                                                <!-- <li class="d-block list-name h-40 p-10" 
                                      *ngIf="WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'owner')].data.length==0 && !isActivityGroupSearchLoading">
      
                                    </li> -->
                                                                <li class="d-block list-name h-40 p-10 padd_space" *ngIf="(WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'owner')].data | filter:ownerAccountDetails['owner']).length == 0 && !isActivityGroupSearchLoading">
                                                                    No results found
                                                                    <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad font-12">
                                    Ensure that you have typed correct legal entity name</span></li>
                                                            </ul>

                                                        </perfect-scrollbar>
                                                    </div>


                                                    <popover-content #myPopoverowner title="Comments - Owner {{charLimitMessage(WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'owner')])}}" placement="right" [animation]="false" [closeOnClickOutside]="true" [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                        <!-- added by KKN start-->
                                                        <div *ngIf="AttrComment['AccountOwner'] && AttrComment['AccountOwner']['owner_fullname'] && AttrComment['AccountOwner']['owner_fullname']['RequestHistoryComments'] && AttrComment['AccountOwner']['owner_fullname']['RequestHistoryComments'].length>0" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad ">
                                                            <div class="scroll-window" slimScroll>
                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mb20" *ngFor="let item of AttrComment['AccountOwner']['owner_fullname'].RequestHistoryComments">
                                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                            <p class="pstyles_acc"><b class="bstyles_acc">{{(item.CommentedBy && item.CommentedBy.FullName)?item.CommentedBy.FullName:'NA'}}
                                          <{{(item.CommentedBy && item.CommentedBy.Email)?item.CommentedBy.Email:'NA'}}>
                                        </b> ({{item.CommentedOn| date: 'dd MMM yyyy' }} at {{item.CommentedOn | date: 'HH:mm ' }})
                                                                            </p>
                                                                        </div>
                                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                            <p>{{item.Comment}}</p>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <!-- added by KKN end-->
                                                        <!--<span class="" *ngIf="(loggedin_user == 'sbu' &&  accountDetails.Status.Id==184450006) || (loggedin_user == 'cso' && accountDetails.Status.Id==184450007)">-->
                                                        <span class="">
                              <div class="textarea_readonly">
                                <textarea class="form-control vision_txt_area_placeholder" #newListItem6
                                  (keyup)="newListItem6.value; checCharLimit(newListItem6.value,WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'owner')])"
                                  name="newListItemO1" rows="6" placeholder="Write your comments here.."
                                  maxlength="2000"></textarea>
                              </div>
                              <button type="button" class="btn pull-left cancel_but"
                                (click)="GrowthPositionInAccountClicked = false;myPopoverowner.hide() ; removeComment1('owner_fullname', newListItem6, 'AccountOwner');OwnerAccordian=false">Cancel
                              </button>
                              <button type="button" [disabled]="newListItem6.value.length < 1"
                                [ngClass]="newListItem6.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                (click)="GrowthPositionSubmittedO1 = true;GrowthPositionInAccountClicked = false;increment() ;myPopoverowner.hide();
                                        build_attribute_comments1('owner_fullname', newListItem6.value);OwnerAccordian=false">Save</button>
                            </span>
                                                    </popover-content>
                                                </div>

                                                <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  float-left no_pad suggestion-box pos-abs border-bottom-4 top65 
                               color-azure z-ind-9" *ngIf="customerName && customerNameSwitch">
                            <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                              <span class="w-100 z-ind-9 float-left bg-white"></span>
                              <ul class=" list-group mr2 sort-dropdown cp"
                                [ngClass]="{'loader-search':isActivityGroupSearchLoading }">
                                <li class="list-group-item h-50 p-4-10 no_pad" (click)="appendcustomer(item)"
                                  *ngFor="let item of customerContact">
      
                                  <div class="float-left naming-tags child-middle bg-ash">
                                                <span class="initials">{{item.initials}}</span>
                                            </div>
                          <label for="inti_name" class="float-left name">
                            <span class="d-block list-name">{{item.FullName}}</span>
                            <span class="d-block sub-list">{{item.designation}}</span>
                          </label>
                         
                          </li>
      
                          <li class="d-block list-name h-40 p-10"
                            *ngIf="customerContact['message'] && !isActivityGroupSearchLoading">No results found
                            <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad font-12">
                              Ensure that you have typed correct legal entity name</span></li>
                          </ul>
                          </perfect-scrollbar>
                      </div> -->

                                                <!-- <<<<<<< HEAD -->
                                            </form>
                                        </div>
                                    </div>
                                    <!--autocomplete-->

                                    <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4  sections-pad-20 float-left no_pad mt20 chat-bot-owner ">
                                        <div class="col-12 float-left no_pad mt10" (clickOutside)="GrowthPositionInAccountClicked =false">
                                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad  CompanyName ">
                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                                    <div class="float-left col-12 customized-input slidetoggleReview customized-slider pl-20">
                                                        Swap account<span class="mdi mdi-information-outline info-icon" matTooltip="Select an account that can be swapped with this Account request. Required if the Account owner's hunting ratio is >=8.
                                                            A swap account is a Hunting account already present in Account master that needs to be moved out to make way for a new Hunting account. This is done to maintain the Hunting ratio for an Account owner"></span>
                                                        <mat-slide-toggle [disabled]="isHunatble || route_from=='modif_req'" (change)="isSwapAccount($event)" [checked]="ownerAccountDetails['isswapaccount']" class="toggle_btn ">

                                                            <!-- <button [popoverOnHover]="false" [popoverCloseOnMouseOutside]="false"
                                  [popoverCloseOnClickOutside]="true" [popover]="myPopoverO2"
                                  class="button_messagespophover button-plus">
                                  <span
                                    [ngClass]="(AttrComment['AccountOwner'] && AttrComment['AccountOwner']['isswapaccount'] && ((AttrComment['AccountOwner']['isswapaccount']['RequestHistoryComments'] && (AttrComment['AccountOwner']['isswapaccount']['RequestHistoryComments'].length>0) || AttrComment['AccountOwner']['isswapaccount']['isCommented'])))?'mdi mdi-comment-plus-outline message_cls_orange_swap':'mdi mdi-comment-plus-outline message_cls_edit_swap'">
                                    <span class="sr-only">Swap account message</span>
                                  </span>
                                </button> -->
                                                        </mat-slide-toggle>
                                                    </div>

                                                    <!-- <popover-content #myPopoverO2 title="Comments - Swap account" placement="right"
                              [animation]="false" [closeOnClickOutside]="true"
                              [attr.aria-hidden]="clickmes ? 'false' : 'true'"> -->
                                                    <!-- added by KKN start-->
                                                    <!-- <div
                                *ngIf="AttrComment['AccountOwner'] && AttrComment['AccountOwner']['isswapaccount'] && AttrComment['AccountOwner']['isswapaccount']['RequestHistoryComments'] && AttrComment['AccountOwner']['isswapaccount']['RequestHistoryComments'].length>0"
                                class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad ">
                                <div class="scroll-window" slimScroll>
                                  <div
                                    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mb20"
                                    *ngFor="let item of AttrComment['AccountOwner']['isswapaccount'].RequestHistoryComments">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                      <div
                                        class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                        <p class="pstyles_acc"><b
                                            class="bstyles_acc">{{(item.CommentedBy && item.CommentedBy.FullName)?item.CommentedBy.FullName:'NA'}}</b>
                                          ({{item.CommentedOn| date: 'dd MMM yyyy' }} at {{item.CommentedOn | date:
                                                                                'HH:mm ' }})
                                        </p>
                                      </div>
                                      <div
                                        class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                        <p>{{item.Comment}}</p>
                                      </div>
                                    </div>
                                  </div>
      
                                </div>
                              </div> -->
                                                    <!-- added by KKN end-->
                                                    <!--<span class="" *ngIf="(loggedin_user == 'sbu' &&  accountDetails.Status.Id==184450006) || (loggedin_user == 'cso' && accountDetails.Status.Id==184450007)">-->
                                                    <!-- <span class="">
                                <div class="textarea_readonly">
                                  <textarea class="form-control vision_txt_area_placeholder" #newListItem7
                                    name="newListItemO2" rows="6" placeholder="Write your comments here.."></textarea>
                                </div>
                                <button type="button" class="btn pull-left cancel_but"
                                  (click)="GrowthPositionInAccountClicked = false;myPopoverO2.hide() ;removeComment1('isswapaccount', newListItem6 , 'AccountOwner')">Cancel
                                </button>
                                <button type="button" [disabled]="newListItem7.value.length < 1"
                                  [ngClass]="newListItem7.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                  (click)="GrowthPositionSubmittedO2 = true;GrowthPositionInAccountClicked = false;increment() ;myPopoverO2.hide();
                                build_attribute_comments1('isswapaccount', newListItem7.value)">Save</button>
      
                              </span>
                            </popover-content> -->
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                    <!--autocomplete-->
                                    <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel no_pad_mobile mt20">
                                        <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName">
                                            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ConversationName1" class="label-form">
                        Select account <span *ngIf="ownerAccountDetails['isswapaccount']" class="asteriq"> *</span> </label>
                                            <button [popoverOnHover]="false" [popoverCloseOnMouseOutside]="false" [popoverCloseOnClickOutside]="true" [popover]="myPopoverSwap" class="button_messagespophover button-plus" (onShown)="OwnerexpandContent('selectAccount')" (onHidden)="OwnerrestoreContent('selectAccount')">
                        <!-- (click)="OwnertoggleComment('Select account')" (keypress)="OwnertoggleComment('Select account')" -->
                        <span
                          [ngClass]="(AttrComment['AccountOwner'] && AttrComment['AccountOwner']['isswapaccount'] && ((AttrComment['AccountOwner']['isswapaccount']['RequestHistoryComments'] && (AttrComment['AccountOwner']['isswapaccount']['RequestHistoryComments'].length>0) || AttrComment['AccountOwner']['isswapaccount']['isCommented'])))?'mdi mdi-comment-plus-outline message_cls_orange_swap':'mdi mdi-comment-plus-outline message_cls_edit_swap'">
                          <span class="sr-only">Swap account message</span>
                        </span>
                      </button>
                                            <popover-content #myPopoverSwap title="Comments - Select account {{charLimitMessage(WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'isswapaccount')])}}" placement="right" [animation]="false" [closeOnClickOutside]="true" [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                <!-- added by KKN start-->
                                                <div *ngIf="AttrComment['AccountOwner'] && AttrComment['AccountOwner']['isswapaccount'] && AttrComment['AccountOwner']['isswapaccount']['RequestHistoryComments'] && AttrComment['AccountOwner']['isswapaccount']['RequestHistoryComments'].length>0" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad ">
                                                    <div class="scroll-window" slimScroll>
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mb20" *ngFor="let item of AttrComment['AccountOwner']['isswapaccount'].RequestHistoryComments">
                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                    <p class="pstyles_acc"><b class="bstyles_acc">{{(item.CommentedBy && item.CommentedBy.FullName)?item.CommentedBy.FullName:'NA'}}
                                      <{{(item.CommentedBy && item.CommentedBy.Email)?item.CommentedBy.Email:'NA'}}></b> ({{item.CommentedOn| date: 'dd MMM yyyy' }} at {{item.CommentedOn | date: 'HH:mm ' }})
                                                                    </p>
                                                                </div>
                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                    <p>{{item.Comment}}</p>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <!-- added by KKN end-->
                                                <!--<span class="" *ngIf="(loggedin_user == 'sbu' &&  accountDetails.Status.Id==184450006) || (loggedin_user == 'cso' && accountDetails.Status.Id==184450007)">-->
                                                <span class="">
                          <div class="textarea_readonly">
                            <textarea class="form-control vision_txt_area_placeholder" #newListItem7
                              (keyup)="newListItem7.value;checCharLimit(newListItem7.value,WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'isswapaccount')])"
                              name="newListItemO2" rows="6" placeholder="Write your comments here.."
                              maxlength="2000"></textarea>
                          </div>
                          <button type="button" class="btn pull-left cancel_but"
                            (click)="GrowthPositionInAccountClicked = false;myPopoverSwap.hide() ;removeComment1('isswapaccount', newListItem6 , 'AccountOwner');;OwnerAccordian=false">Cancel
                          </button>
                          <button type="button" [disabled]="newListItem7.value.length < 1"
                            [ngClass]="newListItem7.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                            (click)="GrowthPositionSubmittedO2 = true;GrowthPositionInAccountClicked = false;increment() ;myPopoverSwap.hide();
                                build_attribute_comments1('isswapaccount', newListItem7.value);OwnerAccordian=false">Save</button>

                        </span>
                                            </popover-content>
                                            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  acc_txtarea h-40 label-input" id="ConversationName1" [(ngModel)]="ownerAccountDetails['swapaccount']" name="ConversationName" (click)="ConversationNameSwitch=true;SwapAccountOpen();"
                                                (keypress)="SwapAccountOpen()" autocomplete="off" type="text" (clickOutside)="ConversationNameclose()" placeholder="Select account to swap with" [disabled]="!ownerAccountDetails['isswapaccount']" [ngClass]="submitted && ownerAccountDetails['isswapaccount'] && !ownerAccountDetails['swapaccount'] ? 'border-red' : ''"
                                                required />

                                            <span class="mdi mdi-magnify"></span>
                                        </form>
                                        <p *ngIf="submitted && ownerAccountDetails['isswapaccount'] && !ownerAccountDetails['swapaccount']" class="error-message custom-msg top-62">Swap Account is required</p>
                                    </div>
                                    <!--autocomplete-->

                                </div>

                                <!-- start secondary owner -->
                                <div *ngIf="route_from!='modif_req'" [class.pb-55]="route_from!='modif_req' && customerNameSwitch" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-leadbtmPophover no_pad marginTop20">

                                    <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4  sections-pad-20 float-left no_pad mt20 ">
                                        <div class="col-12 float-left no_pad mt10" (clickOutside)="GrowthPositionInAccountClicked =false">
                                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad  CompanyName ">
                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                                    <div class="float-left col-12 customized-input slidetoggleReview customized-slider pl-20">
                                                        Swap with alternate account owner<span class="mdi mdi-information-outline info-icon" matTooltip="If account for the requestor hunter cannot be swapped; then SE SPOC can swap account from some other hunter within SBU, to maintain the hunting ratio at BU level"></span>
                                                        <mat-slide-toggle class="alternate_toggle_btn_swap " [disabled]="ownerAccountDetails['isswapaccount']  || huntingRatio < 8" [checked]="ownerAccountDetails['isalternateswapaccount']" (change)="isAltSwapAccount($event)">
                                                            <span class="sr-only">Swap with alternate account owner</span>

                                                        </mat-slide-toggle>
                                                    </div>


                                                </div>
                                            </form>
                                        </div>
                                    </div>

                                    <!--Select alternative account owner autocomplete start -->
                                    <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel  no_pad_mobile mt20">
                                        <div>
                                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad  CompanyName customized-input">
                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ConversationName3" class="label-form">
                            Select alternative account owner <span class="asteriq"
                              *ngIf="ownerAccountDetails['isalternateswapaccount']"> * </span>
                          </label>
                                                    <button [popoverOnHover]="false" [popoverCloseOnMouseOutside]="false" [popoverCloseOnClickOutside]="true" [popover]="myPopoverAccountowner" class="button_messagespophover button-plus" (onShown)="OwnerexpandContent('alternative')" (onHidden)="OwnerrestoreContent('alternative')">
                            <!-- (click)="OwnertoggleComment('Select alternative account owner')"  (keypress)="OwnertoggleComment('Select alternative account owner')"-->
                            <span
                              [ngClass]=" (AttrComment['AccountOwner'] && AttrComment['AccountOwner']['alternateowner_fullname'] && ((AttrComment['AccountOwner']['alternateowner_fullname']['RequestHistoryComments'] && (AttrComment['AccountOwner']['alternateowner_fullname']['RequestHistoryComments'].length>0) || AttrComment['AccountOwner']['alternateowner_fullname']['isCommented']))) ?'mdi mdi-comment-plus-outline message_cls_orange':'mdi mdi-comment-plus-outline message_cls'">
                              <span class="sr-only"> Alternative Owner message</span>
                            </span>
                          </button>

                                                    <div class="pos-rel w-100 float-left no_pad">
                                                        <!-- [ngClass]="false ? 'border-orange':'border-pink'" -->
                                                        <input class=" col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input  acc_txtarea" #alternateOwner type="ConversationName" id="ConversationName3" [disabled]="!ownerAccountDetails['isalternateswapaccount']" name="text" placeholder="Search alternative account owner"
                                                            [ngClass]="altHuntingratio ? ((altHuntingratio && altHuntingratio>=8 ) ? 'border-orange':'border-pink'):'new-container cust_autoComplete input'" [(ngModel)]="ownerAccountDetails['alternateaccountowner']"
                                                            autocomplete='off' (clickOutside)="customerNameSwitch2 = false" (click)="customerNameSwitch2 = true;SearcAltAccountOwner(alternateOwner.value)" required (keyup)="customerNameSwitch2 = true;SearcAltAccountOwner(alternateOwner.value)"
                                                            autofocus="true" [required]="ownerAccountDetails['isalternateswapaccount']" [class.error]="submitted && ownerAccountDetails['isalternateswapaccount'] && !ownerAccountDetails['alternateaccountowner']">
                                                        <p *ngIf="accountCreationObj['prospect'] && accountCreationObj['prospect']['alternateaccountowner'] && altHuntingratio" class="error-message top-38" [ngClass]="(altHuntingratio && altHuntingratio >= 8) ? 'background-orange' : 'background-green'">
                                                            Number of hunting accounts: {{altHuntingratio}}</p>
                                                        <p *ngIf="submitted && ownerAccountDetails['isalternateswapaccount'] && !ownerAccountDetails['alternateaccountowner']" class="error-message custom-msg top-38">Alternative account owner is required</p>
                                                        <span class="mdi mdi-magnify"></span>

                                                    </div>
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  float-left no_pad  pos-rel border-bottom-4 r-2 
                            color-azure  border_owner_lookup" *ngIf="customerNameSwitch2">
                                                        <perfect-scrollbar style="max-height:160px">
                                                            <span class="w-100 z-ind-9 float-left bg-white"> </span>
                                                            <ul class="list-group mr2 sort-dropdown cp bg-white" role="listbox" id="read" [ngClass]="{'loader-search':isActivityGroupSearchLoading }">

                                                                <li class=" list-group-item h-50 p-4-10 no_pad" *ngFor="let item of alternativeAccountOwner; let ind =index;" (click)="customerNameSwitch2 = false;selectedAlternateOwner(item)">
                                                                    <label for="inti_name" class="float-left name">
                                    <span class="d-block list-name">{{item.FullName}}</span>
                                    <!-- <span class="d-block sub-list">{{item.designation}}</span> -->
                                  </label>

                                                                </li>
                                                                <!-- <li class="d-block list-name h-40 p-10" 
                                    *ngIf="WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'owner')].data.length==0 && !isActivityGroupSearchLoading">
    
                                  </li> -->
                                                                <!-- <li class="d-block list-name h-40 p-10 padd_space" *ngIf="(WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'alternateaccountowner')].data | filter:ownerAccountDetails['alternateaccountowner']).length == 0 && !isActivityGroupSearchLoading"> -->
                                                                <li class="d-block list-name h-40 p-10 padd_space" *ngIf="alternativeAccountOwner.length == 0 && !isActivityGroupSearchLoading">
                                                                    No results found
                                                                    <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad font-12">
                                    Ensure that you have typed correct legal entity name</span></li>
                                                            </ul>

                                                        </perfect-scrollbar>
                                                    </div>


                                                    <popover-content #myPopoverAccountowner title="Comments - Select alternative account owner {{charLimitMessage(WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'alternateaccountowner')])}}" placement="right" [animation]="false"
                                                        [closeOnClickOutside]="true" [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                        <!-- added by KKN start-->
                                                        <div *ngIf="AttrComment['AccountOwner'] && AttrComment['AccountOwner']['alternateowner_fullname'] && AttrComment['AccountOwner']['alternateowner_fullname']['RequestHistoryComments'] && AttrComment['AccountOwner']['alternateowner_fullname']['RequestHistoryComments'].length>0"
                                                            class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad ">
                                                            <div class="scroll-window" slimScroll>
                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mb20" *ngFor="let item of AttrComment['AccountOwner']['alternateowner_fullname'].RequestHistoryComments">
                                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                            <p class="pstyles_acc"><b class="bstyles_acc">{{(item.CommentedBy && item.CommentedBy.FullName)?item.CommentedBy.FullName:'NA'}}
                                          <{{(item.CommentedBy && item.CommentedBy.Email)?item.CommentedBy.Email:'NA'}}>
                                        </b> ({{item.CommentedOn| date: 'dd MMM yyyy' }} at {{item.CommentedOn | date: 'HH:mm ' }})
                                                                            </p>
                                                                        </div>
                                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                            <p>{{item.Comment}}</p>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <!-- added by KKN end-->
                                                        <!--<span class="" *ngIf="(loggedin_user == 'sbu' &&  accountDetails.Status.Id==184450006) || (loggedin_user == 'cso' && accountDetails.Status.Id==184450007)">-->
                                                        <span class="">
                              <div class="textarea_readonly">
                                <textarea class="form-control vision_txt_area_placeholder" #newListItem8
                                  (keyup)="newListItem8.value;checCharLimit(newListItem8.value,WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'alternateaccountowner')])"
                                  name="newListItemO1" rows="6" placeholder="Write your comments here.."
                                  maxlength="2000"></textarea>
                              </div>
                              <button type="button" class="btn pull-left cancel_but"
                                (click)="GrowthPositionInAccountClicked = false;myPopoverAccountowner.hide(); removeComment1('alternateowner_fullname', newListItem6, 'AccountOwner');OwnerAccordian=false ">Cancel
                              </button>
                              <button type="button" [disabled]="newListItem8.value.length < 1"
                                [ngClass]="newListItem8.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                                (click)="GrowthPositionSubmittedO1 = true;GrowthPositionInAccountClicked = false;increment() ;myPopoverAccountowner.hide();OwnerAccordian=false;build_attribute_comments1('alternateowner_fullname', newListItem8.value)
                                      ">Save</button>
                            </span>
                                                    </popover-content>
                                                </div>



                                                <!-- <<<<<<< HEAD -->
                                            </form>
                                        </div>
                                    </div>
                                    <!--Select alternative account owner autocomplete end -->

                                    <!--Select secondary owner swap account click start -->
                                    <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel no_pad_mobile marginTopMobile mt20">
                                        <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName">
                                            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ConversationName19" class="label-form">
                        Select alternative account <span class="asteriq"
                          *ngIf="ownerAccountDetails['isalternateswapaccount']"> * </span> </label>
                                            <button [popoverOnHover]="false" [popoverCloseOnMouseOutside]="false" [popoverCloseOnClickOutside]="true" [popover]="myPopoverAlternativeAccount" class="button_messagespophover button-plus" (onShown)="OwnerexpandContent('alternativeAccount')" (onHidden)="OwnerrestoreContent('alternativeAccount')">
                        <!-- (click)="OwnertoggleComment('Select alternative account owner')"  (keypress)="OwnertoggleComment('Select alternative account owner')"-->
                        <span
                          [ngClass]=" (AttrComment['AccountOwner'] && AttrComment['AccountOwner']['alternateswapaccount_name'] && ((AttrComment['AccountOwner']['alternateswapaccount_name']['RequestHistoryComments'] && (AttrComment['AccountOwner']['alternateswapaccount_name']['RequestHistoryComments'].length>0) || AttrComment['AccountOwner']['alternateswapaccount_name']['isCommented']))) ?'mdi mdi-comment-plus-outline message_cls_orange_swap':'mdi mdi-comment-plus-outline message_cls_edit_swap'">
                          <span class="sr-only"> Alternative Account message</span>
                        </span>
                      </button>
                                            <popover-content #myPopoverAlternativeAccount title="Comments - Select alternative account {{charLimitMessage(WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'alternateswapaccount')])}}" placement="right" [animation]="false"
                                                [closeOnClickOutside]="true" [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                <!-- added by KKN start-->
                                                <div *ngIf="AttrComment['AccountOwner'] && AttrComment['AccountOwner']['alternateswapaccount_name'] && AttrComment['AccountOwner']['alternateswapaccount_name']['RequestHistoryComments'] && AttrComment['AccountOwner']['alternateswapaccount_name']['RequestHistoryComments'].length>0"
                                                    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad ">
                                                    <div class="scroll-window" slimScroll>
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mb20" *ngFor="let item of AttrComment['AccountOwner']['alternateswapaccount_name'].RequestHistoryComments">
                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                    <p class="pstyles_acc"><b class="bstyles_acc">{{(item.CommentedBy && item.CommentedBy.FullName)?item.CommentedBy.FullName:'NA'}}
                                      <{{(item.CommentedBy && item.CommentedBy.Email)?item.CommentedBy.Email:'NA'}}></b> ({{item.CommentedOn| date: 'dd MMM yyyy' }} at {{item.CommentedOn | date: 'HH:mm ' }})
                                                                    </p>
                                                                </div>
                                                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                    <p>{{item.Comment}}</p>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <!-- added by KKN end-->
                                                <!--<span class="" *ngIf="(loggedin_user == 'sbu' &&  accountDetails.Status.Id==184450006) || (loggedin_user == 'cso' && accountDetails.Status.Id==184450007)">-->
                                                <span class="">
                          <div class="textarea_readonly">
                            <textarea class="form-control vision_txt_area_placeholder" #newListItem9
                              (keyup)="newListItem9.value;checCharLimit(newListItem9.value,WithoutInputFields_AccountOwner[getIndex(WithoutInputFields_AccountOwner, 'alternateswapaccount')])"
                              name="newListItemO3" rows="6" placeholder="Write your comments here.."
                              maxlength="2000"></textarea>
                          </div>
                          <button type="button" class="btn pull-left cancel_but"
                            (click)="GrowthPositionInAccountClicked = false;myPopoverAlternativeAccount.hide() ;removeComment1('alternateswapaccount_name', newListItem9 , 'AccountOwner');;OwnerAccordian=false">Cancel
                          </button>
                          <button type="button" [disabled]="newListItem9.value.length < 1"
                            [ngClass]="newListItem9.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                            (click)="GrowthPositionSubmittedO2 = true;GrowthPositionInAccountClicked = false;increment() ;myPopoverAlternativeAccount.hide();
            build_attribute_comments1('alternateswapaccount_name', newListItem9.value);OwnerAccordian=false">Save</button>

                        </span>
                                            </popover-content>
                                            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  acc_txtarea h-40 label-input" id="ConversationName19" [disabled]="!ownerAccountDetails['isalternateswapaccount'] || !ownerAccountDetails['alternateaccountowner']" [(ngModel)]="ownerAccountDetails['alternateswapaccount']"
                                                name="ConversationName" (keypress)="AltSwapAccountOpen()" (click)="ConversationNameSwitch=true;AltSwapAccountOpen();" autocomplete="off" type="text" placeholder="Select alternative account to swap with" [ngClass]="submitted && ownerAccountDetails['isalternateswapaccount'] && !ownerAccountDetails['alternateswapaccount'] ? 'border-red' : ''"
                                                required />
                                            <span class="mdi mdi-magnify"></span>
                                        </form>
                                        <p *ngIf="submitted && ownerAccountDetails['isalternateswapaccount'] && !ownerAccountDetails['alternateswapaccount']" class="error-message custom-msg top-62">Alternative swap account is required</p>

                                    </div>
                                    <!--Select secondary owner swap account click end -->


                                </div>
                                <!-- end secondary owner -->
                            </div>
                        </mat-expansion-panel>
                    </div>
                    <!-- second block additional details field  ends here-->
                </mat-accordion>
            </div>
            <!--accordian ends here-->

        </div>
    </div>
    <!-- Flow switches to SBU || to Account requestor || to SBU SE SPOC || CSO reviews and reworks || switches to CSO -ends here-->

    <!--Flow switches to SBU SE SPOC/CSO dynamic starts here-->
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  pad-30 top-13 pad15px scroll-middle-ios" *ngIf="route_from == 'assign_ref'">

        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left card mt30 no_pad margin_top80 margin_top101">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead1">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left">
                    <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-two pad-top-8">Reference creation - comments (Requestor)</h2>
                    <!-- <div
                  class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 container-fluid d-flex float-right justify-content-end"
                  *ngIf="loggedin_user == 'account_requestor'">
                  <ul class="progressbar ">
                    <li class="active">
                      <span class="mdi mdi-check" matTooltip="Account creation requested"></span>
                      <hr>
                    </li>
                    <li class="active">
                      <span class="mdi mdi-history" matTooltip="{{secondData}}"></span>
                      <hr class="" [ngClass]="secondData != lastData? 'inActive' : ''">
                    </li>
                    <li class=""  [ngClass]="secondData != lastData? 'active' : ''">
                      <span *ngIf="secondData != lastData" class="mdi" [ngClass]="secondData != lastData? 'mdi-comment-outline noIcons' : 'mdi-history'" matTooltip=""></span>
                      <span *ngIf="secondData == lastData" class="mdi" [ngClass]="secondData != lastData? 'mdi-comment-outline noIcons' : 'mdi-history '" matTooltip="{{lastData}}"></span>
                    </li>             
                  </ul>
                </div> -->
                    <!-- <div
                class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 container-fluid d-flex float-right justify-content-end"
                *ngIf="loggedin_user == 'cso'">
                <ul class="progressbar ">
                  <li class="active">
                    <span class="mdi mdi-check" matTooltip="Account creation requested"></span>
                    <hr>
                  </li>
                  <li class="active">
                    <span class="mdi mdi-check" matTooltip="{{CSO2progressComment}}"></span>
                    <hr>           
                  </li>
                  <li class="active">
                    <span class="mdi mdi-history" matTooltip="{{CSO3progressComment}}"></span>           
                  </li>           
                </ul>
              </div> -->
                    <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 container-fluid d-flex float-right justify-content-end">
                        <!-- <ul class="progressbar ">
                            <li class="active">
                                <span class="mdi mdi-check" matTooltip="{{firstComment}}"></span>
                                <hr>
                            </li>
                            <li class="active">
                                <span class="mdi mdi-history" matTooltip="{{progressComment}}"></span>
                            </li>
                        </ul> -->
                    </div>
                </div>
            </div>

            <span class="border-bottm"></span>

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead2 ">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-6 float-left no_pad padtop legend1 mb20">
                    <!-- {{accountDetails.Comment}} -->
                    <!-- Added by divya on 16th October for displaying status & comments as per FSD-5.0.1.-->
                    <!-- please confirm before editing-->
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                            <p><b>Status:
                  {{(accountDetails.Status && accountDetails.Status.Value)?accountDetails.Status.Value: 'NA'}}</b> ({{accountDetails.CreatedOn | date: 'dd MMM yyyy' }} at {{accountDetails.CreatedOn | date: 'HH:mm ' }})
                            </p>
                        </div>
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                            <p><b>Comments:</b>{{accountDetails.Comment?accountDetails.Comment:'NA'}}</p>
                        </div>
                    </div>
                    <!-- Added by divya ends here-->
                </div>
            </div>

        </div>



        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left card mt20 margin-btm55 no_pad">

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead1">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left padding_left_ref">
                    <h2 class="col-10 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-three thirdcon pad-top-8">
                        Assignment reference details</h2>
                    <!-- <div class="col-xs-2 no_pad count_cls">
                  <span class="count_txt">{{NoOfAttrComment['AssignmentDetails']}}</span>
                </div> -->
                    <div class="col-xs-2 no_pad count_cls">
                        <span [ngClass]="AssignmentDetailscount <= '9' ? 'count_txt' : 'count_txt2' ">{{AssignmentDetailscount}}</span>
                    </div>
                    <span class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad">{{accountDetails.Name || 'Account name'}}
            | {{accountDetails.Number || 'Account
                number'}}</span>
                </div>
            </div>

            <span class="border-bottm"></span>

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead3btmPophover">
                <!--<div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left no_pad CompanyNameacc"  *ngFor="let data of WithoutInputFields_AssignmentDetails"  >
      
                            <div (clickOutside)="data.GrowthPositionInAccountClicked =false">
                              <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-12 float-left  cust_autoComplete pos-rel mt20">
                                <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad  CompanyName">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                                      <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{data.title}}">{{data.title}}</label>
                                      <button [popoverOnHover]="false"
                                              [popoverCloseOnMouseOutside]="false"
                                              [popoverCloseOnClickOutside]="true"
                                              [popover]="myPopover"
                                              (click)="toggleComment()"
                                              (keypress)="toggleComment()" 
                                              class="button_messagespophover button-plus">
                                            <span  [ngClass]="data.GrowthPositionSubmitted?'mdi mdi-comment-plus-outline message_cls_orangeRef':'mdi mdi-comment-plus-outline message_cls_edit'" >
                                            <span class="sr-only" >{{data.title}} message</span>
                                            </span> 
                                      </button>
          
                                      <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" *ngIf="data.control=='input'">
                                      <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  acc_txtarea h-40 label-input" id="{{data.title}}" name="ConversationName"
                                        (click)="ConversationNameSwitch=true" autocomplete="off" type="text" placeholder="Search" (clickOutside)="ConversationNameclose()"
                                        placeholder="">
                                      <span class="mdi mdi-magnify"></span>
                                      </span>
                                      
                                    <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input" *ngIf="data.control=='div'">
                                      <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " id="calStart1"
                                      [matDatepicker]="picker2" title="DD-MMM-YYYY" placeholder="DD-MMM-YYYY">
                                      <mat-datepicker-toggle matSuffix [for]="picker2" aria-label="calendar" (click)="picker2.open()" (keypress)="picker2.open()">
                                      </mat-datepicker-toggle>
                                      <mat-datepicker #picker2></mat-datepicker>
                                    </div>
      
                                      <div class="customized-select acc_txtarea" *ngIf="data.control=='select'">
                                        <span class="caret color-azure"></span>
                                        <select id="{{data.title}}" role="listbox" class="pad-left10 acc_txtarea">
                                          <option value="Face to Face">Architecture</option>
                                          <option value="Virtual Meeting">Business</option>
                                          <option value="Telephonic Conversation">Farming</option>
                                        </select>
                                      </div>
                                      
      
                                      <popover-content #myPopover 
                                                      title="Comments - {{data.title}}"
                                                      placement="right"
                                                      [animation]="false" 
                                                      [closeOnClickOutside]="true"
                                                      [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                                  <span class="">
                                                    <div class="textarea_readonly">
                                                    <textarea class="form-control vision_txt_area_placeholder" ngModel="" #newListItem name="newListItem" rows="6" placeholder="Write your comments here.."></textarea>
                                                    </div>
                                                    <button type="button" class="btn pull-left cancel_but" (click)="data.GrowthPositionInAccountClicked = false;myPopover.hide()">Cancel </button>
                                                    <button type="button" [disabled]="newListItem.value.length < 1" [ngClass]="newListItem.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'" 
                                                    (click)="data.GrowthPositionSubmitted = true;data.GrowthPositionInAccountClicked = false;incrementAssignment() ;myPopover.hide()">Submit</button>
                                                  </span>
                                      </popover-content>
                                  </div>
                                </form>
                              </div>
                            </div>
                  </div>-->
                <!--form-->
                <div>
                    <div formArrayName="AssignmentDetails">
                        <div *ngFor="let data of AssignmentDetails.controls; let i=index">
                            <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20 no_pad CompanyNameacc">
                                <div (clickOutside)="WithoutInputFields_AssignmentDetails[i].GrowthPositionInAccountClicked =false">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  width_message2">
                                        <label class="col-xs-12 acc_vision_txtarea_txt mt10" for="{{WithoutInputFields_AssignmentDetails[i].title}}" [ngClass]="WithoutInputFields_AssignmentDetails[i].control=='toggle' ? 'toggle_left' : ''">{{WithoutInputFields_AssignmentDetails[i].title}}
                      <span *ngIf="WithoutInputFields_AssignmentDetails[i].isRequired" class="asteriq"> *
                      </span></label>
                                        <button [popoverOnHover]="false" [popoverCloseOnMouseOutside]="false" [popoverCloseOnClickOutside]="true" [popover]="myPopoverAssignmentDetails" (click)="toggleComment()" (keypress)="toggleComment()" class="button_messagespophover">
                      <span
                        [ngClass]="(WithoutInputFields_AssignmentDetails[i]['RequestHistoryComments'] || WithoutInputFields_AssignmentDetails[i]['isCommented'])? 'mdi mdi-comment-plus-outline message_cls_orangeRef':'mdi mdi-comment-plus-outline message_cls_edit'">
                        <span class="sr-only">{{WithoutInputFields_AssignmentDetails[i].title}} message</span>
                      </span>
                    </button>

                                        <!--                                   
                                      <div class="customized-select acc_txtarea" *ngIf="WithoutInputFields_AssignmentDetails[i].control=='select'">
                                          <span class="caret color-azure"></span>
                                          <select id="{{WithoutInputFields_AssignmentDetails[i].title}}" [formControlName]="i" role="listbox" class="pad-left10 acc_txtarea" >
                                            <option value="{{item.id}}" *ngFor="let item of WithoutInputFields_AssignmentDetails[i].data">{{item.name}}</option>
                                          </select>
                                      </div> -->

                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" *ngIf="WithoutInputFields_AssignmentDetails[i].control=='autocomplete'">
                                            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="{{WithoutInputFields_AssignmentDetails[i].title}}" name="contactSBU" #auto autocomplete="off" type="text" [formControlName]="i" placeholder="Select {{(WithoutInputFields_AssignmentDetails[i].title).toLowerCase()}}"
                                                (clickOutside)="WithoutInputFields_AssignmentDetails[i].isTyping=false" (click)="autocompleteAssignment($event,WithoutInputFields_AssignmentDetails[i].title,i, data);WithoutInputFields_AssignmentDetails[i].isTyping=true"
                                                (keyup)="autocompleteAssignment($event,WithoutInputFields_AssignmentDetails[i].title,i, data);WithoutInputFields_AssignmentDetails[i].isTyping=true">
                                            <p *ngIf="submitted && data.errors && data.errors.required" class="error-message custom-msg top-40">
                                                {{WithoutInputFields_AssignmentDetails[i].title}} is required</p>
                                            <!-- <p *ngIf="submitted && accOwnerSwap.sbu.errors && accOwnerSwap.sbu.errors.required" class="error-message custom-label">SBU is required</p> -->
                                            <span class="mdi mdi-magnify"></span>
                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border-right float-left top32  zindex_border no_pad standard-border suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="WithoutInputFields_AssignmentDetails[i].isTyping">
                                                <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                                                    <span class="w-100 z-ind-9 float-left bg-white">
                            <ul class=" list-group sort-dropdown mr2" role="listbox" id="read"
                              [ngClass]="{'loader-search':isActivityGroupSearchLoading }">
                              <li class="list-group-item h-50 p-4-10"
                                (click)="auto.value=item.Name;selectedValue(item,i,'AssignmentDetails',WithoutInputFields_AssignmentDetails,ind)"
                                *ngFor="let item of WithoutInputFields_AssignmentDetails[i].data; let ind =index;">
                                {{item.Name}}
                              </li>
                              <li
                                *ngIf="WithoutInputFields_AssignmentDetails[i]['message']&& !isActivityGroupSearchLoading">
                                {{WithoutInputFields_AssignmentDetails[i]['message']}}</li>
                            </ul>
                          </span>
                                                </perfect-scrollbar>


                                                <span *ngIf="WithoutInputFields_AssignmentDetails[i].isAdvanceLookUp" class="db-search" (click)="openadvancetabs('WithoutInputFields_AssignmentDetails',WithoutInputFields_AssignmentDetails,AssignmentDetails, 'AssignmentDetails',i)">
                          <button id="{{searchAccountCompany?.length+1}}" role="option" tabindex="0"
                            aria-disabled="false" type="button" class="button-search"
                            [class.active]="searchAccountCompany?.length+1 == arrowkeyLocation">
                            <span class="mdi mdi-file-outline"></span> Advance look up
                                                </button>
                                                </span>

                                            </div>
                                        </div>

                                        <!-- {{WithoutInputFields_AssignmentDetails[i] | json }} -->
                                        <!--CBU select dropdown starts-->
                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName  " *ngIf="WithoutInputFields_AssignmentDetails[i].control=='select' && WithoutInputFields_AssignmentDetails[i]['data'] == 'nodata'">
                                            <!-- <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [formGroup]="accOwnerSwapForm"> -->
                                            <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationT1" class="label-form">CBU</label> -->
                                            <div class="customized-select ">
                                                <span class="caret color-azure"></span>
                                                <select id="CoversationT1" role="listbox" class="pad-left10" [formControlName]="i">
                          <option value="">
                            {{WithoutInputFields_AssignmentDetails[i]['data']=='nodata' ? "No Record Found": "-"}}
                          </option>
                        </select>
                                                <p *ngIf="submitted && data.errors && data.errors.required" class="error-message custom-msg top-40">
                                                    {{WithoutInputFields_AssignmentDetails[i].title}} is required</p>
                                            </div>
                                            <!-- </form> -->
                                        </div>
                                        <!--CBU select dropdown ends-->


                                        <!--CBU multi-select-checkbox starts-->
                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName  " *ngIf="WithoutInputFields_AssignmentDetails[i].control=='select' && WithoutInputFields_AssignmentDetails[i]['data'] != 'nodata'">
                                            <!-- <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"> -->
                                            <app-multi-select-checkbox *ngIf="cbuValueInitilize" [formControlName]="i" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad cbu_review_comp " [Source]="WithoutInputFields_AssignmentDetails[i]['data']" (selectedContent)="selectedValues($event)"
                                                [label]="''" [Placeholder]="'Select'" [cbuReadOnly]="true">
                                            </app-multi-select-checkbox>
                                            <p *ngIf="submitted && data.errors && data.errors.required" class="error-message custom-msg top-40">
                                                {{WithoutInputFields_AssignmentDetails[i].title}} is required</p>
                                            <!-- </form> -->
                                        </div>
                                        <!--CBU multi-select-checkbox ends-->
                                        <!--CBU select dropdown ends-->


                                        <!-- <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input" *ngIf="WithoutInputFields_AssignmentDetails[i].control=='div'">
                                        <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " id="calStart" [formControlName]="i"
                                        [matDatepicker]="picker" title="DD-MMM-YYYY" placeholder="DD-MMM-YYYY">
                                        <mat-datepicker-toggle matSuffix [for]="picker" aria-label="calendar"  (click)="picker.open()" (keypress)="picker.open()">    
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
                                      </div> -->

                                        <popover-content #myPopoverAssignmentDetails title="Comments - {{WithoutInputFields_AssignmentDetails[i].title}} {{charLimitMessage(WithoutInputFields_AssignmentDetails[i])}}" placement="right" [animation]="false" [closeOnClickOutside]="true" [attr.aria-hidden]="clickmes ? 'false' : 'true'">
                                            <!-- added by KKN start-->
                                            <div *ngIf="WithoutInputFields_AssignmentDetails[i].RequestHistoryComments" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left no_pad ">
                                                <div class="scroll-window" slimScroll>
                                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad padtop legend1 mb20" *ngFor="let item of WithoutInputFields_AssignmentDetails[i].RequestHistoryComments">
                                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-11 float-left no_pad">
                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                <p class="pstyles_acc"><b class="bstyles_acc">{{(item.CommentedBy && item.CommentedBy.FullName)?item.CommentedBy.FullName:'NA'}}
                                    <{{(item.CommentedBy && item.CommentedBy.Email)?item.CommentedBy.Email:'NA'}}></b> ({{item.CommentedOn| date: 'dd MMM yyyy' }} at {{item.CommentedOn | date: 'HH:mm ' }})
                                                                </p>
                                                            </div>
                                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                                                                <p>{{item.Comment}}</p>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <!-- added by KKN end -->
                                            <!--<span class="" *ngIf="(loggedin_user == 'sbu' &&  accountDetails.Status.Id==184450006) || (loggedin_user == 'cso' && accountDetails.Status.Id==184450007)">-->
                                            <span class="">
                        <div class="textarea_readonly">
                          <textarea class="form-control vision_txt_area_placeholder" #newListItem10
                            (keyup)="newListItem10.value;checCharLimit(newListItem10.value,WithoutInputFields_AssignmentDetails[i])"
                            name="newListItem" rows="6" placeholder="Write your comments here.."
                            maxlength="2000"></textarea>
                        </div>
                        <button type="button" class="btn pull-left cancel_but"
                          (click)="WithoutInputFields_AssignmentDetails[i].GrowthPositionInAccountClicked = false;myPopoverAssignmentDetails.hide()">Cancel
                        </button>
                        <button type="button" [disabled]="newListItem10.value.length < 1"
                          [ngClass]="newListItem10.value.length < 1 ? 'btn pull-left submit_but':'btn pull-left submit_but1'"
                          (click)="WithoutInputFields_AssignmentDetails[i].GrowthPositionSubmitted = true;WithoutInputFields_AssignmentDetails[i].GrowthPositionInAccountClicked = false;incrementAssignment() ;
                                                    myPopoverAssignmentDetails.hide();build_attribute_comments(WithoutInputFields_AssignmentDetails[i], newListItem10.value)">Save</button>
                      </span>
                                        </popover-content>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!--Flow switches to SBU SE SPOC/CSO dynamic ends here-->

    <!-- On View condition starts here-->
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  pad-30 padt-0  top-13 pad15px scroll-middle-ios" *ngIf="loggedin_user == 'view'">

        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left card  no_pad margin_top80">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead1">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left">
                    <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-two pad-top-8">
                        Additional comments</h2>
                </div>
            </div>

            <span class="border-bottm"></span>

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead2 ">
                <div class="scroll-window" slimScroll>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-6 float-left no_pad padtop legend1">
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                            <p><b>Status: Account requested</b> (12 Jan 2019 at 15:20)</p>
                        </div>
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                            <p class="text_emptycomments"><b>Reason Code:</b>-</p>
                        </div>
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad AddtitionalCom_fonts">
                            <p><b>Comments:</b> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                        </div>
                    </div>
                </div>
            </div>

            <span class="border-bottm"></span>

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  padtop pad-create-lead4">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-2 width_message mobilewidthmessage  float-left no_pad">
                    <span class="col-xs-12 acc_vision_txtarea_txt_readonly mt20 no_pad">
            <span class="mdi mdi-comment-plus-outline message_cls_edit disablemouse"></span>Add comments
                    </span>
                </div>
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-2 float-left no_pad width_message mobilewidthmessage ">
                    <span class="col-xs-12 acc_vision_txtarea_txt mt10">
            <span class="mdi mdi-comment-plus-outline message_cls_orange_edit disablemouse"></span> View/modify comments
                    </span>
                </div>
            </div>

        </div>
        <!-- First block accout details field  starts here-->
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left card mt20 no_pad">

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead1">

                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left ">
                    <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-two pad-top-8">Account details
                    </h2>
                </div>

            </div>
            <span class="border-bottm"></span>
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead3">

                <div [ngClass]="data.title == 'Account/Prospect name'?'col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyNameacc':'col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left no_pad CompanyNameacc'" *ngFor="let data of WithoutInputFields_Account_details">
                    <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-12 float-left  cust_autoComplete pos-rel mt20">

                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                            <span class="col-xs-12 acc_vision_txtarea_txt mt10">{{data.title}}</span>
                            <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad acc_txtarea">{{data.data_content}}</span>
                        </div>

                    </div>
                </div>

            </div>

            <span class="border-bottm"></span>

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left padding_left">
                    <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-three pad-top-8">
                        Business </h2>
                </div>

                <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20" *ngFor="let data of WithoutInputFields_Business">

                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                        <span class="col-xs-12 acc_vision_txtarea_txt mt10">{{data.title}} </span>
                        <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad acc_txtarea">{{data.data_content}}</span>
                    </div>

                </div>

            </div>

            <span class="border-bottm"></span>

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left mb50 pad-create-lead mt-20">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left padding_left">
                    <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-three pad-top-8">
                        Additonal details</h2>

                </div>

                <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20" *ngFor="let data of WithoutInputFields_AdditionalDetails">

                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                        <span class="col-xs-12 acc_vision_txtarea_txt mt10">{{data.title}}</span>
                        <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad acc_txtarea">{{data.data_content}}</span>
                    </div>

                </div>WithoutInputFields_AdditionalDetails

            </div>

        </div>
        <!-- First block accout details field  ends here-->

        <!-- second block additional details field  starts from here-->
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left card mt20 no_pad">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead1">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left ">
                    <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-two pad-top-8">Account owner and other details</h2>
                </div>
            </div>
            <span class="border-bottm"></span>
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead3">
                <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel mt20" *ngFor="let data of WithoutInputFields_AccountOwner">

                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                        <span class="col-xs-12 acc_vision_txtarea_txt mt10">{{data.title}}</span>
                        <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad acc_txtarea">{{data.data_content}}</span>

                        <span class="tooltipclsGreen">
              <span class=" no_pad text_colorintool">Number farming accounts: 02</span>
                        <span class=" no_pad text_colorintool">Number hunting accounts: 05</span>
                        </span>
                    </div>

                </div>
            </div>

            <span class="border-bottm"></span>

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left padding_left">
                    <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-three pad-top-8">
                        Secondary details </h2>
                </div>

                <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20" *ngFor="let data of WithoutInputFields_SecondaryDetails">

                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad width_message2">
                        <span class="col-xs-12 acc_vision_txtarea_txt mt10">{{data.title}}</span>
                        <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad acc_txtarea">{{data.data_content}}</span>
                    </div>

                </div>

            </div>

        </div>
        <!-- second block additional details field  ends here-->

    </div>
    <!-- On view condition ends here-->
</div>
<div *ngIf="isLoading && firstLoad">
    <div class="col-12 float-left complex_table unqualified-padding pt0 no_pad">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad leads-archived-landing">
            <div class="col-lg-12 col-sm-12 col-md-12 col-12 no_pad">
                <div class="loaderContainer">
                    <div class="loader"></div>
                </div>
            </div>
        </div>
    </div>
</div>