<div class="top-header" [ngClass]="accservive.header?'navbar-sticky-top':'navbar-fixed-top'">
  <app-nav></app-nav>
  <app-small-spinner [isLoading]="isLoading"> </app-small-spinner>
  <div class="float-left col-12 header-action-tab main-containtnoSide"
    [ngClass]="accservive.chatBot? 'chat-bot-1100' : ''">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  no_pad mt10 mb10 new-container">
      <div class="col-12 col-sm-8 col-md-8 col-lg-8 col-xl-8 float-left no_pad">
        <h1 class="heading-level-one ">
          <span class="mdi mdi-arrow-left cp" (click)="goBack()"></span> Create new reference</h1>
      </div>

      <div class="col-12 col-sm-4 col-md-4 col-lg-4 col-xl-4 float-left no_pad">
        <div class="float-right disp-flex save-cancel-responsive">
          <button class="primary-button secondary-btn btn-block h-40 mr10 std cancel-responsived-btn button-wd50"
            (click)="goBack();toastcancel()">Cancel</button>
          <button class="primary-button borderless h-40 std save-responsive-btn button-wd50"
            (click)="isDuplicateCheck()">Submit</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <form [formGroup]="createReferenceForm"> -->
<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad new-container">
  <div
    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pos-abs bg-mid_night h-210 res-position-rel">
  </div>
  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  pad-30 top-13 padd-top-130 scroll-middle-ios">


    <!-- Editable field on click of search icon starts here-->
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left card mt22 margin-btm55 no_pad">
      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 card-content float-left pad-create-lead1">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left ">
          <h2 class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad heading-level-two pad-top-8">
            Assignment reference details </h2>
          <small class="col-12 no_pad heading-small-two web-buttons"> {{assignmentObj['accountName'] || 'Account Name'}}
            | {{assignmentObj['accountNumber'] || 'Account Number'}} </small>
        </div>
      </div>
      <span class="border-bottm"></span>

      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad card-content float-left pad-create-lead">
        <!--autocomplete-->
        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left no_pad">
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  cust_autoComplete pos-rel mt20">
            <!-- <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [formGroup]="accOwnerSwapForm">
             <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ConversationName"
               class="label-form">Owner <span class="asteriq"> * </span></label>
             <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
               id="ConversationName" name="owner" autocomplete="off" formControlName="owner" [(ngModel)]="formsData.owner"
               type="text" placeholder="Search" (click)="OpenAccountOwner1()" [ngClass]="(accOwnerSwap.owner.invalid && (accOwnerSwap.owner.dirty || accOwnerSwap.owner.touched)) ? 'border-pink':'border-gray'" required>
             <span class="mdi mdi-magnify"></span>
             <p *ngIf="accOwnerSwap.owner.invalid && (accOwnerSwap.owner.dirty || accOwnerSwap.owner.touched)" class="error-message custom-msg">Owner field is required</p>
           </form> -->
            <form [formGroup]="accOwnerSwapForm"
              class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
              (clickOutside)="contactNameclose()">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="contactName"
                class="label-form"> Owner <span class="asteriq"> * </span>
                <!--<span class="required asteriq">*</span>-->
              </label>
              <!-- appKeyListControl 
              #AssignementOwnerList 
              (arrowDown)="arrowkeyLocation=$event"
              (keyup.enter)="AssignementOwnerList.value=wiproContact[arrowkeyLocation].contact;AssignmentData=wiproContact[arrowkeyLocation].contact; appendcontact(wiproContact[arrowkeyLocation].contact,wiproContact[arrowkeyLocation],true);contactNameSwitch=false"
              [attr.data-arrayMaxLength]="wiproContact?.length" 
              [attr.data-isDownBtn]=true -->
              <!-- [attr.data-selectedvalue]="AssignmentData" 
              (refinejunkvalue)="AssignmentData=''"
              matTooltip="{{AssignementOwnerList.value}}"  -->
              <input appKeyListControl #OwnerList role="combobox" aria-owns="read" [dataManipulate]="true"
                [attr.aria-activedescendant]="arrowkeyLocation" aria-autocomplete="list"
                [attr.aria-expanded]="contactNameSwitch?true:false" (arrowDown)="arrowkeyLocation=$event"
                matTooltip="{{OwnerList.value}}" (keyup.enter)="OwnerList.value=wiproContact[arrowkeyLocation].contact;
                 OwnerName=wiproContact[arrowkeyLocation].contact;
                  appendcontact(wiproContact[arrowkeyLocation],arrowkeyLocation,true);contactNameSwitch=false"
                autocomplete="off" (keydown.Tab)="contactNameclose()" [attr.data-arrayMaxLength]="wiproContact?.length"
                [attr.data-isDownBtn]=true [attr.data-selectedvalue]="OwnerName"
                class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="contactName"
                name="contactName" autocomplete="off" type="text" [(ngModel)]="assignmentObj['Owners']['Name']"
                placeholder="Search owner" formControlName="Owners"
                (input)="contactNameSwitch = true;accountOwnerSearch(OwnerList.value)"
                (intialLoadData)="contactNameSwitch = true ; accountOwnerSearch(OwnerList.value);arrowkeyLocation=0"
                [ngClass]="submitted && accOwnerSwap.Owners.errors && accOwnerSwap.Owners.errors.required ? 'border-pink':'border-gray'"
                required>

              <p *ngIf="submitted && accOwnerSwap.Owners.errors && accOwnerSwap.Owners.errors.required"
                class="error-message custom-label">Owners is required</p>
              <span class="mdi mdi-magnify"></span>
              <span class="mdi mdi-close auto-close" (click)="removeSeletecedValue('Owners');
              arrowkeyLocation=0;OwnerName=''" *ngIf="!contactNameSwitch && OwnerList.value!==''"></span>

              <div
                class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  float-left no_pad suggestion-box pos-abs border-bottom-4 top64 standard-border color-azure z-ind-9 bg-white"
                *ngIf="wiproContact && contactNameSwitch">
                <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                  <ul class=" list-group mr2 sort-dropdown">
                    <li class="h-50 p-4-10 " *ngFor="let item of wiproContact;index as j" id="{{j}}" tabindex="0"
                      role="option" [class.active]="j==arrowkeyLocation" aria-disabled="false" aria-selected="false"
                      (click)="OwnerList.value=item.contact;
                      OwnerName=item.contact;appendcontact(item,item.index,true)">
                      <div class="float-left naming-tags child-middle bg-azure">
                        <span class="initials">{{item.initials | uppercase}}</span>
                      </div>
                      <label for="inti_name" class="float-left name">
                        <span class="d-block list-name">{{item.contact}}</span>
                        <span class="d-block sub-list">{{item.designation}}</span>
                      </label>
                    </li>
                    <!--<span class="btn-key" > Search more </span>-->
                    <li class="d-block list-name h-40 p-10"
                      *ngIf="wiproContact['message'] && !isActivityGroupSearchLoading">
                      No record found </li>
                  </ul>
                </perfect-scrollbar>
                <span class="db-search"
                  (click)="openadvancetabs('Assignmentowner',wiproContact, assignmentObj['Owners']['Name'])" (keypress) = "openadvancetabs('Assignmentowner',wiproContact, assignmentObj['Owners']['Name'])">
                  <button id="adls{{wiproContact?.length+1}}" role="option" tabindex="0" aria-disabled="false"
                    type="button" class="button-search" [class.active]="wiproContact?.length+1 == arrowkeyLocation">
                    <span class="mdi mdi-file-outline"></span> Advance look up
                  </button>
                </span>
              </div>
            </form>
          </div>
        </div>
        <!--autocomplete-->

        <!--owner select dropdown starts-->
        <!--<div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20">
                        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationT1"
                        class="label-form">Owner</label>
                        <div class="customized-select">
                        <span class="caret color-azure"></span>
                        <select id="CoversationT1" role="listbox" class="pad-left10">
                            <option value="Face to face conversation"> Select</option>
                            <option value="Virtual conversation">New Delhi</option>
                            <option value="Telephonic Conversation">Mumbai</option>
                        </select>
                        </div>
                    </div> -->
        <!--owner select dropdown ends-->

        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left no_pad">
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  cust_autoComplete pos-rel mt20">
            <label class="col-sm-12 no_pad editLabel" for="sec">Secondary owner</label>
            <!-- <mat-radio-group id="sec">
                            <mat-radio-button value="true" checked class="pr30">
                                Yes</mat-radio-button>
                            <mat-radio-button value="false">No
                            </mat-radio-button>
                        </mat-radio-group> -->

            <mat-radio-group id="sec">
              <mat-radio-button [value]="true" [checked]="assignmentObj['issecondary']" (change)="isToggled($event)"
                class="pr30">
                Yes</mat-radio-button>
              <mat-radio-button [value]="false" [checked]="!assignmentObj['issecondary']" (change)="isToggled($event)">
                No
              </mat-radio-button>
            </mat-radio-group>


          </div>
        </div>
        <!--************************************************-->
        <!--SBU html code here  -->

        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4  float-left mt20">
          <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
            [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="contactSBU"
              class="label-form"> SBU <span class="asteriq"> * </span></label>
            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="contactSBU"
              name="contactSBU" autocomplete="off" type="text" [(ngModel)]="assignmentObj['SBU']['Name']"
              formControlName="SBU" placeholder="Search SBU" (clickOutside)="contactSBUclose()"
              (keyup)="contactSBUSwitch = true;"
              [ngClass]="submitted && accOwnerSwap.SBU.errors && accOwnerSwap.SBU.errors.required ? 'border-pink':'border-gray'"
              disabled required>

            <p *ngIf="submitted && accOwnerSwap.SBU.errors && accOwnerSwap.SBU.errors.required"
              class="error-message custom-label">SBU is required</p>
            <span class="mdi mdi-magnify"></span>
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure
          suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="createDropDown.SBU && contactSBUSwitch">
              <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                <span class="w-100 z-ind-9 float-left bg-white">
                  <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                    [ngClass]="{'loader-search':isActivityGroupSearchLoading }">

                    <li class="h-50 p-4-10 " (click)="appendcontactSBU(item,ind); contactSBUSwitch = false;"
                      *ngFor="let item of createDropDown.SBU; let ind = index">

                      <!--<div class="float-left naming-tags child-middle bg-azure">
                    <span class="initials">{{item.initials}}</span>
                        </div>-->
                      <label for="inti_name" class="float-left name">
                        <span class="d-block list-name">{{item.Name}}</span>
                        <!--<span class="d-block sub-list">{{item.designation}}</span>-->
                      </label>
                    </li>

                    <li class="d-block list-name h-40 p-10"
                      *ngIf="contactSBUSwitch && createDropDown.SBU['message'] && !isActivityGroupSearchLoading">
                      {{createDropDown.SBU['message']}} </li>
                    <!-- <li class="d-block list-name h-40 p-10" *ngIf="contactSBUSwitch && createDropDown.SBU.length == 0">
                  No record found </li> -->
                  </ul>
                </span>
              </perfect-scrollbar>
              <!-- <span class="db-search"
              (click)="openadvancetabs('currencyaccount',currencyaccount, CurrencyList.value)">
              <button id="{{currencyaccount?.length+1}}" role="option" tabindex="0"
                  aria-disabled="false" type="button" class="button-search"
                  [class.active]="currencyaccount?.length+1 == arrowkeyLocation">
                  <span class="mdi mdi-file-outline"></span> Advance look up
              </button>
          </span> -->
            </div>
          </form>
        </div>
        <!--Sbu select dropdown starts-->
        <!--<div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20">
                        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationT1"
                        class="label-form">SBU</label>
                        <div class="customized-select">
                        <span class="caret color-azure"></span>
                        <select id="CoversationT1" role="listbox" class="pad-left10">
                            <option value="Face to face conversation"> Select</option>
                            <option value="Virtual conversation">New Delhi</option>
                            <option value="Telephonic Conversation">Mumbai</option>
                        </select>
                        </div>
                    </div> -->
        <!--sbu select dropdown ends-->

        <!--vertical is there -->
        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4  float-left mt20">
          <form (clickOutside)="contact1Nameclose()"
            class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
            [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="contact1Name"
              class="label-form"> Vertical <span class="asteriq"> * </span></label>
            <input appKeyListControl #VerticalList role="combobox" aria-owns="read" [dataManipulate]="true"
              [attr.aria-activedescendant]="arrowkeyLocation" aria-autocomplete="list"
              [attr.aria-expanded]="contact1NameSwitch?true:false" (arrowDown)="arrowkeyLocation=$event"
              matTooltip="{{VerticalList.value}}" (keyup.enter)="VerticalList.value=createDropDown.Vertical[arrowkeyLocation].Name;
             VerticalName=createDropDown.Vertical[arrowkeyLocation].Name;
             SubVerticalByVertical(assignmentObj['Vertical']['Name']);
             appendcontactvertical(createDropDown.Vertical[arrowkeyLocation],arrowkeyLocation,true);
              contact1NameSwitch=false" autocomplete="off" (keydown.Tab)="contact1Nameclose()"
              [attr.data-arrayMaxLength]="createDropDown.Vertical?.length" [attr.data-isDownBtn]=true
              [attr.data-selectedvalue]="VerticalName"
              class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="contact1Name"
              name="contact1Name" autocomplete="off" type="text" [(ngModel)]="assignmentObj['Vertical']['Name']"
              formControlName="Vertical" placeholder="Search vertical" (intialLoadData)="contact1NameSwitch = true ; 
              VerticalandSBU(VerticalList.value);arrowkeyLocation=0"
              (input)="contact1NameSwitch = true;VerticalandSBU(VerticalList.value)"
              [ngClass]="submitted && accOwnerSwap.Vertical.errors && accOwnerSwap.Vertical.errors.required ? 'border-pink':'border-gray'"
              autocomplete="off">
            <!-- (keyup.enter)="AssignementOwnerList.value=wiproContact[arrowkeyLocation].contact;AssignmentVerticalData=wiproContact[arrowkeyLocation].contact; appendcontact(wiproContact[arrowkeyLocation].contact,wiproContact[arrowkeyLocation],true);contactNameSwitch=false"
             
              appKeyListControl 
              #AssignementOwnerList 
              (arrowDown)="arrowkeyLocation=$event"
             
              [attr.data-arrayMaxLength]="wiproContact?.length" 
              [attr.data-isDownBtn]=true required 
              [attr.data-selectedvalue]="AssignmentVerticalData" 
                (refinejunkvalue)="AssignmentVerticalData=''"
                matTooltip="{{AssignementOwnerList.value}}"  -->

            <p *ngIf="submitted && accOwnerSwap.Vertical.errors && accOwnerSwap.Vertical.errors.required"
              class="error-message custom-label">Vertical is required</p>
            <!-- <p *ngIf="submitted && accOwnerSwap.vertical.errors && accOwnerSwap.vertical.errors.required" class="error-message custom-label">Vertical is required</p> -->
            <span class="mdi mdi-magnify"></span>
            <span class="mdi mdi-close auto-close" (click)="removeSeletecedValue('Vertical');
            arrowkeyLocation=0;VerticalName=''" *ngIf="!contact1NameSwitch && VerticalList.value!==''"></span>
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure
            suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="createDropDown.Vertical && contact1NameSwitch">
              <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                <span class="w-100 z-ind-9 float-left bg-white">
                  <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                    [ngClass]="{'loader-search':isActivityGroupSearchLoading }">

                    <li class="h-50 p-4-10 " *ngFor="let item of createDropDown.Vertical; let ind = index"
                      (click)="VerticalList.value=item.Name;
                      VerticalName=item.Name;appendcontactvertical(item,ind,true); contact1NameSwitch = false;SubVerticalByVertical(assignmentObj['Vertical']['Name']);" id="{{ind}}" tabindex="0"
                      role="option" [class.active]="ind==arrowkeyLocation" aria-disabled="false" aria-selected="false">

                      <!--<div class="float-left naming-tags child-middle bg-azure">
                      <span class="initials">{{item.initials}}</span>
                    </div>-->
                      <label for="inti_name" class="float-left name">
                        <span class="d-block list-name">{{item.Name}}</span>

                      </label>
                    </li>
                    <li class="d-block list-name h-40 p-10"
                      *ngIf="contact1NameSwitch && createDropDown.Vertical['message']&& !isActivityGroupSearchLoading">
                      {{createDropDown.Vertical['message']}} </li>
                  </ul>
                </span>
              </perfect-scrollbar>
              <span class="db-search"
                (click)="openadvancetabs('Assignmentvertical',sub_and_vertical, assignmentObj['Vertical']['Name'])" (keypress) = "openadvancetabs('Assignmentvertical',sub_and_vertical, assignmentObj['Vertical']['Name'])">
                <button id="adls{{createDropDown.Vertical?.length+1}}" role="option" tabindex="0" aria-disabled="false"
                  type="button" class="button-search"
                  [class.active]="createDropDown.Vertical?.length+1 == arrowkeyLocation">
                  <span class="mdi mdi-file-outline"></span> Advance look up
                </button>
              </span>
            </div>
          </form>
        </div>
        <!--Vertical select dropdown starts-->
        <!--<div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20">
                        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationT1"
                        class="label-form">Vertical</label>
                        <div class="customized-select">
                        <span class="caret color-azure"></span>
                        <select id="CoversationT1" role="listbox" class="pad-left10">
                            <option value="Face to face conversation"> Select</option>
                            <option value="Virtual conversation">New Delhi</option>
                            <option value="Telephonic Conversation">Mumbai</option>
                        </select>
                        </div>
                    </div> -->
        <!--Vertical select dropdown ends-->
        <!--sub vertical here-->
        <div
          *ngIf="!(accOwnerSwap.Vertical.touched && accOwnerSwap.Vertical.dirty && !accOwnerSwap.Vertical.invalid && !accOwnerSwap.SubVertical.valid)"
          class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4  float-left mt20">
          <form (clickOutside)="contactNameclose2()"
            class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
            [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="contactName2"
              class="label-form">Sub vertical <span class="asteriq"> * </span></label>
            <input appKeyListControl #SubVerticalList role="combobox" aria-owns="read" [dataManipulate]="true"
              [attr.aria-activedescendant]="arrowkeyLocation" aria-autocomplete="list"
              [attr.aria-expanded]="contactNameSwitch2?true:false" (arrowDown)="arrowkeyLocation=$event"
              matTooltip="{{SubVerticalList.value}}" (keyup.enter)="SubVerticalList.value=createDropDown.SubVertical[arrowkeyLocation].Name;
             SubVerticalName=createDropDown.SubVertical[arrowkeyLocation].Name;           
             appendcontactsubvertical(createDropDown.SubVertical[arrowkeyLocation],arrowkeyLocation,true);
             contactNameSwitch2=false" autocomplete="off" (keydown.Tab)="contactNameclose2()"
              [attr.data-arrayMaxLength]="createDropDown.SubVertical?.length" [attr.data-isDownBtn]=true
              [attr.data-selectedvalue]="SubVerticalName"
              class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="contactName2"
              name="contactName2" autocomplete="off" type="text" formControlName="SubVertical"
              [(ngModel)]="assignmentObj['SubVertical']['Name']" placeholder="Search sub-vertical" (intialLoadData)="contactNameSwitch2 = true;
              SubVerticalByVertical(VerticalList.value);arrowkeyLocation=0"
              (input)="contactNameSwitch2 = true;SubVerticalByVertical(assignmentObj['SubVertical']['Name'])"
              [ngClass]="submitted && accOwnerSwap.SubVertical.errors && accOwnerSwap.SubVertical.errors.required  ? 'border-pink':'border-gray'"
              required>

            <p *ngIf="submitted && accOwnerSwap.SubVertical.errors && accOwnerSwap.SubVertical.errors.required "
              class="error-message custom-label">Sub vertical is required</p>
            <span class="mdi mdi-magnify"></span>
            <span class="mdi mdi-close auto-close" (click)="removeSeletecedValue('SubVertical');
            arrowkeyLocation=0;SubVerticalName=''" *ngIf="!contactNameSwitch2 && SubVerticalList.value!==''"></span>
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure
             suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="createDropDown.SubVertical && contactNameSwitch2">
              <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                <span class="w-100 z-ind-9 float-left bg-white">
                  <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                    [ngClass]="{'loader-search':isActivityGroupSearchLoading }">
                    <li class="h-50 p-4-10 " *ngFor="let item of createDropDown.SubVertical; let ind = index"
                      (click)="SubVerticalList.value=createDropDown.SubVertical[arrowkeyLocation].Name;
                      SubVerticalName=createDropDown.SubVertical[arrowkeyLocation].Name;appendcontactsubvertical(item,ind,true)" id="{{ind}}" tabindex="0"
                      role="option" [class.active]="ind==arrowkeyLocation" aria-disabled="false" aria-selected="false"> 

                      <!--<div class="float-left naming-tags child-middle bg-azure">
                        <span class="initials">{{item.initials}}</span>
                </div>-->
                      <label for="inti_name" class="float-left name">
                        <span class="d-block list-name">{{item.Name}}</span>
                        <!--<span class="d-block sub-list">{{item.designation}}</span>-->
                      </label>
                    </li>
                    <li class="d-block list-name h-40 p-10"
                      *ngIf="contactNameSwitch2 && createDropDown.SubVertical['message'] && !isActivityGroupSearchLoading">
                      {{createDropDown.SubVertical['message']}} </li>
                  </ul>
                </span>
              </perfect-scrollbar>
              <span class="db-search"
                (click)="openadvancetabs('Assignmentsubvertical',sub_and_vertical, assignmentObj['SubVertical']['Name'])" (keypress) = "openadvancetabs('Assignmentsubvertical',sub_and_vertical, assignmentObj['SubVertical']['Name'])">
                <button id="adls{{createDropDown.SubVertical?.length+1}}" role="option" tabindex="0" aria-disabled="false"
                  type="button" class="button-search"
                  [class.active]="createDropDown.SubVertical?.length+1 == arrowkeyLocation">
                  <span class="mdi mdi-file-outline"></span> Advance look up
                </button>
              </span>
            </div>
          </form>
        </div>
        <!--Sub vertical select dropdown starts-->
        <div
          *ngIf="accOwnerSwap.Vertical.touched && accOwnerSwap.Vertical.dirty && !accOwnerSwap.Vertical.invalid && !accOwnerSwap.SubVertical.valid"
          class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20">
          <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
            [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationT1"
              class="label-form">Sub vertical</label>
            <div class="customized-select">
              <span class="caret color-azure"></span>
              <select *ngIf="!(subVerticals.length == 0)" id="CoversationT1" role="listbox" class="pad-left10"
                formControlName="SubVertical" [(ngModel)]="assignmentObj['SubVertical']['Name']"
                (change)="appendcontactsubvertical(assignmentObj['SubVertical'],-1)"
                [ngClass]="submitted && accOwnerSwap.SubVertical.errors && accOwnerSwap.SubVertical.errors.required && subVerticals.length != 0 ? 'border-pink':'border-gray'"
                required>
                <option *ngFor="let subVertical of subVerticals" value="{{subVertical.Name}}">{{subVertical.Name}}
                </option>
                <!-- <option *ngIf="subVerticals['msg'] ? true :false " value="{{subVerticals['msg']}}"> {{subVerticals['msg']}}</option> -->
              </select>
              <select *ngIf="subVerticals.length == 0 " id="CoversationT1" role="listbox" class="pad-left10"
                formControlName="SubVertical" [(ngModel)]="assignmentObj['SubVertical']['Name']"
                (change)="appendcontactsubvertical(assignmentObj['SubVertical'],-1)"
                [ngClass]="submitted && accOwnerSwap.SubVertical.errors && accOwnerSwap.SubVertical.errors.required && subVerticals.length != 0 ? 'border-pink':'border-gray'"
                [attr.disabled]="true">
                <option>no record</option>
              </select>
              <p *ngIf="submitted && accOwnerSwap.SubVertical.errors && accOwnerSwap.SubVertical.errors.required && subVerticals.length != 0"
                class="error-message custom-label">Sub vertical is required</p>
            </div>
          </form>
        </div>
        <!--Sub vertical select dropdown ends-->
        <!--CBU html code here  AK-->
        <!--************************************************-->
        <!-- <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4  float-left mt20">
        <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="contactNamecbu" class="label-form">CBU <span class="asteriq"> * </span></label>
            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="contactNamecbu" name="contactNamecbu" autocomplete="off" type="text" formControlName="CBU" [(ngModel)]="assignmentObj['CBU']['Name']" placeholder="Search cbu"
                (clickOutside)="contactNameclosecbu()" (keyup)="contactNameSwitchcbu = true;SearchCBU(assignmentObj['CBU']['Name'])" [ngClass]="submitted && accOwnerSwap.CBU.errors && accOwnerSwap.CBU.errors.required ? 'border-pink':'border-gray'" required>

            <p *ngIf="submitted && accOwnerSwap.CBU.errors && accOwnerSwap.CBU.errors.required" class="error-message custom-label">Cbu is required</p>

            <span class="mdi mdi-magnify"></span>

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure
              suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="createDropDown.SearchCBU && contactNameSwitchcbu">
                <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                    <span class="w-100 z-ind-9 float-left bg-white">
                  <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                    [ngClass]="{'loader-search':isActivityGroupSearchLoading }">
                
                  <li class="list-group-item h-50 p-4-10 " (click)="appendcontactSearchCBU(item,item.index)"
                    *ngFor="let item of createDropDown.SearchCBU">

                    <div class="float-left naming-tags child-middle bg-azure">
                      <span class="initials">{{item.initials | uppercase}}</span>
            </div>
            <label for="inti_name" class="float-left name">
                      <span class="d-block list-name">{{item.Name}}</span> -->
        <!-- commented next line-->
        <!--<span class="d-block sub-list">{{item.designation}}</span>-->
        <!-- </label>
            </li>
            <li class="d-block list-name h-40 p-10" *ngIf="contactNameSwitchcbu && createDropDown.SearchCBU['message']&& !isActivityGroupSearchLoading">
                {{createDropDown.SearchCBU['message']}}</li>
            </ul>
            </span>
            </perfect-scrollbar>
    </div>
    </form>
</div> -->

        <!-- till here search box-->

        <!--CBU select dropdown starts-->
        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20" *ngIf="filterCheckBox['msg']">
          <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
            [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationT1"
              class="label-form">CBU <span class="asteriq"> * </span></label>
            <div class="customized-select">
              <span class="caret color-azure"></span>
              <select id="CoversationT1" role="listbox" class="pad-left10" formControlName="CBU"
                [(ngModel)]="assignmentObj['CBU']"
                [ngClass]="submitted && accOwnerSwap.CBU.errors && accOwnerSwap.CBU.errors.required ? 'border-pink':'border-gray'">
                <option value=""> {{filterCheckBox['msg']}}</option>
              </select>
            </div>
            <p *ngIf="submitted && accOwnerSwap.CBU.errors && accOwnerSwap.CBU.errors.required"
              class="error-message custom-label">
              CBU is required</p>
          </form>
        </div>
        <!--CBU select dropdown ends-->


        <!--CBU multi-select-checkbox starts-->
        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 " *ngIf="filterCheckBox.length>0">
          <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
            [formGroup]="accOwnerSwapForm">
            <app-multi-select-checkbox formControlName="CBU" [Source]="filterCheckBox" [printAsterisk]="printAsterisk"
              (selectedContent)="selectedValues($event)" [label]="'CBU'" [Placeholder]="'Select CBU'"
              [cbuReadOnly]="true">
            </app-multi-select-checkbox>
            <!-- VALIDATION FOR CBU STARTS. DO NOT REMOVE-->
            <p *ngIf="submitted && accOwnerSwap.CBU.errors && accOwnerSwap.CBU.errors.required"
              class="error-message custom-label">
              CBU is required</p>
            <!-- VALIDATION FOR CBU ENDS. DO NOT REMOVE-->
          </form>
        </div>
        <!--CBU multi-select-checkbox ends-->
        <!--CBU select dropdown ends-->

        <!--Geo html code here  -->
        <!--************************************************-->

        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4  float-left mt20">
          <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
            [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="contactName22"
              class="label-form">Geo<span class="asteriq"> * </span></label>
            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
              id="contactName22" name="contactName22" autocomplete="off" type="text"
              [(ngModel)]="assignmentObj['Geo']['Name']" placeholder="Search Geo" (clickOutside)="contactNameclose22()"
              formControlName="Geo"
              (input)="contactNameSwitch22 = true;GetGeographyByName(assignmentObj['Geo']['Name'])"
              (click)="contactNameSwitch22 = true;GetGeographyByName(assignmentObj['Geo']['Name'])"
              [ngClass]="submitted && accOwnerSwap.Geo.errors && accOwnerSwap.Geo.errors.required ? 'border-pink':'border-gray'"
              required>

            <p *ngIf="submitted && accOwnerSwap.Geo.errors && accOwnerSwap.Geo.errors.required"
              class="error-message custom-label">Geo is required</p>
            <span class="mdi mdi-magnify"></span>

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure
            suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="createDropDown.Geo && contactNameSwitch22">
              <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                <span class="w-100 z-ind-9 float-left bg-white">
                  <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                    [ngClass]="{'loader-search':isActivityGroupSearchLoading }">
                    <li class="h-50 p-4-10 "
                      (click)="appendcontactgeo(item,ind);RegionByGeo(assignmentObj['Geo']['Name'])"
                      *ngFor="let item of createDropDown.Geo; let ind = index">
                      <label for="inti_name" class="float-left name">
                        <span class="d-block list-name">{{item.Name}}</span>
                        <!--<span class="d-block sub-list">{{item.designation}}</span>-->
                      </label>
                    </li>
                    <li class="d-block list-name h-40 p-10"
                      *ngIf="contactNameSwitch22 && createDropDown.Geo['message']&& !isActivityGroupSearchLoading">
                      {{createDropDown.Geo['message']}} </li>
                  </ul>
                </span>
              </perfect-scrollbar>
              <span class="db-search"
                (click)="openadvancetabs('Assignmentgeography',createDropDown.Geo,assignmentObj['Geo']['Name'])" (keypress) = "openadvancetabs('Assignmentgeography',createDropDown.Geo,assignmentObj['Geo']['Name'])">
                <button id="{{createDropDown.Geo?.length+1}}" role="option" tabindex="0" aria-disabled="false"
                  type="button" class="button-search" [class.active]="createDropDown.Geo?.length+1 == arrowkeyLocation">
                  <span class="mdi mdi-file-outline"></span> Advance look up
                </button>
              </span>
            </div>
          </form>
        </div>
        <!--Geo select dropdown starts-->
        <!--<div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20">
                        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationT1"
                        class="label-form">Geo</label>
                        <div class="customized-select">
                        <span class="caret color-azure"></span>
                        <select id="CoversationT1" role="listbox" class="pad-left10">
                            <option value="Face to face conversation"> Select</option>
                            <option value="Virtual conversation">New Delhi</option>
                            <option value="Telephonic Conversation">Mumbai</option>
                        </select>
                        </div>
                    </div> -->
        <!--Geo select dropdown ends-->
        <!--Region html code here  -->
        <!--************************************************-->
        <div
          *ngIf="!(accOwnerSwap.Geo.touched && accOwnerSwap.Geo.dirty && !accOwnerSwap.Geo.invalid && !accOwnerSwap.Region.valid)"
          class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4  float-left mt20">
          <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
            [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="contactName3"
              class="label-form">Region<span class="asteriq"> * </span></label>
            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="contactName3"
              name="contactName3" autocomplete="off" type="text" [(ngModel)]="assignmentObj['Region']['Name']"
              placeholder="Search region" (clickOutside)="contactNameclose3()" formControlName="Region"
              (keyup)="contactNameSwitch3 = true;RegionByGeo(assignmentObj['Region']['Name'])"
              (click)="contactNameSwitch3 = true;RegionByGeo(assignmentObj['Region']['Name'])"
              [ngClass]="submitted && accOwnerSwap.Region.errors && accOwnerSwap.Region.errors.required ? 'border-pink':'border-gray'"
              required>

            <p *ngIf="submitted && accOwnerSwap.Region.errors && accOwnerSwap.Region.errors.required"
              class="error-message custom-label">Region is required</p>

            <span class="mdi mdi-magnify"></span>
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure
            suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="createDropDown.Region && contactNameSwitch3">
              <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                <span class="w-100 z-ind-9 float-left bg-white">
                  <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                    [ngClass]="{'loader-search':isActivityGroupSearchLoading }">
                    <li class="h-50 p-4-10 "
                      (click)="appendRegionByGeo(item,ind,true);CountryByRegion(assignmentObj['Region']['Name'])"
                      *ngFor="let item of createDropDown.Region; let ind = index">
                      <label for="inti_name" class="float-left name">
                        <span class="d-block list-name">{{item.Name}}</span>

                      </label>
                    </li>
                    <li class="d-block list-name h-40 p-10"
                      *ngIf="contactNameSwitch3 && createDropDown.Region['message']&& !isActivityGroupSearchLoading">
                      {{createDropDown.Region['message']}} </li>
                  </ul>
                </span>
              </perfect-scrollbar>
              <span class="db-search"
                (click)="openadvancetabs('Assignmentregion',location_temp, assignmentObj['Region']['Name'])" (keypress) = "openadvancetabs('Assignmentregion',location_temp, assignmentObj['Region']['Name'])">
                <button id="{{createDropDown.Region?.length+1}}" role="option" tabindex="0" aria-disabled="false"
                  type="button" class="button-search"
                  [class.active]="createDropDown.Region?.length+1 == arrowkeyLocation">
                  <span class="mdi mdi-file-outline"></span> Advance look up
                </button>
              </span>
            </div>
          </form>
        </div>
        <!--Region select dropdown starts-->
        <div
          *ngIf="accOwnerSwap.Geo.touched && accOwnerSwap.Geo.dirty && !accOwnerSwap.Geo.invalid && !accOwnerSwap.Region.valid"
          class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20">
          <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
            [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationT1"
              class="label-form">Region <span class="asteriq"> * </span></label>
            <div class="customized-select">
              <span class="caret color-azure"></span>
              <select id="CoversationT1" role="listbox" class="pad-left10" formControlName="Region"
                [(ngModel)]="assignmentObj['Region']['Name']"
                (change)="appendRegionByGeo(assignmentObj['Region'],-1);CountryByRegion(assignmentObj['Region']['Name'])"
                required>
                <option *ngFor="let region of regions" value="{{region.Name}}"> {{region.Name}}</option>
                <option *ngIf="regions['msg'] ? true :false " value="{{regions['msg']}}"> {{regions['msg']}}</option>
              </select>
            </div>
          </form>
        </div>
        <!--Region select dropdown ends-->
        <!--Country html code here  -->
        <!--************************************************-->
        <div
          *ngIf="!(accOwnerSwap.Geo.touched && accOwnerSwap.Geo.dirty && !accOwnerSwap.Geo.invalid  && !accOwnerSwap.Region.invalid)"
          class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4  float-left mt20">
          <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
            [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CountryOwnershipName3"
              class="label-form">Country</label>
            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
              id="CountryOwnershipName3" name="CountryOwnershipName3" autocomplete="off" type="text"
              [(ngModel)]="assignmentObj['Country']['Name']" placeholder="Search country"
              (clickOutside)="CountryOwnershipNameclose3()" formControlName="Country"
              (click)="CountryOwnershipNameSwitch3 = true;CountryByRegion(assignmentObj['Country']['Name'])"
              (input)="CountryOwnershipNameSwitch3 = true;CountryByRegion(assignmentObj['Country']['Name'])">

            <span class="mdi mdi-magnify"></span>
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure
            suggestion-box pos-abs z-ind-99 border-leftdrop"
              *ngIf="createDropDown.Country && CountryOwnershipNameSwitch3">
              <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                <span class="w-100 z-ind-9 float-left bg-white">
                  <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                    [ngClass]="{'loader-search':isActivityGroupSearchLoading }">
                    <li class="h-50 p-4-10 " (click)="appendCountryOwnership(item,ind,true)"
                      *ngFor="let item of createDropDown.Country; let ind = index">
                      <label for="inti_name" class="float-left name">
                        <span class="d-block list-name">{{item.Name}}</span>
                        <!--<span class="d-block sub-list">{{item.designation}}</span>-->
                      </label>
                    </li>
                    <li class="d-block list-name h-40 p-10"
                      *ngIf="CountryOwnershipNameSwitch3 && createDropDown.Country['message']&& !isActivityGroupSearchLoading">
                      {{createDropDown.Country['message']}} </li>
                  </ul>
                </span>
              </perfect-scrollbar>
              <span class="db-search"
                (click)="openadvancetabs('Assignmentcountry',location_temp, assignmentObj['Country']['Name'])" (keypress) = "openadvancetabs('Assignmentcountry',location_temp, assignmentObj['Country']['Name'])">
                <button id="{{createDropDown.Country?.length+1}}" role="option" tabindex="0" aria-disabled="false"
                  type="button" class="button-search"
                  [class.active]="createDropDown.Country?.length+1 == arrowkeyLocation">
                  <span class="mdi mdi-file-outline"></span> Advance look up
                </button>
              </span>
            </div>
          </form>
        </div>
        <!--Country select dropdown starts-->
        <div
          *ngIf="accOwnerSwap.Geo.touched && accOwnerSwap.Geo.dirty && !accOwnerSwap.Geo.invalid  && !accOwnerSwap.Region.invalid"
          class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20">
          <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
            [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationT1"
              class="label-form">Country</label>
            <div class="customized-select">
              <span class="caret color-azure"></span>
              <select id="CoversationT1" role="listbox" class="pad-left10" formControlName="Country"
                [(ngModel)]="assignmentObj['Country']['Name']"
                (change)="appendCountryOwnership(assignmentObj['Country'],-1);StateByCountry(assignmentObj['State']['Name'])">
                <option *ngFor="let country1 of country" value="{{country1.Name}}">{{country1.Name}}</option>
                <option *ngIf="country['msg'] ? true :false " value="{{country['msg']}}"> {{country['msg']}}</option>
              </select>
            </div>
          </form>
        </div>
        <!--Country select dropdown ends-->

        <!--Country sub division html code here  -->
        <!--************************************************-->
        <!-- <div *ngIf="!(accOwnerSwap.Geo.touched && accOwnerSwap.Geo.dirty && !accOwnerSwap.Geo.invalid  && !accOwnerSwap.Region.invalid && !accOwnerSwap.Country.invalid)" class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4  float-left mt20">
        <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [formGroup]="accOwnerSwapForm"> -->
        <!--<label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="contactName4" class="label-form">State</label>-->
        <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="contactName4" class="label-form">Country sub division</label>
            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="contactName4" name="contactName4" autocomplete="off" type="text" formControlName="State" [(ngModel)]="assignmentObj['State']['Name']" placeholder="Search state"
                (clickOutside)="contactNameclose4()" (keyup)="contactNameSwitch4 = true;StateByCountry(assignmentObj['State']['Name'])">

            <span class="mdi mdi-magnify"></span>

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure
          suggestion-box pos-abs z-ind-99 border-leftdrop" *ngIf="createDropDown.State && contactNameSwitch4">
                <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                    <span class="w-100 z-ind-9 float-left bg-white">
                  <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                    [ngClass]="{'loader-search':isActivityGroupSearchLoading }">
                  <li class="list-group-item h-50 p-4-10 " (click)="appendcontactStateByCountry(item,ind)"
                    *ngFor="let item of createDropDown.State; let ind = index">
                    <label for="inti_name" class="float-left name">
                      <span class="d-block list-name">{{item.Name}}</span>
                    </label>
                    </li>
                    <li class="d-block list-name h-40 p-10" *ngIf="contactNameSwitch4 && createDropDown.State['message']&& !isActivityGroupSearchLoading">
                        {{createDropDown.State['message']}} </li>
                    </ul>
                    </span>
                </perfect-scrollbar>
            </div>
        </form>
    </div> -->
        <!--Country sub division select dropdown starts-->
        <!-- <div *ngIf="accOwnerSwap.Geo.touched && accOwnerSwap.Geo.dirty && !accOwnerSwap.Geo.invalid  && !accOwnerSwap.Region.invalid && !accOwnerSwap.Country.invalid" class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  mt20">
        <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationT1" class="label-form"> Country sub division </label>
            <div class="customized-select">
                <span class="caret color-azure"></span>
                <select id="CoversationT1" role="listbox" class="pad-left10" formControlName="State" [(ngModel)]="assignmentObj['State']['Name']" (change)="appendcontactStateByCountry(assignmentObj['State'],-1);CityByState(assignmentObj['City']['Name'])">
                            <option *ngFor=" let state of states " value="{{state.Name}}"> {{state.Name}}</option>
                            <option *ngIf="states[ 'msg'] ? true :false " value="{{states[ 'msg']}} "> {{states['msg']}}</option>
                        </select>
            </div>
        </form>
    </div> -->
        <!--Country sub division  dropdown ends-->
        <!--City region html code here  -->
        <!--************************************************-->
        <!-- <div *ngIf="!(accOwnerSwap.Geo.touched && accOwnerSwap.Geo.dirty && !accOwnerSwap.Geo.invalid && !accOwnerSwap.Region.invalid && !accOwnerSwap.Country.invalid && !accOwnerSwap.State.invalid) " class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left
                mt20 ">
        <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName " [formGroup]="accOwnerSwapForm "> -->
        <!--<label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="cityName " class="label-form ">City</label>-->
        <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="cityName " class="label-form ">City region</label>
            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 label-input " id="cityName " name="cityName " autocomplete="off " type="text " [(ngModel)]="assignmentObj[ 'City'][ 'Name'] " placeholder="Search city
                " (clickOutside)="cityNameclose() " formControlName="City" (keyup)="cityNameSwitch=true;CityByState(assignmentObj[ 'City'][ 'Name']) ">

            <span class="mdi mdi-magnify "></span>

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 border-leftdrop " *ngIf="createDropDown.City && cityNameSwitch ">
                <perfect-scrollbar style="max-height:160px " class="z-ind-9 ">
                    <span class="w-100 z-ind-9 float-left bg-white ">
                  <ul class=" list-group color-azure sort-dropdown mr2 " role="listbox " id="read "
                    [ngClass]="{ 'loader-search':isActivityGroupSearchLoading } ">
                  <li class="list-group-item h-50 p-4-10 " (click)="appendCityByState(item,ind) "
                    *ngFor="let item of createDropDown.City; let ind=i ndex ">
                    <label for="inti_name " class="float-left name ">
                      <span class="d-block list-name ">{{item.Name}}</span>
                    </label>
                    </li>
                    <li class="d-block list-name h-40 p-10 " *ngIf="cityNameSwitch && createDropDown.City[ 'message']&& !isActivityGroupSearchLoading ">
                        {{createDropDown.City['message']}} </li>
                    </ul>
                    </span>
                </perfect-scrollbar>
            </div>
        </form>
    </div> -->
        <!--City region select dropdown starts-->
        <!-- <div *ngIf="accOwnerSwap.Geo.touched && accOwnerSwap.Geo.dirty && !accOwnerSwap.Geo.invalid && !accOwnerSwap.Region.invalid && !accOwnerSwap.Country.invalid && !accOwnerSwap.State.invalid " class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left
                mt20 ">
        <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName " [formGroup]="accOwnerSwapForm">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="CoversationT1 " class="label-form ">City region</label>
            <div class="customized-select ">
                <span class="caret color-azure "></span>
                <select id="CoversationT1" role="listbox" class="pad-left10" formControlName="City" [(ngModel)]="assignmentObj[ 'City'][ 'Name']" (change)="appendCityByState(assignmentObj['City'],-1)">
                                <option *ngFor="let city of cities " value="{{city.Name}}"> {{city.Name}}</option>
                                <option *ngIf="cities[ 'msg'] ? true :false " value="{{cities[ 'msg']}} "> {{cities['msg']}}</option>
                        </select>
            </div>
        </form>
    </div> -->
        <!--City region select dropdown ends-->
        <!-- parent account-->
        <!--************************************************-->
        <!--<div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
    <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName " [formGroup]="accOwnerSwapForm ">
        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="contactNameacc " class="label-form ">Parent account</label>
        <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 label-input " id="contactNameacc " name="contactNameacc " autocomplete="off " type="text " formControlName="Parent " [(ngModel)]="assignmentObj[ 'Parent'][ 'Name']
                " placeholder="Search Parent account "
            (clickOutside)="contactNamecloseacc() " (keyup)="contactNameSwitchacc=t rue;SearchAccount(assignmentObj[ 'Parent'][ 'Name']) ">

        <span class="mdi mdi-magnify "></span>

        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 border-leftdrop " *ngIf="createDropDown.Parent && contactNameSwitchacc ">
            <perfect-scrollbar style="max-height:160px " class="z-ind-9 ">
                <span class="w-100 z-ind-9 float-left bg-white ">
                  <ul class=" list-group color-azure sort-dropdown mr2 " role="listbox " id="read "
                    [ngClass]="{ 'loader-search':isActivityGroupSearchLoading } ">
                  <li class="list-group-item h-50 p-4-10 " (click)="appendcontactparent(item,item.index) "
                    *ngFor="let item of createDropDown.Parent ">

                    <label for="inti_name " class="float-left name ">
                      <span class="d-block list-name ">{{item.Name}}</span>
                <span class="d-block sub-list ">{{item.designation}}</span>
                </label>
                </li>
                <li class="d-block list-name h-40 p-10 " *ngIf="contactNameSwitchacc && createDropDown.Parent[ 'message']&& !isActivityGroupSearchLoading ">
                    {{createDropDown.Parent['message']}} </li>
                </ul>
                </span>
            </perfect-scrollbar>
        </div>
    </form>
</div>-->
        <!--ultimate parent account-->
        <!--************************************************-->
        <!--<div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
    <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName " [formGroup]="accOwnerSwapForm ">
        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="contactNameUltimate " class="label-form ">Ultimate parent account</label>
        <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 label-input " id="contactNameUltimate " name="contactNameUltimate " autocomplete="off " type="text " formControlName="Ultimate " [(ngModel)]="assignmentObj[
                'Ultimate'][ 'Name'] " placeholder="Search ultimate parent account "
            (clickOutside)="contactNamecloseUltimate() " (keyup)="contactNameSwitchUltimate=t rue;UltimateParentAccount(assignmentObj[ 'Ultimate'][ 'Name']) ">
        <span class="mdi mdi-magnify "></span>
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 border-leftdrop " *ngIf="createDropDown.Ultimate && contactNameSwitchUltimate ">
            <perfect-scrollbar style="max-height:160px " class="z-ind-9 ">
                <span class="w-100 z-ind-9 float-left bg-white ">
                  <ul class=" list-group color-azure sort-dropdown mr2 " role="listbox " id="read "
                    [ngClass]="{ 'loader-search':isActivityGroupSearchLoading } ">

                  <li class="list-group-item h-50 p-4-10 "
                    (click)="appendcontactUltimateParent(item,item.index); contactNameSwitchUltimate=f alse "
                    *ngFor="let item of createDropDown.Ultimate ">
                    <label for="inti_name " class="float-left name ">
                      <span class="d-block list-name ">{{item.Name}}</span>
                <span class="d-block sub-list ">{{item.designation}}</span>
                </label>
                </li>
                <li class="d-block list-name h-40 p-10 " *ngIf="contactNameSwitchUltimate && createDropDown.Ultimate[ 'message'] && !isActivityGroupSearchLoading ">
                    {{createDropDown.Ultimate['message']}} </li>
                </ul>
                </span>
            </perfect-scrollbar>
        </div>
    </form>
</div>-->
        <!-- 
      <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="CoversationT1 "
          class="label-form ">Vertical</label>
        <div class="customized-select ">
          <span class="caret color-azure "></span>
          <select id="CoversationT1 " role="listbox " class="pad-left10 ">
            <option value="Face to face conversation "> Select vertical</option>
            <option value="Virtual conversation ">New Delhi</option>
            <option value="Telephonic Conversation ">Mumbai</option>
          </select>
        </div>
      </div> -->



        <!-- <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="CoversationT1 "
          class="label-form "> Sub-vertical</label>
        <div class="customized-select ">
          <span class="caret color-azure "></span>
          <select id="CoversationT1 " role="listbox " class="pad-left10 ">
            <option value="Face to face conversation "> Select  Sub-vertical</option>
            <option value="Virtual conversation ">New Delhi</option>
            <option value="Telephonic Conversation ">Mumbai</option>
          </select>
        </div>
      </div> -->


        <!-- 
       <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
         <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="text2 "
           class="label-form ">CBU</label>
         <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 input-text " id="text2 "
           name="text " type="text " placeholder="Enter CBU ">
       </div> -->



        <!-- <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
         <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="text3 "
           class="label-form ">BU</label>
         <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 input-text " id="text3 "
           name="text " type="text " placeholder="Enter BU ">
       </div> -->

        <!-- <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
         <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="text3 "
           class="label-form ">Parent account</label>
         <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 input-text " id="text3 "
           name="text " type="text " placeholder="Enter Parent account ">
       </div> -->


        <!-- <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
         <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="text2 "
           class="label-form ">Ultimate parent account</label>
         <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 input-text " id="text2 "
           name="text " type="text " placeholder="Enter ultimate parent account ">
       </div> -->



        <!--  <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
         <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="text3 "
           class="label-form ">Geo</label>
         <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 input-text " id="text3 "
           name="text " type="text " placeholder="Enter geo ">
       </div>

       <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
         <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="text3 "
           class="label-form ">Region</label>
         <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 input-text " id="text3 "
           name="text " type="text " placeholder="Enter region ">
       </div>

       <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
         <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="text3 "
           class="label-form ">Country</label>
         <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 input-text " id="text3 "
           name="text " type="text " placeholder="Enter country ">
       </div>

       

       <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
         <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="text3 "
           class="label-form ">State</label>
           <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 input-text " id="text3 "
           name="text " type="text " placeholder="Enter state ">
       </div>

       <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="text3 "
          class="label-form ">City</label>
          <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 input-text " id="text3 "
          name="text " type="text " placeholder="Enter city ">
      </div> -->



        <!--Region-->
        <!--<div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mt20 ">
          <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName "
            [formGroup]="accOwnerSwapForm ">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="contactName3 "
              class="label-form ">Region</label>
            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 label-input " id="contactName3 "
              name="contactName3 " autocomplete="off " type="text " [(ngModel)]="contactName3 " placeholder="Search region "
              (clickOutside)="contactNameclose3() " formControlName="region " (keyup)="contactNameSwitch3=t rue;searchSBU(contactName3) ">

            <span class="mdi mdi-magnify "></span>
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btmblue border-right float-left top64left no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 border-leftdrop " *ngIf="contactName3 && contactNameSwitch3 ">
              <perfect-scrollbar style="max-height:160px " class="z-ind-9 ">
                <ul class=" list-group mr2 sort-dropdown ">
                  <li class="list-group-item h-50 p-4-10 " (click)="appendcontact3(item.contact,item.index) "
                    *ngFor="let item of wiproContact3 |filter:contactName3 ">

                    <div class="float-left naming-tags child-middle bg-azure ">
                      <span class="initials ">{{item.initials}}</span>
                    </div>
                    <label for="inti_name " class="float-left name ">
                       <span class="d-block list-name ">{{item.Name}}</span>
                   
                    </label>
                  </li>
                  <li class="d-block list-name h-40 p-10 " *ngIf="(wiproContact3 |filter:contactName3).length==0 ">
                    No record found </li>
                </ul>
              </perfect-scrollbar>
            </div>
          </form>
        </div>-->

        <!--Country-->
        <br />
        <!--<div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 plb-60-20 sections-pad-20 float-left mt20 ">
          <div class="float-left customized-input slidetoggle slidetoggleGovr_responsive customized-slider ">-->
        <!-- <mat-slide-toggle>Government account</mat-slide-toggle> -->
        <!--<mat-slide-toggle [checked]="assignmentObj[ 'territoryflag'] " (change)="setterritoryflag($event) ">
              Territory flag?</mat-slide-toggle>
          </div>
        </div>-->

        <!--<div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 plb-60-20 sections-pad-20 float-left mt20 ">
    <div class="float-left customized-input slidetoggle slidetoggleGovr_responsive customized-slider ">
         <mat-slide-toggle>Government account</mat-slide-toggle> 
        <mat-slide-toggle [checked]="assignmentObj[ 'issecondary'] " (change)="setsecondary($event) ">
            Is secondary? </mat-slide-toggle>
    </div>
</div>-->


      </div>


    </div>
  </div>
</div>
<!-- </form>   -->