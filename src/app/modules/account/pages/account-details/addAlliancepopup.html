<div class="col-12 float-left  no_pad popup-container ">

    <div class="col-12 float-left  container-dialog">
        <div class="col-12 float-left  no_pad popup-hd">
            <span class="col-10 float-left  no_pad popup-hd-txt" mat-dialog-title>Add alliance</span>
            <button class="col-2 float-right no_pad btndef-none mdi mdi-window-close discard-close-btn close-icn" aria-label="close" mat-dialog-close></button>
        </div>

        <div class="col-12 float-left border-bottom-grey"></div>

        <!-- <div class="col-12 float-left no_pad cust_autoComplete">
            <label class="col-12 float-left  no_pad margin-top-20 hd-val" for="percentage">Alliance name<span class="required"> *</span></label>
            <input type="text" class="col-12 float-left border-gray w-100 label-input" name="percentage"
                placeholder="Enter the alliance name" [(ngModel)]="newAlliance.name"/>

        </div> -->

        <!--Linked campaigns autocomplete starts -->
        <div class="col-12 float-left mt20 no_pad">
            <div class="col-12  no_pad float-left plb-60-20 cust_autoComplete pos-rel">
                <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName">
                    <label class="col-12  float-left no_pad" for="table_data" class="label-form">Alliance name<span class="required"> *</span>
                    </label>
                    <input class="col-12  float-left h-40 label-input" id="contactcampaign" name="contactcampaign" autocomplete="off" type="text" [(ngModel)]="newAlliance.alliance.Name" placeholder="Search alliance name" (clickOutside)="linkedallinaceSwitch = false" (input)="getSearchAllianceAccounts(newAlliance.alliance.Name);linkedallinaceSwitch = true;"
                        [ngClass]="allsubmitted && !newAlliance.alliance.Name ? 'border-pink':'border-gray'" (click)="getSearchAllianceAccounts(newAlliance.alliance.Name);linkedallinaceSwitch = true;">
                    <span class="mdi mdi-magnify"></span>
                    <p *ngIf="allsubmitted && !newAlliance.alliance.Name" class="error-message custom-label top64" id="stateerrormsg">Alliance name is required</p>

                    <div class="col-12  border-right border-btm z-ind-9999 float-left no_pad suggestion-box pos-sticky border-bottom-4 top64 standard-border color-azure z-ind-9 bg-white" *ngIf="allAlliance && linkedallinaceSwitch">

                        <ul class=" list-group color-azure autocomplete-box">
                            <span class="w-100 z-ind-9 float-left bg-white">
                              <perfect-scrollbar style="max-height:160px" class="z-ind-9"> 
                             <span class="w-100 z-ind-9 float-left bg-white">
                                <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read" 
                                    [ngClass]="isActivityGroupSearchLoading?'loader-search':''">
                                    <li class="list-group-item h-50 p-4-10"
                                        (click)="appendalliance(item)" 
                                        *ngFor="let item of allAlliance">

                                        <label for="inti_name" class="float-left name w-80">
                                            <span class="d-block list-name ellipses">{{getdecodevalue(item.Name)}}</span>
                            <span class="d-block sub-list">{{item.Number}} | {{item.Owner ? item.Owner.FullName : '' }}</span>
                            </label>

                            </li>
                            <li class="d-block list-name h-40 p-10 cp" *ngIf="allAlliance['message'] && !isActivityGroupSearchLoading">

                                {{allAlliance['message']}}
                            </li>
                        </ul>
                        </span>
                        </perfect-scrollbar>
                        <span class="db-search" (click)="openadvancetabs('AllianceContactSearch',allAlliance,newAlliance.alliance.Name)">
                                <button id="adls{{allAlliance?.length+1}}" role="option" tabindex="0" aria-disabled="false"
                                    type="button" class="button-search" [class.active]="allAlliance?.length+1 == arrowkeyLocation">
                                    <span class="mdi mdi-file-outline"></span> Advance look up
                        </button>
                        </span>
                        </span>
                        </ul>
                    </div>
                </form>

            </div>
            <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad mt-20 " >
                <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName CompanyNamewip add-advisory">
                        <label class="col-12  float-left no_pad" for="contactcampaign" class="label-form">Customer contact<span class="required"> *</span>
                            </label>
                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
                        id="contactcampaign" name="contactcampaign"
                        autocomplete="off" type="text" [(ngModel)]="newAlliance.contactcampaign.FullName" placeholder="Search the customer contact"
                        (clickOutside)="linkedcampaignSwitch = false" (keyup)="getCustomerContact(newAlliance.contactcampaign.FullName)" (click)="linkedcampaignSwitch = true;getCustomerContact(newAlliance.contactcampaign.FullName)">
                    <span class="mdi mdi-magnify"></span>
    
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad z-ind-9"
                         *ngIf="linkedcampaignSwitch">
                        <ul class=" list-group color-azure autocomplete-box" >
                            <span class="w-100 z-ind-9 float-left bg-white">
                              <perfect-scrollbar style="max-height:160px" class="z-ind-9"> 
                             <span class="w-100 z-ind-9 float-left bg-white">
                                <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                                    [ngClass]="isActivityGroupSearchLoading?'loader-search':''">
                                    <li class="list-group-item h-50 p-4-10"
                                        (click)="appendcampaign(item)" 
                                        *ngFor="let item of CustomerContact">

                                        <label for="inti_name" class="float-left name w-80">
                                            <span class="d-block list-name ellipses">{{item.FullName}}</span>
                                        </label>

                                    </li>
                                    <li class="d-block list-name h-40 p-10 cp"
                                        *ngIf="CustomerContact['message'] && !isActivityGroupSearchLoading" >

                                    {{CustomerContact['message']}}
                                 </li>
                                </ul>
                              </span>
                             </perfect-scrollbar>
                             <span class="db-search" (click)="openadvancetabs('AllianceContactSearch',CustomerContact,newAlliance.contactcampaign.FullName)">
                                <button id="{{CustomerContact?.length+1}}" role="option" tabindex="0" aria-disabled="false"
                                  type="button" class="button-search"
                                  [class.active]="CustomerContact?.length+1 == arrowkeyLocation">
                                  <span class="mdi mdi-file-outline"></span> Advance look up
                                </button>
                              </span>
                            </span>
                          </ul>
                    </div>
                </form>
            </div> -->
        </div>
        <!--Linked campaigns autocomplete ends-->



    </div>

    <div class="col-12 float-left no_pad mt30 margin-btm">
        <div class="float-left disp-flex  mar-28">
            <button class="primary-button secondary-btn btn-block h-40 mr10 std cancel-responsived-btn button-wd50" mat-dialog-close aria-label="cancel">Cancel</button>
            <button class="primary-button h-40 std save-responsive-btn button-wd50" (keypress)="addAlliance();alliance=false" (click)="addAlliance();alliance=false" (keypress)="addAlliance();" aria-label="add">Add</button>

        </div>

    </div>

</div>