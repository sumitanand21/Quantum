<ng-container *ngIf="isLoading">
  <div class="col-12 float-left complex_table unqualified-padding pt0 no_pad">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad leads-archived-landing">
      <div class="col-lg-12 col-sm-12 col-md-12 col-12 no_pad">
        <div class="loaderContainer">
          <div class="loader"></div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
<div class="top-header" [ngClass]="service.header?'navbar-sticky-top':'navbar-fixed-top'">
  <app-nav></app-nav>
  <div class="float-left col-12 header-action-tab new-container">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  no_pad">
      <div class="col-12 col-sm-8 col-md-8 col-lg-8 col-xl-8 float-left no_pad">
        <h1 class="heading-level-one mtop6" title="New customer contact (Enriched version)">New customer contact
        </h1>
      </div>
      <div class="col-12 col-sm-4 col-md-4 col-lg-4 col-xl-4 float-left no_pad" *ngIf="leadinfo">
        <div class="float-right disp-flex save-cancel-responsive">
          <button class="primary-button secondary-btn btn-block h-40 mr10 std cancel-responsived-btn button-wd50"
            (click)="opencancelpop()">Cancel</button>
          <button class="primary-button borderless  h-40 std save-responsive-btn button-wd50"
            (click)="steptwo()">Next</button>
        </div>
      </div>
      <div class="col-12 col-sm-4 col-md-4 col-lg-4 col-xl-4 float-left no_pad" *ngIf="dealinfo">
        <div class="float-right disp-flex save-cancel-responsive">
          <button class="primary-button secondary-btn btn-block h-40 mr10 std cancel-responsived-btn button-wd50"
            (click)="opencancelpop()">Cancel</button>
          <button class="primary-button borderless h-40 std save-responsive-btn button-wd50"
             [ngClass]="isDisabled ? 'disabled-control' : 'primary-button'"
            (click)="emailValidationChecksOnSave()" [disabled]="isDisabled">Create</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad new-container hidden">
  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pos-abs bg-mid_night h-180"> </div>
  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  pad-30 pad-top-66 scroll-middle-ios-100vh">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad disp-flex center mt-80-contact">
      <div class="col-3 offset-2 col-xl-2 offset-xl-0 no_pad float-left height-160">
        <label *ngIf="img1 && imageSrc1 == undefined; else imgBlock1" for="profilepic"
          class=" float-left cp image-contact d-flex">
          <span class="upload cp color-azure btn-none w-100">
            <span class="noeditcamera mdi mdi-camera"></span>
          </span>
        </label>
        <ng-template #imgBlock1>
          <div class="img-block float-left">
            <label class="col-12 float-left pos-rel no_pad cp" for="profilepic">
              <div class="w-81 pos-abs  middle-btns-profile ">
                <button class="upload color-white btn-none z-999 mdi mdi-camera pl150 color-azure pos-rel replaceicn"
                  type="button" (click)="replaceProfileImg()">
                </button>
                <span class="seperator">|</span>
                <button class="upload cp color-white btn-none pos-rel z-ind-9 mdi mdi-delete pl150 color-azure remove"
                  type="button" (click)="deleteprofileImage()">
                </button>
              </div>
              <img class="image-contact pos-rel" id="image1" [src]="imageSrc1" width="100%" height="100%"
                *ngIf="imageSrc1 != null">
            </label>
          </div>
        </ng-template>
        <input type="file" aria-label="upload photograph" style="opacity:0" id="profilepic" #fileInput
          (click)="fileInput.value = null" value="" accept="image/*" capture="camera"  (change)="detectFiles($event)" name="files[]" />
      </div>
    </div>
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad disp-flex center stepper-pad-contact">
      <div class="col-7 col-sm-3 col-md-3 col-lg-2 col-xl-2 float-left no_pad ">
        <button class="round-btn-contact active float-left" role="tab" tabindex="0" [attr.aria-selected]="leadinfo" (click)="stepone()">
          <span class="float-left span-text">1</span>
          <span class="float-left active-text">Contact details</span>
        </button>
        <span class="float-left horizontal-bar-contact" [ngClass]="dealinfo || twoactive ?'active':''"></span>
      </div>
      <div class="col-5 col-sm-3 col-md-2 col-lg-2 col-xl-1 float-left no_pad ">
        <button class="round-btn-contact" role="tab" tabindex="0" [attr.aria-selected]="dealinfo" [ngClass]="dealinfo || twoactive?'active':''">
          <span class="float-left span-text">2</span>
          <span class="float-left text-step" [ngClass]="dealinfo || twoactive ?'active-text':''">Marketing information
          </span>
        </button>
      </div>
    </div>
    <!--****************************************step 1 starts********************************-->
    <form id="validatescroll" [formGroup]="newCustomerContactForm1">
      <div
        class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left card-create-contact mt40 margin-btm55 no_pad"
        *ngIf="leadinfo">
        <div class="col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 float-left paddng-lr-30">
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mt20 no_pad">
            <h2 class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad heading-level-three pad-top-8 ">
              Business card</h2>
          </div>

          
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 no_pad float-left mt20">
            <label *ngIf="img && imageSrc == undefined; else imgBlock" for="fileUpload1"
              class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left business-card-contact d-flex">
              <span class="upload color-azure btn-none w-100" matTooltip="Upload contact's business card to fetch and pre-populate relevant details, you will be able to edit these details before saving">
                <span class="mdi mdi-cloud-upload" ></span>Upload
                <input type="file" class="business-card-upload" style="opacity:0" #fileInput
                  (click)="fileInput.value = null" value="" id="fileUpload1" accept=""
                  (change)="detectFilesRead($event,'fileUpload1')" name="files[]" />
              </span>
            </label>
            <ng-template #imgBlock>
              <div class="img-block">
                <label
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left business-card-contact pos-rel no_pad"
                  for="fileUpload">
                  <div class="d-flex pos-abs pl50 middle-btns">
                    <button class="upload color-white btn-none z-999" type="button"
                      (click)="replaceBusinessCardImg()">Replace |
                    </button>
                    <button class="upload color-white btn-none z-999" id="delete-file" type="button"
                      (click)="deleteBusinessCard()">Delete</button>
                  </div>
                  <img class="business-card pos-rel" id="image" [src]="imageSrc" width="100%" height="100%"
                    *ngIf="imageSrc != null">
                  <div class="overley-image"></div>
                </label>
                <input type="file" style="opacity:0" #fileInput (click)="fileInput.value = null" value=""
                  id="fileUpload" (change)="detectFilesRead($event,'fileUpload')" name="files[]" />
              </div>
            </ng-template>
          </div>
        



          <span class="float-left col-12 no_pad type-accepted-contact">*File types allowed for business card and profile
            image (JPG,PNG,PJP,JPEG). File size allowed upto 5mb</span>
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mt20 no_pad">
            <h2 class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad heading-level-three pad-top-8">
              Social media details</h2>
          </div>
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad mb10 mt20">
            <div class=" col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad btn-contact btn-none">
              <span class="mdi mdi-twitter color-white round-contact mr10 float-left"></span>
              <span class="color-azure text-contact ellipses " [ngClass]="service.chatBot?'max-w-100':'max-width-200'" *ngIf="TwitterUrldata===''"
                aria-hidden="true">Link twitter account </span>
              <a href="{{TwitterUrldata}}" target="_blank" class="cp color-azure text-contact ellipses "
                *ngIf="TwitterUrldata!==''" [ngClass]="service.chatBot?'max-w-100':'max-width-200'" title="{{TwitterUrldata}}">{{TwitterUrldata}}</a>
              <span class="mdi mdi-pencil float-right pos-abs color-azure left-30 cp" role="button" tabindex="0"
                aria-label="Link twitter account edit" (keypress)="opensocial('twitter',TwitterUrldata)"
                (click)="opensocial('twitter',TwitterUrldata)">
                <span class="sr-only">Link twitter account edit</span>
              </span>
            </div>
          </div>
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad mb10">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad btn-contact btn-none">
              <span class="mdi mdi-linkedin color-white round-contact mr10 float-left"></span>
              <span class="color-azure text-contact ellipses" [ngClass]="service.chatBot?'max-w-100':'max-width-200'" *ngIf="LinkendUrldata===''"
                aria-hidden="true">Link linkedin account </span>
              <a href="{{LinkendUrldata}}" target="_blank" class="cp color-azure text-contact ellipses "
                *ngIf="LinkendUrldata!==''" title="{{LinkendUrldata}}" [ngClass]="service.chatBot?'max-w-100':'max-width-200'">{{LinkendUrldata}}</a>
              <span class="mdi mdi-pencil float-right pos-abs color-azure left-30 cp" role="button" tabindex="0"
                aria-label="Link linkedin account edit" (keypress)="opensocial('linkedin',LinkendUrldata)"
                (click)="opensocial('linkedin',LinkendUrldata)">
                <span class="sr-only">Link linkedin account edit</span>
              </span>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-12 col-md-6 col-lg-9 col-xl-9 float-left padd-mob-contact padding-btm30">
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mt20">
            <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-three pad-top-8">
              General details</h2>
          </div>
          <div>
            <!-- Mobile -select starts here -->
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left  mt20 mobile-select-box">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="salutation"
                class="label-form" placeholder="Select lead source">
                Salutation <span class="required"> *</span></label>
              <div class="customized-select">
                <span class="caret color-azure"></span>
                <select (blur)="autoSaveChangedData(f.salutation.valid)" id="salutation" role="listbox" aria-required="true"
                  [ngClass]="{'error': f.salutation.invalid && (f.salutation.dirty || f.salutation.touched)}"
                  formControlName="salutation" placeholder="select salutation"
                  [ngClass]="{'error': f.salutation.invalid && (f.salutation.dirty || f.salutation.touched)}">
                  <option value="">Select salutation </option>
                  <option [value]="item.Id" *ngFor="let item of salutation" matTooltip="{{item.Value}}">{{item.Value}}
                  </option>
                </select>
                <p *ngIf="f.salutation.touched && !f.salutation.valid" class="error-message top-40">  Select
                  salutation </p>
              </div>
            </div>
            <!-- Mobile -select end here -->
            <!--Web-select starts here-->
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left  mt20 web-select-box">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="salutation"
                class="label-form" placeholder="Select lead source">
                Salutation <span class="required"> *</span></label>
              <mat-form-field class="col-12 no_pad float-left">
                <mat-label>Select salutation</mat-label>
                <mat-select aria-required="true" aria-label="{{'Select salutation' + salutationTypeAria}}" (blur)="autoSaveChangedData(f.salutation.valid)" disableOptionCentering
                (selectionChange)="appendSalutationType($event)"
                panelClass="custom-Select-panel-class" class="select-focus"
                  [ngClass]="{'error': f.salutation.invalid && (f.salutation.dirty || f.salutation.touched)}"
                  formControlName="salutation">
                  <mat-option value="">Select salutation </mat-option>
                  <mat-option *ngFor="let item of salutation" [value]="item.Id" matTooltip="{{item.Value}}">
                    {{item.Value}}
                  </mat-option>
                </mat-select>
                <p *ngIf="f.salutation.touched && !f.salutation.valid" class="error-message top-40">  Select
                  salutation </p>
              </mat-form-field>
            </div>
            <!--Web select ends here-->
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="firstName"
                class="label-form">First name
                <span class="required"> *</span>
              </label>
              <div class="pos-rel w-100 float-left customized-input no_pad">
                <input (blur)="autoSaveChangedData(f.firstName.valid)" 
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="firstName"
                  name="firstName" type="text" minlength="2" maxlength="100" required  formControlName="firstName"
                  [ngClass]="{'error': f.firstName.invalid && (f.firstName.dirty || f.firstName.touched)}"
                  placeholder="Enter first name" pattern="^[a-zA-Z\. ]+$">
                <p *ngIf="f.firstName.touched && !f.firstName.valid && !f.firstName.errors?.pattern" class="error-message top-40">  Enter first
                  name </p>
                <p *ngIf="f.firstName.errors?.pattern && !f.firstName.errors?.range" class="error-message top-40"> Enter valid first name</p>
                <p *ngIf="f.firstName.errors?.range" class="error-message top-40">First name cannot exceed 100
                  characters</p>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="lastName"
                class="label-form">Last name
                <span class="required"> *</span>
              </label>
              <div class="pos-rel w-100 float-left customized-input no_pad">
                <input (blur)="autoSaveChangedData(f.lastName.valid)" 
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="lastName"
                  name="lastName" type="text" required minlength="1" maxlength="100" formControlName="lastName"
                  [ngClass]="{'error': f.lastName.invalid && (f.lastName.dirty || f.lastName.touched)}"
                  placeholder="Enter last name" pattern="^[a-zA-Z\. ]+$">
                <p *ngIf="f.lastName.touched && !f.lastName.valid && !f.lastName.errors?.pattern" class="error-message top-40">  Enter last name
                </p>
                <p *ngIf="f.lastName.errors?.pattern && !f.lastName.errors?.range" class="error-message top-40"> Enter valid last name</p>
                <p *ngIf="f.lastName.errors?.range" class="error-message top-40">Last name cannot exceed 100 characters
                </p>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left  mt20">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="designatn"
                class="label-form" placeholder="Enter designation">
                Designation
                <span class="required"> *</span>
              </label>
              <div class="pos-rel w-100 float-left customized-input no_pad">
                <input (blur)="autoSaveChangedData(f.designation.valid)"
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="designatn"
                  name="designatn" type="text" formControlName="designation" placeholder="Enter designation"
                  maxlength="100" required (keypress)="removeNumbers($event)"
                  [ngClass]="{'error': f.designation.invalid && (f.designation.dirty || f.designation.touched)}">
                  <p *ngIf="f.designation.touched && !f.designation.valid && !f.designation.errors?.isError "
                   class="error-message top-40">  Enter designation </p>
                <p *ngIf="f.designation.errors?.range"
                 class="error-message top-40">Designation cannot exceed 100
                  characters</p>
                <p *ngIf="f.designation.errors?.isError "
                 class="error-message top-40">Special characters are not allowed
                </p>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="email"
                class="label-form">Email address *</label>
              <div class="pos-rel w-100 float-left customized-input no_pad">
                <input (blur)="autoSaveChangedData(f.emailAddress.valid)"
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="email"
                  name="email" type="text" formControlName="emailAddress"
                  pattern="^[a-zA-Z0-9_-]+(\.[_a-zA-Z0-9_-]+)*@[a-zA-Z0-9-_-]+(\.[a-zA-Z0-9-_-]+)*(\.[a-zA-Z]{2,15})$"
                  [ngClass]="{'error': f.emailAddress.invalid  && (f.emailAddress.dirty || f.emailAddress.touched)}"
                  placeholder="Enter email address">
                <p *ngIf="f.emailAddress.touched && f.emailAddress.value == ''" class="error-message top-40">  Enter
                  email address </p>
                <p *ngIf="f.emailAddress.errors?.pattern" class="error-message top-40">  Enter valid email id</p>
              </div>
            </div>
            <!-- Select Phone STARTS -->
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left phone-number mt20  
            mobile-select-box" formArrayName="contacts" *ngFor="let number of getContacts?.controls;let i=index">
              <label for="phone" class="label-form w-100">Phone number &nbsp;
                <span *ngIf="i === 0">{{i+1}}</span>
                <span *ngIf="i > 0">{{i+1}}</span>
              </label>
              <div class="pos-rel" [formGroupName]="i">
                <div class="customized-select float-left w-90">
                  <span class="caret color-azure"></span>
                  <select id="phone" role="listbox" (change)="contactTypeChanges1($event,i)"
                    formControlName="ContactType" #phoneType
                    [required]="phoneType.value == '' && phoneNo.value.length>1">
                    <option value="">Select</option>
                    <option *ngFor="let item of phoneContactType" [value]="item.Id" matTooltip="{{item.Value}}">
                      {{item.Value}}
                    </option>
                  </select>
                </div>
                <div class="customized-input d-flex">
                  <span (click)="PhoneNumberValidation(phoneType.value)">
                    <input  specialIsAlphaNumeric [attr.data-type]="'mobileNumber'"
                      (blur)="autoSaveChangedData(newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].valid)"
                       input id="phone" type="text" #phoneNo class="border-gray"
                      [attr.disabled]="phoneType.value==''?'disabled' : null" placeholder="Phone"
                      formControlName="ContactNo" minlength="8" maxlength="15"
                      [required]="phoneType.value != '' && phoneNo.value.length==0">
                  </span>
                  <p *ngIf="
                    newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].invalid"
                    class="error-message1 top-40"> Enter phone number</p>
                  <p *ngIf="phoneValidation == true && !this.newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].valid"
                    class="error-message1 top-40"> Enter phone number</p>
                  <p *ngIf="(phoneType.value == '' && this.newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].touched 
                      && !this.newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].valid)"
                    class="error-message1 top-40"> Select phone type</p>
                  <div class="float-right no_pad pagination ml10 ">
                    <button aria-label="add contact" contactnumber.value='' phoneType.value=''
                      class="standard-border color-azure mdi mdi-plus" *ngIf="i == 0 ? true : false" type="button"
                      (click)="addContactss($event,!this.newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].valid,this.newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].value)">
                    </button>
                    <button aria-label="Delete" class="standard-border color-azure mdi mdi-delete"
                      *ngIf="i >0 ? true : false" type="button" (click)="deleteContact(i)"></button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left phone-number mt20
              web-select-box" formArrayName="contacts" *ngFor="let number of getContacts?.controls;let i=index">
              <label for="phone" class="label-form w-100">Phone number &nbsp;
                <span *ngIf="i === 0">{{i+1}}</span>
                <span *ngIf="i > 0">{{i+1}}</span>
              </label>
              <div class="pos-rel" [formGroupName]="i">
                <div class="customized-select float-left w-90">
                  <span class="caret color-azure"></span>
                  <select id="phone" role="listbox" (change)="contactTypeChanges1($event,i)"
                    formControlName="ContactType" #phoneType
                    [required]="phoneType.value == '' && phoneNo.value.length>1">
                    <option value="">Select</option>
                    <option *ngFor="let item of phoneContactType" [value]="item.Id" matTooltip="{{item.Value}}">
                      {{item.Value}}
                    </option>
                  </select>
                </div>
                <div class="customized-input d-flex">
                  <span (click)="PhoneNumberValidation(phoneType.value)">
                    <input  specialIsAlphaNumeric [attr.data-type]="'mobileNumber'"
                      (blur)="autoSaveChangedData(newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].valid)"
                      input id="phone" type="text" #phoneNo class="border-gray"
                      [attr.disabled]="phoneType.value==''?'disabled' : null" placeholder="Phone"
                      formControlName="ContactNo" minlength="8" maxlength="15"
                       [required]="phoneType.value != '' && phoneNo.value.length==0">
                  </span>
                  <!-- Before I was not using that *ngIf="phoneValidation == false, (Coz of Bug id - 7200) in first contact error msg, now i m using -->
                  <p *ngIf="phoneValidation == false && 
                    newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].invalid"
                    class="error-message1 top-40"> Enter valid phone number</p>
                  <p *ngIf="phoneValidation == true && !newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].valid"
                    class="error-message1 top-40"> Enter phone number</p>
                  <p *ngIf="(phoneType.value == '' && newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].touched 
                  && !newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].valid)"
                    class="error-message1 top-40"> Select phone type</p>
                  <div class="float-right no_pad pagination ml10 ">
                    <button aria-label="add contact" contactnumber.value='' phoneType.value=''
                      class="standard-border color-azure mdi mdi-plus" *ngIf="i == 0 ? true : false" type="button"
                      (click)="addContactss($event,!newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].valid,newCustomerContactForm1.controls['contacts'].controls[i].controls['ContactNo'].value)">
                    </button>
                    <button aria-label="Delete" class="standard-border color-azure mdi mdi-delete"
                      *ngIf="i >0 ? true : false" type="button" (click)="deleteContact(i)"></button>
                  </div>
                </div>
              </div>
            </div>
            <!-- Select Phone ENDS -->
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20">
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName"
                (clickOutside)="AccountNameclose()">
                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="accountID"
                  class="label-form"> Account name
                  <span class="required"> *</span>
                </label>
                <div class="pos-rel w-100 float-left customized-input no_pad">
                  <input 
                   class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text "
                   #accountlist 
                   id="accountID"
                   name="accountnumber"
                   formControlName="accountName"
                   placeholder="Search account name"
                   type="text"
                   role="combobox"
                   matTooltip="{{accountNamevalue}}"
                   autocomplete="off"
                   aria-required="true"
                   aria-owns="read"
                   appKeyListControl
                   [dataManipulate]=true
                   [attr.data-isDownBtn]=true
                   (arrowDown)="arrowkeyLocation=$event"
                   [attr.data-selectedvalue]="accountNamevalue"
                   [attr.aria-label]="'Account name edit selected' + accountNamevalue"
                   [attr.aria-expanded]="AccountNameSwitch?true:false" 
                   [attr.aria-activedescendant]="arrowkeyLocation"
                   (input)="AccountNameSwitch = true;arrowkeyLocation=0"
                   (intialLoadData)="AccountNameSwitch=true;callTempAccountname();arrowkeyLocation=accountNamevalue?-1:0"
                   (keyup.enter)="arrowkeyLocation=arrowkeyLocation==-1?0:arrowkeyLocation;accountlist.value=getAccountCompany[arrowkeyLocation].Name;AccountZunkdata=getAccountCompany[arrowkeyLocation].Name; AccountNameSwitch=false;appendAccountName(getAccountCompany[arrowkeyLocation]);arrowkeyLocation=0"
                   (keydown)="AccountNameSwitch=true"
                   [attr.data-arrayMaxLength]="getAccountCompany?.length"
                   aria-autocomplete="list"
                   (keydown.Tab)="AccountNameclose()"                   
                    [ngClass]="{'error': f.accountName.invalid  && (f.accountName.dirty || f.accountName.touched)}"
                    [attr.disabled]="disabled == true ?'disabled' : null"
                    [attr.aria-label]="'Account name edit selected' + accountNamevalue"
                    maxlength="1000" tabindex="0" >
                    <span class="mdi mdi-magnify" *ngIf="AccountNameSwitch || accountNamevalue ==''"></span>
                    <span class="mdi mdi-close auto-close"
                    (click)="clearAccounName();arrowkeyLocation=0;accountNamevalue=''"
                    *ngIf="!AccountNameSwitch && accountNamevalue!==''"></span>
                  <p *ngIf="f.accountName.touched && !f.accountName.valid" class="error-message top-40">
                     Select an account name </p>
                </div>
                <div
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  border-right  float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                  *ngIf="AccountNameSwitch"
                  [attr.focus]="newCustomerContactForm1.value.accountName && AccountNameSwitch">
                  <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                    <span class="w-100 z-ind-9 float-left bg-white">
                      <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                        [ngClass]="{'loader-search':isAccountNameSearchLoading }">
                        <li id="{{i}}" tabindex="0" role="option" [class.active]="i==arrowkeyLocation"
                          aria-disabled="false" aria-selected="false" class="list-group-item ellipses" [ngClass]="service.chatBot ? 'list-DA-con' : 'list-name'"
                          *ngFor="let item of getAccountCompany; let i=index"
                          (click)="accountlist.value=item.Name;AccountZunkdata=item.Name;appendAccountName(item)"
                          matTooltip="{{item.Name}}">
                          <span class="d-block list-name"> {{item.Name}} </span>
                          <span class="sub-list d-block">  {{ (item.Number!==undefined)?item.Number:"NA" }} | {{item.Owner.FullName}} | {{item.Type.Value}}</span>
                        </li>
                        <li class="d-block list-name h-40 p-10"
                          *ngIf="(getAccountCompany)?.length == 0 && !isAccountNameSearchLoading">
                          No record found </li>
                      </ul>
                    </span>
                  </perfect-scrollbar>
                  <span class="db-search"
                    (click)="openadvancetabs('accountSearch',getAccountCompany, f.accountName.value,arrowkeyLocation)">
                    <button id="{{getAccountCompany?.length+1}}" role="option" tabindex="0" aria-disabled="false"
                      type="button" class="button-search"
                      [class.active]="getAccountCompany?.length+1 == arrowkeyLocation">
                      <span class="mdi mdi-file-outline"></span> Advance look up
                    </button>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20">
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad customized-input CompanyName"
                (clickOutside)="ReportingManagerclose()">
                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad cp" for="reportingmanagerID"
                  class="label-form" matTooltip="Please select the contact's reporting manager from account contact list">Reporting manager</label>
                  <div class="pos-rel w-100 float-left customized-input no_pad">
                <input
                class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text "
                #reportingmanagerlist 
                id="reportingmanagerID"
                name="reportingManager"
                formControlName="reportingManager"
                placeholder="Search reporting manager"
                type="text"
                role="combobox"
                title="{{reportingmanagerName}}"
                autocomplete="off"
                aria-owns="read"
                appKeyListControl 
                [dataManipulate]=true
                [attr.data-isDownBtn]=true
                (arrowDown)="arrowkeyLocation=$event"
                [attr.data-selectedvalue]="reportingmanagerName"
                [attr.aria-label]="'Reporting manager edit selected' + reportingmanagerName"
                [attr.aria-expanded]="ReportingManagerSwitch?true:false" 
                [attr.aria-activedescendant]="arrowkeyLocation"
                (input)="ReportingManagerSwitch = true;arrowkeyLocation=0"
                (intialLoadData)="ReportingManagerSwitch=true;callTempReportingManager();arrowkeyLocation=reportingmanagerName?-1:0" 
                (keyup.enter)="arrowkeyLocation=arrowkeyLocation==-1?0:arrowkeyLocation;reportingmanagerlist.value=getReportingManager[arrowkeyLocation].FullName;ReportingZunkdata=getReportingManager[arrowkeyLocation].FullName;  ReportingManagerSwitch=false;appendReportingManager(getReportingManager[arrowkeyLocation]);arrowkeyLocation=0"
                (keydown)="ReportingManagerSwitch=true"
                [attr.data-arrayMaxLength]="getReportingManager?.length"
                aria-autocomplete="list"  
                (keydown.Tab)="ReportingManagerclose()"
                [ngClass]="{'disable-input' : ngclass }" 
                  maxlength="100" 
                  [attr.aria-label]="'reporting manager selected' + reportingmanagerName"
                  >
                <span class="mdi mdi-magnify" *ngIf="ReportingManagerSwitch || reportingmanagerName ==''"></span>
                <span class="mdi mdi-close auto-close"
                (click)="clearReportingManagerName();arrowkeyLocation=0;reportingmanagerName=''"
                *ngIf="!ReportingManagerSwitch && reportingmanagerName!==''"></span>
              </div>
                <div
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  border-right  float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                  *ngIf="ReportingManagerSwitch"
                  [attr.focus]="newCustomerContactForm1.value.reportingManager  && ReportingManagerSwitch">
                  <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                    <span class="w-100 z-ind-9 float-left bg-white">
                      <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                        [ngClass]="{'loader-search':isReportingManagerSearchLoading }">
                        <li id="{{i}}" tabindex="0" role="option" class="list-group-item ellipses" [ngClass]="service.chatBot ? 'list-DA-con' : 'list-name'"
                          *ngFor="let item of getReportingManager; let i=index" [class.active]="i==arrowkeyLocation"
                          aria-disabled="false"
                          (click)="reportingmanagerlist.value=item.FullName;ReportingZunkdata=item.FullName;appendReportingManager(item)"
                          matTooltip="{{item.FullName}}">
                          {{item.FullName}}</li>
                        <li class="d-block list-name h-40 p-10"
                          *ngIf="(getReportingManager)?.length == 0 && !isReportingManagerSearchLoading">
                          No record found </li>
                      </ul>
                    </span>
                  </perfect-scrollbar>
                  <span class="db-search"
                    (click)="openadvancetabs('reportingSearch',getReportingManager, f.reportingManager.value,arrowkeyLocation )">
                    <button id="{{getReportingManager?.length+1}}" role="option" tabindex="0" aria-disabled="false"
                      type="button" class="button-search"
                      [class.active]="getReportingManager?.length+1 == arrowkeyLocation">
                      <span class="mdi mdi-file-outline"></span> Advance look up
                    </button>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20">
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad customized-input CompanyName"
                (clickOutside)="CBUclose()">
                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="cbuID"
                  class="label-form">Customer business unit</label>
                  <div class="pos-rel w-100 float-left customized-input no_pad">
                <input
                 class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 input-text  border-gray w-100"
                 #CBUlist
                 id="cbuID" 
                 name="cbuname"
                 formControlName="CBU"
                 placeholder="Search customer business unit"
                 type="text"
                 role="combobox"
                 title="{{cbuName}}"
                 autocomplete="off" 
                 aria-owns="read"
                 appKeyListControl
                 [dataManipulate]=true
                 [attr.data-isDownBtn]=true
                 (arrowDown)="arrowkeyLocation=$event"
                 [attr.data-selectedvalue]="cbuName"
                 [attr.aria-expanded]="CBUSwitch?true:false" 
                 [attr.aria-activedescendant]="arrowkeyLocation"
                 (input)="CBUSwitch = true;arrowkeyLocation=0"
                 (intialLoadData)="CBUSwitch=true;callTempCBU();arrowkeyLocation=cbuName?-1:0"
                 (keyup.enter)="arrowkeyLocation=arrowkeyLocation==-1?0:arrowkeyLocation; CBUlist.value=getCBU[arrowkeyLocation].Name;  CBUZunkdata=getCBU[arrowkeyLocation].Name; CBUSwitch=false;appendCBU(getCBU[arrowkeyLocation])"
                 (keydown)="CBUSwitch=true"
                 [attr.data-arrayMaxLength]="getCBU?.length"
                 aria-autocomplete="list"
                 (keydown.Tab)="CBUclose()"
                 [ngClass]="{'disable-input' : ngclass }"
                  maxlength="1000"
                  [attr.aria-label]="'Customer business unit selected' + cbuName"
                  >
                <span class="mdi mdi-magnify" *ngIf="CBUSwitch || cbuName ==''"></span>
                <span class="mdi mdi-close auto-close"
                (click)="clearCBUName();arrowkeyLocation=0;cbuName=''"
                *ngIf="!CBUSwitch && cbuName!==''"></span>
                  </div>
                <div
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  border-right  float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                  *ngIf="CBUSwitch" [attr.focus]="newCustomerContactForm1.value.CBU && CBUSwitch">
                  <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                    <span class="w-100 z-ind-9 float-left bg-white">
                      <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                        [ngClass]="{'loader-search':isCBUSearchLoading }">
                        <li id="{{i}}" tabindex="0" role="option" class="list-group-item ellipses" [ngClass]="service.chatBot ? 'list-DA-con' : 'list-name'"
                          *ngFor="let item of getCBU |filter:newCustomerContactForm1.value.CBU; let i=index"
                          [class.active]="i==arrowkeyLocation" aria-disabled="false"
                          (click)="CBUlist.value=item.Name;CBUZunkdata=item.Name;appendCBU(item)"
                          matTooltip="{{item.Name}}">
                          {{item.Name}}</li>
                        <li class="d-block list-name h-40 p-10"
                          *ngIf="(getCBU |filter:newCustomerContactForm1.value.CBU)?.length == 0 && !isCBUSearchLoading">
                          No record found </li>
                      </ul>
                    </span>
                  </perfect-scrollbar>
                    <span class="db-search"
                    (click)="openadvancetabs('cbuSearch',getCBU, f.CBU.value,arrowkeyLocation)">
                    <button id="{{getCBU?.length+1}}" role="option" tabindex="0" aria-disabled="false"
                      type="button" class="button-search"
                      [class.active]="getCBU?.length+1 == arrowkeyLocation">
                      <span class="mdi mdi-file-outline"></span> Advance look up
                    </button>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left  mt20 
            mobile-select-box">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationTypec3"
                class="label-form" placeholder="Select lead source"> Relationship<span class="required"> *</span>
              </label>
              <div class="customized-select">
                <span class="caret color-azure"></span>
                <select (blur)="autoSaveChangedData(f.relationship.valid)" id="CoversationTypec3"
                  formControlName="relationship"
                  [ngClass]="{'error': f.relationship.invalid && (f.relationship.dirty || f.relationship.touched)}"
                  aria-required="true">
                  <option value="">Select relationship</option>
                  <option [value]="item.Id" *ngFor="let item of relationship" matTooltip="{{item.Value}}">{{item.Value}}
                  </option>
                </select>
                <p *ngIf="f.relationship.touched && !f.relationship.valid" class="error-message top-40">  Select
                  relationship </p>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20 
            web-select-box">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationTypec3"
                class="label-form" placeholder="Select lead source">Relationship<span class="required"> *</span></label>
              <mat-form-field class="col-12 no_pad float-left">
                <mat-label>Select relationship</mat-label>
                <mat-select aria-label="{{'Select relationship' + relationTypeAria}}" (blur)="autoSaveChangedData(f.relationship.valid)" disableOptionCentering
                (selectionChange)="appendRelationshipType($event)"
                panelClass="custom-Select-panel-class" class="select-focus" aria-required="true"
                  [ngClass]="{'error': f.relationship.invalid && (f.relationship.dirty || f.relationship.touched)}"
                  formControlName="relationship">
                  <mat-option value="">Select relationship </mat-option>
                  <mat-option *ngFor="let item of relationship" [value]="item.Id" matTooltip="{{item.Value}}">
                    {{item.Value}}
                  </mat-option>
                </mat-select>
                <p *ngIf="f.relationship.touched && !f.relationship.valid" class="error-message top-40"> Select
                  relationship </p>
              </mat-form-field>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left  mt20
             mobile-select-box">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationTypec3"
                class="label-form" placeholder="Select category"> Category<span class="required"> *</span>
              </label>
              <div class="customized-select">
                <span class="caret color-azure"></span>
                <select (blur)="autoSaveChangedData(f.category.valid)" id="Categoryid" formControlName="category"
                  aria-required="true"
                  [ngClass]="{'error': f.category.invalid && (f.category.dirty || f.category.touched)}">
                  <option value="">Select category</option>
                  <option [value]="item.Id" *ngFor="let item of categoryData" matTooltip="{{item.Value}}">{{item.Value}}
                  </option>
                </select>
                <p *ngIf="f.category.touched && !f.category.valid" class="error-message top-40">  Select
                  category </p>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt22">
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form pb6" id="keycon">
                Key contact <span class="required"> *</span>
              </div>
              <mat-radio-group aria-required="true" (change)="autoSaveChangedData(f.keyContact.valid)" aria-labelledby="keycon"
                formControlName="keyContact">
                <mat-radio-button [value]=true [checked]="newCustomerContactForm1.value.keyContact===true" class="pr30">
                  Yes</mat-radio-button>
                <mat-radio-button [value]=false [checked]="newCustomerContactForm1.value.keyContact===false">No
                </mat-radio-button>
              </mat-radio-group>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20 
            web-select-box">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationTypec3"
                class="label-form" placeholder="Select category"> Category <span class="required"> *</span></label>
              <mat-form-field class="col-12 no_pad float-left">
                <mat-label>Select category</mat-label>
                <mat-select aria-label="{{'Select category' + categoryTypeAria}}" (blur)="autoSaveChangedData(f.category.valid)" disableOptionCentering
                  (selectionChange)="appendCategoryType($event)"
                  panelClass="custom-Select-panel-class" class="select-focus" aria-required="true" formControlName="category"
                  [ngClass]="{'error': f.category.invalid && (f.category.dirty || f.category.touched)}">
                  <mat-option value="">Select category </mat-option>
                  <mat-option *ngFor="let item of categoryData" [value]="item.Id" matTooltip="{{item.Value}}">
                    {{item.Value}}
                  </mat-option>
                </mat-select>
                <p *ngIf="f.category.touched && !f.category.valid" class="error-message top-40">  Select
                  category </p>
              </mat-form-field>
            </div>
           
          </div>
          <!-- referenceable start-->
         

            <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 float-left mt22 ">
              <div class="float-left yes-enabled">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form pb6" id="c">
                  Has worked with Wipro previously?
                </div>
                <div class="pos-rel w-100 float-left no_pad">
                <mat-radio-group aria-required="true" (change)="matReferencable($event)" (change)="autoSaveChangedData(f.referenceable.valid)" aria-labelledby="c"
                  formControlName="referenceable">
                  <mat-radio-button [value]=true [checked]="newCustomerContactForm1.value.referenceable===true"
                    class="pr30">Yes</mat-radio-button>
                  <mat-radio-button [value]=false [checked]="newCustomerContactForm1.value.referenceable===false">No
                  </mat-radio-button>
                </mat-radio-group>
                <!-- <p *ngIf="f.referenceable.touched && !f.referenceable.valid" class="error-message top-20">  Select
                    reference-able </p> -->
                </div>
                <perfect-scrollbar style="max-height: 250px;">
                <div class="float-left w-100 years-in mb-1">
                  <label for="from1">From</label>
                  <input type="number" placeholder="YYYY" id="from1">
                  <label for="to1">To</label>
                  <input type="number" placeholder="YYYY" id="to1">
                  <button class="btn-none mdi mdi-close color-azure"></button>
                </div>
                <div class="float-left w-100 years-in mb-1">
                  <label for="from1">From</label>
                  <input type="number" placeholder="YYYY" id="from1">
                  <label for="to1">To</label>
                  <input type="number" placeholder="YYYY" id="to1">
                  <button class="btn-none mdi mdi-close color-azure"></button>
                </div>
                <div class="float-left w-100 years-in">
                  <label for="from1">From</label>
                  <input type="number" placeholder="YYYY" id="from1">
                  <label for="to1">To</label>
                  <input type="number" placeholder="YYYY" id="to1">
                  <button class="btn-none mdi mdi-close color-azure"></button>
                </div>
              </perfect-scrollbar>
                <button class="bg-white btn btn-outlined color-azure custom-btn mt-3 h-40 standard-border w-100">+ Add duration</button>
              </div>
            </div>

            <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 float-left mt22 ">
              <div class="float-left yes-enabled">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form pb6" id="d">
                  Has worked with any client of Wipro previously?
                </div>
                <div class="pos-rel w-100 float-left no_pad">
                <mat-radio-group aria-required="true" (change)="matReferencable($event)" (change)="autoSaveChangedData(f.referenceable.valid)" aria-labelledby="d"
                  formControlName="referenceable">
                  <mat-radio-button [value]=true [checked]="newCustomerContactForm1.value.referenceable===true"
                    class="pr30">Yes</mat-radio-button>
                  <mat-radio-button [value]=false [checked]="newCustomerContactForm1.value.referenceable===false">No
                  </mat-radio-button>
                </mat-radio-group>
                <!-- <p *ngIf="f.referenceable.touched && !f.referenceable.valid" class="error-message top-20">  Select
                    reference-able </p> -->
                </div>
                <perfect-scrollbar style="max-height: 250px;">
                <div class="col-12 float-left control-blue-bg pt-1">
                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad customized-input CompanyName"
                    (clickOutside)="Countrynameclose()">
                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="clientID"
                      class="label-form">Client name </label>
                    <div class="pos-rel w-100 float-left customized-input no_pad">
                      <input
                      aria-required="true"
                       class="w-100 col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="clientID"
                       #countrylist
                       name="state"
                       formControlName="country"
                       placeholder="Search client name"
                       type="text"
                       role="combobox"
                       title="{{countryName}}"
                       autocomplete="off"
                       aria-owns="read"
                       appKeyListControl
                       [dataManipulate]=true
                       [attr.data-isDownBtn]=true
                       (arrowDown)="arrowkeyLocation=$event" 
                       [attr.data-selectedvalue]="countryName"
                       [attr.aria-expanded]="CountrynameSwitch?true:false" 
                       [attr.aria-activedescendant]="arrowkeyLocation"
                       (input)="CountrynameSwitch = true;arrowkeyLocation=0" 
                       (intialLoadData)="CountrynameSwitch=true;callTempCountry();arrowkeyLocation=countryName?-1:0"
                       (keyup.enter)="arrowkeyLocation=arrowkeyLocation==-1?0:arrowkeyLocation; countrylist.value=getCountry[arrowkeyLocation].Name;CountryZunkdata=getCountry[arrowkeyLocation].Name; CountrynameSwitch=false;appendCountryname(getCountry[arrowkeyLocation]);;arrowkeyLocation=0"
                       (keydown)="CountrynameSwitch=true"
                       [attr.data-arrayMaxLength]="getCountry?.length" 
                       aria-autocomplete="list"
                       (keydown.Tab)="Countrynameclose()"
                       
                       maxlength="1000"
                       [attr.aria-label]="'country edit selected' + countryName"
                       >
                      <!--
                        [ngClass]="{'error': f.country.invalid  && (f.country.dirty || f.country.touched)}"
                         <p *ngIf="f.country.touched && !f.country.valid" class="error-message top-40">
                         Select country name  </p> -->
                        <span class="mdi mdi-magnify" *ngIf="CountrynameSwitch || countryName ==''"></span>
                        <span class="mdi mdi-close auto-close"
                        (click)="clearCountryName();arrowkeyLocation=0;countryName=''"
                        *ngIf="!CountrynameSwitch && countryName!==''"></span>
                    </div>
                    <div
                      class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  border-right  float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                      *ngIf="CountrynameSwitch" [attr.focus]="newCustomerContactForm1.value.country && CountrynameSwitch ">
                      <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                        <span class="w-100 z-ind-9 float-left bg-white">
                          <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                            [ngClass]="{'loader-search':isCountrySearchLoading }">
                            <li id="{{i}}" tabindex="0" role="option" class="list-group-item ellipses" [ngClass]="service.chatBot ? 'list-DA-con' : 'list-name'"
                              [class.active]="i==arrowkeyLocation" aria-disabled="false"
                              *ngFor="let item of getCountry |filter:newCustomerContactForm1.value.country; let i=index"
                              (click)="countrylist.value=item.Name;CountryZunkdata=item.Name;appendCountryname(item)"
                              matTooltip="{{item.Name}}">
                              {{item.Name}}</li>
                            <li class="d-block list-name h-40 p-10"
                              *ngIf="(getCountry |filter:newCustomerContactForm1.value.country)?.length == 0 && !isCountrySearchLoading">
                              No record found </li>
                          </ul>
                        </span>
                      </perfect-scrollbar>
                    </div>
                  </div>
                  <div class="float-left w-100 years-in mt-2">
                    <label for="from1">From</label>
                    <input type="number" placeholder="YYYY" id="from1">
                    <label for="to1">To</label>
                    <input type="number" placeholder="YYYY" id="to1">
                    <button class="btn-none mdi mdi-close color-azure"></button>
                  </div>
                </div>

                <div class="col-12 float-left control-blue-bg pt-1">
                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad customized-input CompanyName"
                    (clickOutside)="Countrynameclose()">
                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="clientID"
                      class="label-form">Client name </label>
                    <div class="pos-rel w-100 float-left customized-input no_pad">
                      <input
                      aria-required="true"
                       class="w-100 col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="clientID"
                       #countrylist
                       name="state"
                       formControlName="country"
                       placeholder="Search client name"
                       type="text"
                       role="combobox"
                       title="{{countryName}}"
                       autocomplete="off"
                       aria-owns="read"
                       appKeyListControl
                       [dataManipulate]=true
                       [attr.data-isDownBtn]=true
                       (arrowDown)="arrowkeyLocation=$event" 
                       [attr.data-selectedvalue]="countryName"
                       [attr.aria-expanded]="CountrynameSwitch?true:false" 
                       [attr.aria-activedescendant]="arrowkeyLocation"
                       (input)="CountrynameSwitch = true;arrowkeyLocation=0" 
                       (intialLoadData)="CountrynameSwitch=true;callTempCountry();arrowkeyLocation=countryName?-1:0"
                       (keyup.enter)="arrowkeyLocation=arrowkeyLocation==-1?0:arrowkeyLocation; countrylist.value=getCountry[arrowkeyLocation].Name;CountryZunkdata=getCountry[arrowkeyLocation].Name; CountrynameSwitch=false;appendCountryname(getCountry[arrowkeyLocation]);;arrowkeyLocation=0"
                       (keydown)="CountrynameSwitch=true"
                       [attr.data-arrayMaxLength]="getCountry?.length" 
                       aria-autocomplete="list"
                       (keydown.Tab)="Countrynameclose()"
                       
                       maxlength="1000"
                       [attr.aria-label]="'country edit selected' + countryName"
                       >
                      <!--
                        [ngClass]="{'error': f.country.invalid  && (f.country.dirty || f.country.touched)}"
                         <p *ngIf="f.country.touched && !f.country.valid" class="error-message top-40">
                         Select country name  </p> -->
                        <span class="mdi mdi-magnify" *ngIf="CountrynameSwitch || countryName ==''"></span>
                        <span class="mdi mdi-close auto-close"
                        (click)="clearCountryName();arrowkeyLocation=0;countryName=''"
                        *ngIf="!CountrynameSwitch && countryName!==''"></span>
                    </div>
                    <div
                      class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  border-right  float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                      *ngIf="CountrynameSwitch" [attr.focus]="newCustomerContactForm1.value.country && CountrynameSwitch ">
                      <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                        <span class="w-100 z-ind-9 float-left bg-white">
                          <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                            [ngClass]="{'loader-search':isCountrySearchLoading }">
                            <li id="{{i}}" tabindex="0" role="option" class="list-group-item ellipses" [ngClass]="service.chatBot ? 'list-DA-con' : 'list-name'"
                              [class.active]="i==arrowkeyLocation" aria-disabled="false"
                              *ngFor="let item of getCountry |filter:newCustomerContactForm1.value.country; let i=index"
                              (click)="countrylist.value=item.Name;CountryZunkdata=item.Name;appendCountryname(item)"
                              matTooltip="{{item.Name}}">
                              {{item.Name}}</li>
                            <li class="d-block list-name h-40 p-10"
                              *ngIf="(getCountry |filter:newCustomerContactForm1.value.country)?.length == 0 && !isCountrySearchLoading">
                              No record found </li>
                          </ul>
                        </span>
                      </perfect-scrollbar>
                    </div>
                  </div>
                  <div class="float-left w-100 years-in mt-2">
                    <label for="from1">From</label>
                    <input type="number" placeholder="YYYY" id="from1">
                    <label for="to1">To</label>
                    <input type="number" placeholder="YYYY" id="to1">
                    <button class="btn-none mdi mdi-close color-azure"></button>
                  </div>
                </div>

                <div class="col-12 float-left control-blue-bg pt-1">
                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad customized-input CompanyName"
                    (clickOutside)="Countrynameclose()">
                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="clientID"
                      class="label-form">Client name </label>
                    <div class="pos-rel w-100 float-left customized-input no_pad">
                      <input
                      aria-required="true"
                       class="w-100 col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="clientID"
                       #countrylist
                       name="state"
                       formControlName="country"
                       placeholder="Search client name"
                       type="text"
                       role="combobox"
                       title="{{countryName}}"
                       autocomplete="off"
                       aria-owns="read"
                       appKeyListControl
                       [dataManipulate]=true
                       [attr.data-isDownBtn]=true
                       (arrowDown)="arrowkeyLocation=$event" 
                       [attr.data-selectedvalue]="countryName"
                       [attr.aria-expanded]="CountrynameSwitch?true:false" 
                       [attr.aria-activedescendant]="arrowkeyLocation"
                       (input)="CountrynameSwitch = true;arrowkeyLocation=0" 
                       (intialLoadData)="CountrynameSwitch=true;callTempCountry();arrowkeyLocation=countryName?-1:0"
                       (keyup.enter)="arrowkeyLocation=arrowkeyLocation==-1?0:arrowkeyLocation; countrylist.value=getCountry[arrowkeyLocation].Name;CountryZunkdata=getCountry[arrowkeyLocation].Name; CountrynameSwitch=false;appendCountryname(getCountry[arrowkeyLocation]);;arrowkeyLocation=0"
                       (keydown)="CountrynameSwitch=true"
                       [attr.data-arrayMaxLength]="getCountry?.length" 
                       aria-autocomplete="list"
                       (keydown.Tab)="Countrynameclose()"
                       
                       maxlength="1000"
                       [attr.aria-label]="'country edit selected' + countryName"
                       >
                      <!--
                        [ngClass]="{'error': f.country.invalid  && (f.country.dirty || f.country.touched)}"
                         <p *ngIf="f.country.touched && !f.country.valid" class="error-message top-40">
                         Select country name  </p> -->
                        <span class="mdi mdi-magnify" *ngIf="CountrynameSwitch || countryName ==''"></span>
                        <span class="mdi mdi-close auto-close"
                        (click)="clearCountryName();arrowkeyLocation=0;countryName=''"
                        *ngIf="!CountrynameSwitch && countryName!==''"></span>
                    </div>
                    <div
                      class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  border-right  float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                      *ngIf="CountrynameSwitch" [attr.focus]="newCustomerContactForm1.value.country && CountrynameSwitch ">
                      <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                        <span class="w-100 z-ind-9 float-left bg-white">
                          <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                            [ngClass]="{'loader-search':isCountrySearchLoading }">
                            <li id="{{i}}" tabindex="0" role="option" class="list-group-item ellipses" [ngClass]="service.chatBot ? 'list-DA-con' : 'list-name'"
                              [class.active]="i==arrowkeyLocation" aria-disabled="false"
                              *ngFor="let item of getCountry |filter:newCustomerContactForm1.value.country; let i=index"
                              (click)="countrylist.value=item.Name;CountryZunkdata=item.Name;appendCountryname(item)"
                              matTooltip="{{item.Name}}">
                              {{item.Name}}</li>
                            <li class="d-block list-name h-40 p-10"
                              *ngIf="(getCountry |filter:newCustomerContactForm1.value.country)?.length == 0 && !isCountrySearchLoading">
                              No record found </li>
                          </ul>
                        </span>
                      </perfect-scrollbar>
                    </div>
                  </div>
                  <div class="float-left w-100 years-in mt-2">
                    <label for="from1">From</label>
                    <input type="number" placeholder="YYYY" id="from1">
                    <label for="to1">To</label>
                    <input type="number" placeholder="YYYY" id="to1">
                    <button class="btn-none mdi mdi-close color-azure"></button>
                  </div>
                </div>
              </perfect-scrollbar>
                
                <button class="bg-white btn btn-outlined color-azure custom-btn mt-3 h-40 standard-border w-100">+ Add client</button>
              
              </div>
            </div>
              <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 float-left mt22 ">
                <div class="float-left yes-enabled">
                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form pb10" id="b">
                    Reference-able <span class="required"> *</span>
                  </div>
                  <div class="pos-rel w-100 float-left no_pad">
                  <mat-radio-group aria-required="true" (change)="matReferencable($event)" (change)="autoSaveChangedData(f.referenceable.valid)" aria-labelledby="b"
                    formControlName="referenceable">
                    <mat-radio-button [value]=true [checked]="newCustomerContactForm1.value.referenceable===true"
                      class="pr30">Yes</mat-radio-button>
                    <mat-radio-button [value]=false [checked]="newCustomerContactForm1.value.referenceable===false">No
                    </mat-radio-button>
                  </mat-radio-group>
                  <p *ngIf="f.referenceable.touched && !f.referenceable.valid" class="error-message top-20">  Select
                      reference-able </p>
                      </div>

            
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form pb6 mt-2" id="e">
                  Reference mode <span class="required"> *</span>
                </div>
                <div class="pos-rel w-100 float-left no_pad">
                <mat-radio-group aria-required="true" (change)="matReferencable($event)" (change)="autoSaveChangedData(f.referenceable.valid)" aria-labelledby="e"
                  formControlName="referenceable">
                  <mat-radio-button [value]=true [checked]="newCustomerContactForm1.value.referenceable===true"
                    class="pr30">Internal</mat-radio-button>
                  <mat-radio-button [value]=false [checked]="newCustomerContactForm1.value.referenceable===false">External
                  </mat-radio-button>
                </mat-radio-group>
                <!-- <p *ngIf="f.referenceable.touched && !f.referenceable.valid" class="error-message top-20">  Select
                    reference-able </p> -->
                </div>
                 <!-- Reference Type start-->
              <div class="col-12 no_pad float-left mt-2" *ngIf="newCustomerContactForm1.value.referenceable!==''">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad customized-input CompanyName"
                    *ngIf="newCustomerContactForm1.value.referenceable === true" 
                      (clickOutside)="ReferenceTypeclose()">
                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="interestID"
                      class="label-form">Reference type <span class="required"> *</span></label>
                    <div class="pos-rel w-100 float-left customized-input no_pad">
                    <input aria-required="true"
                    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text "
                    #referencelist
                    id="referencetypeID"
                    name="referencetypename"
                    formControlName="referenceType"
                    placeholder="Select reference type"
                    type="text" 
                    role="combobox"
                    title="{{referenceTypeName}}" 
                    autocomplete="off"
                    aria-owns="read"
                    appKeyListControl
                    [dataManipulate]=true
                    [attr.data-isDownBtn]=true
                    (arrowDown)="arrowkeyLocation=$event" 
                    [attr.data-selectedvalue]="referenceTypeName" 
                    [attr.aria-expanded]="ReferenceTypeSwitch?true:false" 
                    [attr.aria-activedescendant]="arrowkeyLocation"
                    (input)="ReferenceTypeSwitch=true;arrowkeyLocation=0"
                    (intialLoadData)="ReferenceTypeSwitch=true;callTempReferenceType();arrowkeyLocation=0"
                    (keyup.enter)="appendReferenceType(getReferenceType[arrowkeyLocation]);referencelist.value=getReferenceType[arrowkeyLocation].Name;ReferenceTypeSwitch=false;arrowkeyLocation=0"
                    (keydown)="ReferenceTypeSwitch=true"
                    [attr.data-arrayMaxLength]="getReferenceType?.length"
                    aria-autocomplete="list"
                    (keydown.Tab)="ReferenceTypeclose()"
                    [ngClass]="{'error': f.referenceType.invalid  && (f.referenceType.dirty || f.referenceType.touched)}"
                    maxlength="1000">
                    <p *ngIf="f.referenceType.touched && !f.referenceType.valid" class="error-message top-40">
                        Select reference type  </p>
                    <span class="mdi mdi-magnify" *ngIf="ReferenceTypeSwitch || referenceTypeName ==''"></span>
                    <span class="mdi mdi-close auto-close"
                    (click)="clearReferenceType();arrowkeyLocation=0;referenceTypeName=''"
                    *ngIf="!ReferenceTypeSwitch && referenceTypeName!==''"></span>
                      </div>
                    <div
                      class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  border-right  float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                      *ngIf="ReferenceTypeSwitch" [attr.focus]="newCustomerContactForm1.value.referenceType && IntrestNameSwitch">
                      <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                        <span class="w-100 z-ind-9 float-left bg-white">
                          <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                            [ngClass]="{'loader-search':isReferenceTypeSearchLoading }">
                            <li id="{{i}}" tabindex="0" role="option" class="list-group-item ellipses" [ngClass]="service.chatBot ? 'list-DA-con' : 'list-name'"
                              [class.active]="i==arrowkeyLocation" aria-disabled="false"
                              *ngFor="let item of getReferenceType |filter:newCustomerContactForm1.value.referenceType; let i=index"
                              (click)="referencelist.value=item.Name;appendReferenceType(item)" matTooltip="{{item.Name}}">
                              {{item.Name}}</li>
                            <li class="d-block list-name h-40 p-10"
                              *ngIf="(getReferenceType |filter:newCustomerContactForm1.value.referenceType)?.length == 0 && !isReferenceTypeSearchLoading">
                              No record found </li>
                          </ul>
                        </span>
                      </perfect-scrollbar>
                    </div>
                    <!-- Multiple Reference Type start -->
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad selected-contact">
                        <perfect-scrollbar style="max-height:250px">
                            <div class="float-left d-flex tagged-box auto mt-10 pl-0 p-4-10 mr10"
                                *ngFor="let item of sendReferenceType ; let i=index">
                                <label for="inti_name" class="float-left name w-100">
                                    <span class="d-block color-azure mr10 float-left ellipses width-90" title="{{item.Name}}" matTooltip="{{item.Name}}">{{item.Name}}</span>
                                </label>
                                <span class="mdi mdi-close close-lead float-right cp ml10" (click)="delinkReferenceType(item, i)"></span>
                            </div>
                        </perfect-scrollbar>
                    </div>
                     <!-- Multiple Reference Type start -->
                </div>
             </div>
          <!-- Reference mode ends -->
              </div>
            </div>

            
             
              <!-- Mobile -select starts here -->
              <!-- <div *ngIf="newCustomerContactForm1.value.referenceable!==''">
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left  mt25 mobile-select-box" 
            *ngIf="newCustomerContactForm1.value.referenceable === true" >
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="referencemode"
                class="label-form" placeholder="Select lead source">
                Select reference mode <span class="required"> *</span></label>
              <div class="customized-select">
                <span class="caret color-azure"></span>
                <select  id="referencemode" role="listbox" aria-required="true"
                  [ngClass]="{'error': f.referenceMode.invalid && (f.referenceMode.dirty || f.referenceMode.touched)}"
                  formControlName="referenceMode" placeholder="select reference mode"
                  [ngClass]="{'error': f.referenceMode.invalid && (f.referenceMode.dirty || f.referenceMode.touched)}">
                  <option value=""> Select reference mode</option>
                  <option [value]="item.Id" *ngFor="let item of ContactReferenceMode" matTooltip="{{item.Value}}">{{item.Value}}
                  </option>
                </select>
                <p *ngIf="f.referenceMode.touched && !f.referenceMode.valid" class="error-message top-40">
                  Select reference mode </p>
              </div>
            </div>
              </div> -->
              <!-- Mobile -select end here -->
             <!-- <div *ngIf="newCustomerContactForm1.value.referenceable!==''">
              <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt25
              web-select-box"   *ngIf="newCustomerContactForm1.value.referenceable === true" >
                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationTypec3"
                  class="label-form" placeholder="Select lead source">Reference mode<span class="required"> *</span></label>
                <mat-form-field class="col-12 no_pad float-left">
                  <mat-label>Select reference mode</mat-label>
                  <mat-select aria-label="{{'Select reference mode' + relationTypeAria}}"  disableOptionCentering
                  (selectionChange)="appendReferenceMode($event)"
                  panelClass="custom-Select-panel-class" class="select-focus" aria-required="true"
                    [ngClass]="{'error': f.referenceMode.invalid && (f.referenceMode.dirty || f.referenceMode.touched)}"
                    formControlName="referenceMode">
                    <mat-option value=""> Select reference mode </mat-option>
                    <mat-option *ngFor="let item of ContactReferenceMode" [value]="item.Id" matTooltip="{{item.Value}}">
                      {{item.Value}}
                    </mat-option>
                  </mat-select>
                  <p *ngIf="f.referenceMode.touched && !f.referenceMode.valid" class="error-message top-40">
                    Select reference mode </p>
                </mat-form-field>
              </div>
             </div> -->
             <!-- Reference mode end -->
            <!-- referenceable end-->
                 <div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mt30">
              <h2 class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left no_pad heading-level-three pad-top-8">
                Customer address</h2>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20">
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad customized-input CompanyName"
                (clickOutside)="Countrynameclose()">
                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="countryID"
                  class="label-form">Country <span class="required"> *</span> </label>
                <div class="pos-rel w-100 float-left customized-input no_pad">
                  <input
                  aria-required="true"
                   class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="countryID"
                   #countrylist
                   id="countryID"
                   name="state"
                   formControlName="country"
                   placeholder="Search country name "
                   type="text"
                   role="combobox"
                   title="{{countryName}}"
                   autocomplete="off"
                   aria-owns="read"
                   appKeyListControl
                   [dataManipulate]=true
                   [attr.data-isDownBtn]=true
                   (arrowDown)="arrowkeyLocation=$event" 
                   [attr.data-selectedvalue]="countryName"
                   [attr.aria-expanded]="CountrynameSwitch?true:false" 
                   [attr.aria-activedescendant]="arrowkeyLocation"
                   (input)="CountrynameSwitch = true;arrowkeyLocation=0" 
                   (intialLoadData)="CountrynameSwitch=true;callTempCountry();arrowkeyLocation=countryName?-1:0"
                   (keyup.enter)="arrowkeyLocation=arrowkeyLocation==-1?0:arrowkeyLocation; countrylist.value=getCountry[arrowkeyLocation].Name;CountryZunkdata=getCountry[arrowkeyLocation].Name; CountrynameSwitch=false;appendCountryname(getCountry[arrowkeyLocation]);;arrowkeyLocation=0"
                   (keydown)="CountrynameSwitch=true"
                   [attr.data-arrayMaxLength]="getCountry?.length" 
                   aria-autocomplete="list"
                   (keydown.Tab)="Countrynameclose()"
                   [ngClass]="{'error': f.country.invalid  && (f.country.dirty || f.country.touched)}"
                   maxlength="1000"
                   [attr.aria-label]="'country edit selected' + countryName"
                   >
                  <p *ngIf="f.country.touched && !f.country.valid" class="error-message top-40">
                     Select country name  </p>
                    <span class="mdi mdi-magnify" *ngIf="CountrynameSwitch || countryName ==''"></span>
                    <span class="mdi mdi-close auto-close"
                    (click)="clearCountryName();arrowkeyLocation=0;countryName=''"
                    *ngIf="!CountrynameSwitch && countryName!==''"></span>
                </div>
                <div
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  border-right  float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                  *ngIf="CountrynameSwitch" [attr.focus]="newCustomerContactForm1.value.country && CountrynameSwitch ">
                  <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                    <span class="w-100 z-ind-9 float-left bg-white">
                      <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                        [ngClass]="{'loader-search':isCountrySearchLoading }">
                        <li id="{{i}}" tabindex="0" role="option" class="list-group-item ellipses" [ngClass]="service.chatBot ? 'list-DA-con' : 'list-name'"
                          [class.active]="i==arrowkeyLocation" aria-disabled="false"
                          *ngFor="let item of getCountry |filter:newCustomerContactForm1.value.country; let i=index"
                          (click)="countrylist.value=item.Name;CountryZunkdata=item.Name;appendCountryname(item)"
                          matTooltip="{{item.Name}}">
                          {{item.Name}}</li>
                        <li class="d-block list-name h-40 p-10"
                          *ngIf="(getCountry |filter:newCustomerContactForm1.value.country)?.length == 0 && !isCountrySearchLoading">
                          No record found </li>
                      </ul>
                    </span>
                  </perfect-scrollbar>
                </div>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20">
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad customized-input CompanyName"
                (clickOutside)="Statenameclose()">
                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="stateID"
                  class="label-form">State/province</label>
                  <div class="pos-rel w-100 float-left customized-input no_pad">
                <input 
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text "
                  #statelist
                  id="stateID"
                  name="state" 
                  formControlName="stateProvince"
                  placeholder="Search state/province name "
                  type="text"
                  role="combobox"
                  title="{{stateName}}" 
                  autocomplete="off" 
                  aria-owns="read"
                  appKeyListControl
                  [dataManipulate]=true
                  [attr.data-isDownBtn]=true
                  (arrowDown)="arrowkeyLocation=$event"
                  [attr.data-selectedvalue]="stateName"
                  [attr.aria-expanded]="StatenameSwitch?true:false"
                  [attr.aria-activedescendant]="arrowkeyLocation"
                  (input)="StatenameSwitch = true;arrowkeyLocation=0"
                  (intialLoadData)="StatenameSwitch=true;callTempState();arrowkeyLocation=stateName?-1:0"
                  (keyup.enter)="arrowkeyLocation=arrowkeyLocation==-1?0:arrowkeyLocation; statelist.value=getState[arrowkeyLocation].Name;StateZunkdata=getState[arrowkeyLocation].Name;  StatenameSwitch=false;appendStatename(getState[arrowkeyLocation]);arrowkeyLocation=0"
                  (keydown)="StatenameSwitch=true"
                  [attr.data-arrayMaxLength]="getState?.length"
                  aria-autocomplete="list"
                  (keydown.Tab)="Statenameclose()"
                  maxlength="1000"
                  [attr.aria-label]="'State/Province edit selected' + stateName"
                  >
                <span class="mdi mdi-magnify" *ngIf="StatenameSwitch || stateName ==''"></span>
                <span class="mdi mdi-close auto-close"
                (click)="clearStateName();arrowkeyLocation=0;stateName=''"
                *ngIf="!StatenameSwitch && stateName!==''"></span>
                  </div>
                <div
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  border-right  float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                  *ngIf="StatenameSwitch"
                  [attr.focus]="newCustomerContactForm1.value.stateProvince && StatenameSwitch ">
                  <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                    <span class="w-100 z-ind-9 float-left bg-white">
                      <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                        [ngClass]="{'loader-search':isStateSearchLoading }">
                        <li id="{{i}}" tabindex="0" role="option" class="list-group-item ellipses" [ngClass]="service.chatBot ? 'list-DA-con' : 'list-name'"
                          [class.active]="i==arrowkeyLocation" aria-disabled="false"
                          *ngFor="let item of getState |filter:newCustomerContactForm1.value.stateProvince; let i=index"
                          (click)="statelist.value=item.Name;StateZunkdata=item.Name;appendStatename(item)"
                          matTooltip="{{item.Name}}">
                          {{item.Name}}</li>
                        <li class="d-block list-name h-40 p-10"
                          *ngIf="(getState |filter:newCustomerContactForm1.value.stateProvince)?.length == 0 && !isStateSearchLoading">
                          No record found </li>
                      </ul>
                    </span>
                  </perfect-scrollbar>
                </div>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20">
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad customized-input CompanyName"
                (clickOutside)="Citynameclose()">
                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="textc5"
                  class="label-form">City</label>
                  <div class="pos-rel w-100 float-left customized-input no_pad">
                <input 
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text "
                  #citylist
                  id="cityID"
                  name="city"  
                  formControlName="City"
                  placeholder="Search city name "
                  type="text"
                  role="combobox"
                  title="{{cityName}}"
                  autocomplete="off" 
                  aria-owns="read"
                  appKeyListControl
                  [dataManipulate]=true
                  [attr.data-isDownBtn]=true
                  (arrowDown)="arrowkeyLocation=$event" 
                  [attr.data-selectedvalue]="cityName"
                  [attr.aria-expanded]="CitynameSwitch?true:false"
                  [attr.aria-activedescendant]="arrowkeyLocation"
                  (input)="CitynameSwitch=true;arrowkeyLocation=0"
                  (intialLoadData)="CitynameSwitch=true;callTempCity();arrowkeyLocation=cityName?-1:0"
                  (keyup.enter)="arrowkeyLocation=arrowkeyLocation==-1?0:arrowkeyLocation; citylist.value=getCity[arrowkeyLocation].Name;CityZunkdata=getCity[arrowkeyLocation].Name; CitynameSwitch=false;appendCityname(getCity[arrowkeyLocation]);arrowkeyLocation=0"
                  (keydown)="CitynameSwitch=true"
                  [attr.data-arrayMaxLength]="getCity?.length"
                  aria-autocomplete="list"
                  (keydown.Tab)="Citynameclose()"
                  [ngClass]="{'disable-input' : ngclass }" 
                  maxlength="1000"
                  [attr.aria-label]="'City edit selected' + cityName"
                  >
                <span class="mdi mdi-magnify" *ngIf="CitynameSwitch || cityName ==''"></span>
                <span class="mdi mdi-close auto-close"
                (click)="clearCityName();arrowkeyLocation=0;cityName=''"
                *ngIf="!CitynameSwitch && cityName!==''"></span>
                  </div>
                <div
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  border-right  float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                  *ngIf="CitynameSwitch" [attr.focus]="newCustomerContactForm1.value.City && CitynameSwitch ">
                  <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                    <span class="w-100 z-ind-9 float-left bg-white">
                      <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                        [ngClass]="{'loader-search':isCitySearchLoading }">
                        <li id="{{i}}" tabindex="0" role="option" class="list-group-item ellipses" [ngClass]="service.chatBot ? 'list-DA-con' : 'list-name'"
                          [class.active]="i==arrowkeyLocation" aria-disabled="false"
                          *ngFor="let item of getCity |filter:newCustomerContactForm1.value.City; let i=index"
                          (click)="citylist.value=item.Name;CityZunkdata=item.Name;appendCityname(item)"
                          matTooltip="{{item.Name}}">
                          {{item.Name}}</li>
                        <li class="d-block list-name h-40 p-10"
                          *ngIf="(getCity |filter:newCustomerContactForm1.value.City)?.length == 0 && !isCitySearchLoading">
                          No record found </li>
                      </ul>
                    </span>
                  </perfect-scrollbar>
                </div>
              </div>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left customized-input mt20">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="address1"
                class="label-form">Address line 1</label>
              <input (blur)="autoSaveChangedData(f.address1.valid)"
                class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="address1"
                name="address1" type="text" formControlName="address1" placeholder="Enter address 1" maxlength="100">
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left customized-input mt20">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="address2"
                class="label-form">Address line 2</label>
              <input (blur)="autoSaveChangedData(f.address2.valid)"
                class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="address2"
                name="address2" type="text" formControlName="address2" placeholder="Enter address 2" maxlength="100">
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left customized-input mt20">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="streetName"
                class="label-form">Street name</label>
              <input (blur)="autoSaveChangedData(f.streetName.valid)"
                class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="streetName"
                name="streetName" type="text" formControlName="streetName" autocomplete="off"
                placeholder="Enter street name" maxlength="100">
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left mt20">
              <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="zipPostalCode"
                class="label-form">Zip/postal code</label>
              <div class="pos-rel w-100 float-left customized-input no_pad">
                <input (blur)="autoSaveChangedData(f.zipPostalCode.valid)"
                  class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left customized-input h-40 input-text "
                  id="zipPostalCode" name="zipPostalCode" type="text" formControlName="zipPostalCode" maxlength="15"
                  placeholder="Enter zip/postal code">
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
    <!--****************************************step 1 ends********************************-->

    <!--****************************************step 2 starts********************************-->
    <form class="card-create-contact float-left col-12 col-md-12 col-xl-12 pad-30 mt40 margin-btm160" *ngIf="dealinfo" id="validatescroll" [formGroup]="newCustomerContactForm2">
      <div class="col-12 col-md-12 col-xl-8 float-left no_pad">
        <div class="col-12  float-left  mt40 " *ngIf="dealinfo">
          <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6  plb-60-20 customized-input float-left ">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="Industry"
              class="label-form">Industry</label>
            <input (blur)="autoSaveChangedData(f1.industry.valid)"
              class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text " id="Industry"
              name="Industry" type="text" formControlName="industry" disabled placeholder="Enter industry"
              maxlength=100>
          </div>
          <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left  plb-60-20  mobile-select-box">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationTypec7"
              class="label-form" placeholder="Select lead source"> Function</label>
            <div class="customized-select">
              <span class="caret color-azure"></span>
              <select (change)="autoSaveChangedData(f1.functions.valid)" id="CoversationTypec7" role="listbox"
                formControlName="functions">
                <option value="" disabled>Select function</option>
                <option *ngFor="let function of functionType" [value]="function.Id" matTooltip="{{function.Value}}">
                  {{function.Value}}</option>
              </select>
            </div>
          </div>
          <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left plb-60-20  web-select-box">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="CoversationTypec7"
              class="label-form" placeholder="Select function"> Function</label>
            <mat-form-field class="col-12 no_pad float-left">
              <mat-label>Function</mat-label>
              <mat-select aria-label="{{'Function' + functionTypeAria}}"  (change)="autoSaveChangedData(f1.functions.valid)" disableOptionCentering
               (selectionChange)="appendFunctionType($event)"
                panelClass="custom-Select-panel-class" class="select-focus" formControlName="functions">
                <mat-option value="" disabled>Select function </mat-option>
                <mat-option *ngFor="let function of functionType" [value]="function.Id" matTooltip="{{function.Value}}">
                  {{function.Value}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <!-- Select DROPDOWN ENDS -->
          <!-- <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left plb-60-20 ">
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form pb10" id="b">
                GDPR
              </div>
              <mat-radio-group (change)="autoSaveChangedData(f1.GDPR.valid)" aria-labelledby="b"
                formControlName="GDPR">
                <mat-radio-button [value]=true [checked]="newCustomerContactForm2.value.GDPR===true"
                  class="pr30">Yes</mat-radio-button>
                <mat-radio-button [value]=false [checked]="newCustomerContactForm2.value.GDPR===false">No
                </mat-radio-button>
              </mat-radio-group>
            </div> -->
          <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left plb-60-20 ">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form pb10 cp" id="sol" matTooltip="Select 'Yes' if contact has agreed to receive promotional email related to Wipro products and services">
              Solicit
            </div>
            <mat-radio-group (change)="autoSaveChangedData(f1.solicit.valid)" aria-labelledby="sol"
              formControlName="solicit">
              <mat-radio-button [value]=true [checked]="newCustomerContactForm2.value.solicit===true" class="pr30">Yes
              </mat-radio-button>
              <mat-radio-button [value]=false [checked]="newCustomerContactForm2.value.solicit===false">No
              </mat-radio-button>
            </mat-radio-group>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-12 col-xl-4 float-left no_pad mt40" *ngIf="dealinfo">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left plb-60-20 ">
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad customized-input CompanyName"
            (clickOutside)="IntrestNameclose()">
            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="interestID"
              class="label-form">Interest</label>
              <div class="pos-rel w-100 float-left customized-input no_pad">
            <input 
            class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 input-text "
            #interestlist
            id="interestID"
            name="reportingManager"
            formControlName="intrest"
            placeholder="Select interest"
            type="text" 
            role="combobox"
            title="{{interestName}}" 
            autocomplete="off"
            aria-owns="read"
            appKeyListControl
            [dataManipulate]=true
            [attr.data-isDownBtn]=true
            (arrowDown)="arrowkeyLocation=$event" 
            [attr.data-selectedvalue]="interestName" 
            [attr.aria-expanded]="IntrestNameSwitch?true:false" 
            [attr.aria-activedescendant]="arrowkeyLocation"
            (input)="IntrestNameSwitch=true;arrowkeyLocation=0"
            (intialLoadData)="IntrestNameSwitch=true;callTempInterest();arrowkeyLocation=interestName?-1:0"
            (keyup.enter)="arrowkeyLocation=arrowkeyLocation==-1?0:arrowkeyLocation;appendIntrestName(getIntrest[arrowkeyLocation]);interestlist.value=getIntrest[arrowkeyLocation].Name;IntrestNameSwitch=false;arrowkeyLocation=0"
            (keydown)="IntrestNameSwitch=true"
            [attr.data-arrayMaxLength]="getIntrest?.length"
            aria-autocomplete="list"
            (keydown.Tab)="IntrestNameclose()"
            maxlength="1000">
            <span class="mdi mdi-magnify" *ngIf="IntrestNameSwitch || interestName ==''"></span>
            <span class="mdi mdi-close auto-close"
            (click)="clearInterestName();arrowkeyLocation=0;interestName=''"
            *ngIf="!IntrestNameSwitch && interestName!==''"></span>
              </div>
            <div
              class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  border-right  float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
              *ngIf="IntrestNameSwitch" [attr.focus]="newCustomerContactForm2.value.intrest && IntrestNameSwitch">
              <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                <span class="w-100 z-ind-9 float-left bg-white">
                  <ul class=" list-group color-azure  sort-dropdown mr2" role="listbox" id="read"
                    [ngClass]="{'loader-search':isInterestSearchLoading }">
                    <li id="{{i}}" tabindex="0" role="option" class="list-group-item ellipses" [ngClass]="service.chatBot ? 'list-DA-con' : 'list-name'"
                      [class.active]="i==arrowkeyLocation" aria-disabled="false"
                      *ngFor="let item of getIntrest |filter:newCustomerContactForm2.value.intrest; let i=index"
                      (click)="interestlist.value=item.Name;appendIntrestName(item)" matTooltip="{{item.Name}}">
                      {{item.Name}}</li>
                    <li class="d-block list-name h-40 p-10"
                      *ngIf="(getIntrest |filter:newCustomerContactForm2.value.intrest)?.length == 0 && !isInterestSearchLoading">
                      No record found </li>
                  </ul>
                </span>
              </perfect-scrollbar>
            </div>
            <!-- Multiple interest start -->
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad selected-contact">
                <perfect-scrollbar style="max-height:250px">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left d-flex tagged-box mt-10 p-4-10 mr10"
                        *ngFor="let item of selectedInterest ; let i=index">
                        <label for="inti_name" class="float-left name w-94">
                            <span class="d-block color-azure mr10 float-left ellipses max-w260" title="{{item.Name}}" matTooltip="{{item.Name}}">{{item.Name}}</span>
                        </label>
                        <span class="mdi mdi-close close-lead float-right cp ml10" (click)="delinkIntrest(item.Id)"></span>
                    </div>
                </perfect-scrollbar>
            </div>
             <!-- Multiple interest start -->
          </div>
        </div>
      </div>
    </form>
    <!--****************************************step 2 ends********************************-->
  </div>
</div>
