<form #overviewForm="ngForm">
        <div id="overview_overlay" class="no_pad" *ngIf="service.Summary_window"></div>
    <div class="arrow-icon"> 
            <button *ngIf="!service.MobileDevice" class="" 
            [ngClass]="service.arrowScrollTop ? 'display-block Arrow':'display-none'" 
            id="arrow_icon" matTooltip="Scroll to top" (click)="scrollToTop()">
            <span class="mdi mdi-chevron-up"></span></button>
    </div>
    <!-- readonly fields of overview screen starts here -->
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left pad-leftright mb20 mobiile-top-190 readonlyParent" *ngIf="readOnlyFlag">
        <mat-expansion-panel hideToggle="true" [expanded]="panelOpenState1" class="no_pad" (opened)="panelOpenState1 = true" (closed)="panelOpenState1 = false">
            <mat-expansion-panel-header style="min-height:60px;">
                <mat-panel-title class="accord-heading ">
                    <span [ngClass]="panelOpenState1 ? 'mdi mdi-chevron-down chevron-right':'mdi mdi-chevron-right chevron-right'"></span>
                    <span class="accordian-title pad-top-8 cardsHead pl36 col-12 no_pad editTopHeads">Opportunity
                        overview
                    </span>
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad bordr-bottm">
                <ng-container *ngFor="let data of table_data">
                    <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4 float-left no_pad pad-10" *ngIf="data.show">
                        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-text">{{data.heading}}</label>
                        <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad text-data ellipses" title="{{data.content}}">{{data.content}}</span>
                    </div>
                </ng-container>
            </div>
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad mt20">
                <span class="col-12 col-xs-12 col-sm-12 col-lg-12 col-xl-12 no_pad float-left scopeOfWork">Scope of work</span>
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pad-10 mt10">
                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-text">Description</label>
                    <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad text-data">{{description}}</span>
                </div>
                <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4 float-left no_pad pad-10">
                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-text">Link account growth
                        projects</label>
                    <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad text-data ellipses" title="{{data.Name}}" *ngFor="let data of selectedAGPArray">{{data.Name}}</span>
                </div>
                <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4 float-left no_pad pad-10">
                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-text">Primary customer
                        contact</label>
                    <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad text-data ellipses" title="{{primaryContactName}}">{{primaryContactName}}</span>
                </div>
                <div class="col-12 col-sm-6 col-md-4 col-lg-4 col-xl-4 float-left no_pad pad-10">
                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-text">Customer decision
                        maker contacts</label>
                   <div class="col-12 no_pad float-left mb10" *ngFor="let data of selectedContact">
                    <div class="float-left naming-tags child-middle bg-azure">
                        <span class="initials">{{getInitials(data.Name)}}</span>

                    </div>
                    <div class="float-left flex-grow-1 mb-0 p-3-0-0-5 ml10">
                        <span class="text-data">{{data.Name}}</span>
                        <span class="d-block sub-list">{{data.Designation}}</span>
                    </div>
                    </div>
                </div>
            </div>
        </mat-expansion-panel>
    </div>
    <!-- readonly fields of overview screen ends here -->

    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left pr-10 new-container businesssolution-page order-tab padd-0 no_pad" *ngIf="!readOnlyFlag">
        <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pos-abs bg-mid_night h-218"> </div> -->
        <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  no_pad" [ngClass]="service.sideTrans ? 'main-containt-250' : 'main-containt1'"> -->
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  no_pad">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left">
                <ng-container *ngIf="isLoading">
                    <div class="col-12 float-left complex_table unqualified-padding pt0 no_pad">
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad leads-archived-landing">
                            <div class="col-lg-12 col-sm-12 col-md-12 col-12 no_pad">
                                <div class="loaderContainer">
                                    <div class="loader"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-container>
                <mat-expansion-panel hideToggle="true" [expanded]="true" class="no_pad" (opened)="panelOpenState2 = true" (closed)="panelOpenState2 = false">
                    <mat-expansion-panel-header style="min-height:60px;">
                        <mat-panel-title class="accord-heading ">
                            <span [ngClass]="panelOpenState2 ? 'mdi mdi-chevron-down chevron-right':'mdi mdi-chevron-right chevron-right'"></span>
                            <span class="accordian-title pad-top-8 cardsHead pl36 col-12 no_pad pt15 editTopHeads">Opportunity
                            Overview 
                            <!--- <<{{stageValue}}>>-->
                        </span>
                        </mat-panel-title>
                    </mat-expansion-panel-header>

                    <div class="col-12 no_pad float-left border_top fixedHeightAlign">
                        <div class="col-12 col-sm-12 col-md-12 col-lg-8 col-xl-8 float-left plb-60-20">
                            <form [formGroup]="createForm">
                                <div class="customized-input">
                                    <label for="field1" class="w-100 label-form">Opportunity name *</label>
                                    <input id="field1" name="opportunity name" type="text" class="border-gray w-100" value="" placeholder="Enter Opportunity name"
                                        formControlName="opportunityName" (ngModelChange)="onChangeHandlerCreateForm($event);" (keyup)="AppendRedisCache()"
                                        [attr.disabled]="!fullAccessPermission && !partialAccessPermission?'':null" (blur)="oppNameValidation($event)" [appAlphaNumeric] = "'text'" [ngClass]="(createFormErrorCheck && form_create.opportunityName.invalid) || oppNameFlag?'orangeborder':''"
                                        required />
                                </div>
                                <p *ngIf="(createFormErrorCheck && form_create.opportunityName.invalid)" class="col-12 no_pad float-left validation-text">Opportunity name is required.</p>
                            </form>
                        </div>

                        <!--Account name autocomplete starts here-->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20 ">

                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad " for="AccountName" class="label-form">Account name
                                    <span class="required"> *
                                    </span>
                                </label>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">
                                    <div class="flex-grow-1">
                                        <app-auto-complete-select [requiredField]="true" [labelName]="'Account name'" [titleName]="'Account name'" [Placeholder]="'Enter account name'" [source]="AccountNameArray" [selectedObj]="SelectedAccountObj"
                                            [Isdisabled]=true [details]="accountName" [detailsId]="accountSysGuid" [dataHeader]="dataHeader">
                                        </app-auto-complete-select>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!--Account name autocomplete ends here-->
                        <!-- </div> -->

                        <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad float-left"> -->

                        <!--Account name autocomplete starts here-->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20 ">

                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [ngClass]="{ 'bg-error': validation_window && !sapCodeName && !noSapCode}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="SapCode" class="label-form">SAP code
                                <span class="required" *ngIf="sapData.length>0? proceedToQualify || projectState > '184450000': proceedToClose"> *
                                </span>
                            </label>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">
                                    <div class="flex-grow-1">
                                        <app-auto-complete-select [requiredField]="true" [source]="sapData" [dataHeader]="dataHeader" [selectedObj]="selectedsapCodetObj" (content)="getSapData($event)"
                                            [labelName]="'SapCode'" [titleName]="'SAP code'" [Placeholder]="sapCodePlaceholder" [IsinitialsView]=false [IsApiCall]=true
                                            (advanceLookUp)="advanceLookUpSearch($event)" (requestSapCode)="openSAPcode($event)" (SelectedData)="selectedSapCode($event);onChangeHandlerQualifyForm($event);AppendRedisCache()"
                                            [details]="sapCodeName" [detailsId]="sapCodeSysGuid" [isSearchLoader]='isSearchLoader'
                                            [Isdisabled]="(!fullAccessPermission && !partialAccessPermission) || sapCodeDisabled?true:false" [MandtErrorFlag]="sapData.length?qualifyFormErrorCheck && !proceedToQualify && !sapCodeName :qualifyFormErrorCheck && !proceedToQualify && !sapCodeName && showSapCodeErrorColor" [showSAPCode]="showSAPCode">
                                        </app-auto-complete-select>
                                    </div>
                                </div>
                            </form>
                            <p *ngIf="sapData.length>0?qualifyFormErrorCheck && !proceedToQualify && !sapCodeName :qualifyFormErrorCheck && !proceedToQualify && !sapCodeName && showSapCodeErrorColor" class="col-12 no_pad float-left validation-text manditary-cls">Sap code is required.</p>
                        </div>
                        <!--Account name autocomplete ends here-->

                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 float-left no_pad">
                            <form [formGroup]="createForm">
                                <div *ngIf="!service.MobileDevice" class="col-12 col-sm-12 col-md-12 col-lg-12 float-left  plb-60-20 web-select-box">
                                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" for="select1" class="label-form">Source *</label>
                                    <button class="btn-none cp" (click)="openLeadPopup()" *ngIf="isSorceLead">
                                      <span class="mdi mdi-information-outline info-icon" role="button" tabindex="0"
                                        aria-label="information"></span>
                                        </button>
                                    <mat-form-field class="col-12 no_pad float-left">
                                        <mat-label>Select source type</mat-label>
                                        <mat-select aria-label="{{'Source' + sourceName}}" id="select1" formControlName="source" (ngModelChange)="onChangeHandlerCreateForm($event)" [disabled]=true disableOptionCentering
                                            panelClass="Select-panel-class" class="select-focus">
                                            <mat-option value="" selected hidden>Select source</mat-option>
                                            <mat-option *ngFor="let source of SourceList" [value]="source.Id">
                                                {{source.Name}}
                                            </mat-option>
                                        </mat-select>
                                        <p *ngIf="createFormErrorCheck && form_create.source.invalid" class="col-12 no_pad float-left validation-text ">Source is required.</p>
                                    </mat-form-field>
                                </div>
                                <!-- for mobile native select will be shown -->
                                <div *ngIf="service.MobileDevice" class="col-12 col-sm-12 col-md-12 col-lg-12 float-left  plb-60-20 mobile-select-box">
                                    <label for="select1" class="w-100 label-form">Source *</label>
                                    <div class="customized-select">
                                        <span class="caret color-azure"></span>
                                        <select class="select-focus mat-select" role="listbox" id="select1" formControlName="source" (ngModelChange)="onChangeHandlerCreateForm($event)"
                                            disabled>
                                        <option value="" selected hidden disabled>Select source</option>
                                        <option  *ngFor="let source of SourceList" [value]="source.Id">{{source.Name}}</option>
                                      </select>
                                        <p *ngIf="createFormErrorCheck && form_create.source.invalid" class="col-12 no_pad float-left validation-text top40">Source is required.</p>
                                    </div>
                                </div>
                            </form>
                        </div>
                      
                        <!-- mat-select code starts here -->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20" *ngIf="IsSimpleDealFlag==false">
                            <form [formGroup]="qualifyForm">
                                <div *ngIf="!service.MobileDevice" [ngClass]="{ 'bg-error': validation_window && form_qualify.proposalType.invalid}"
                                    class="col-12 col-sm-12 col-md-12 col-lg-12 float-left no_pad web-select-box">
                                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" for="proposalType" class="label-form">Proposal type <span class="required" *ngIf="proceedToQualify || projectState > '184450000'">*</span></label>
                                    <mat-form-field class="col-12 no_pad float-left">
                                        <mat-label>Select proposal type</mat-label>
                                        <mat-select aria-label="{{'Proposal type' + proposalTypeName}}" [attr.data-label]="'Proposal type *'"   [attr.data-matselect]="qualifyForm.value.proposalType" id="proposalType" role="listbox" formControlName="proposalType" (ngModelChange)="onChangeHandlerQualifyForm($event);setproposalTypeValue($event);AppendRedisCache()"
                                            [disabled]="!fullAccessPermission && !partialAccessPermission" [ngClass]="qualifyFormErrorCheck && !proceedToQualify &&form_qualify.proposalType.invalid?'orangeborder':''"
                                            required disableOptionCentering panelClass="Select-panel-class" class="select-focus matSelectErrorCss">
                                            <mat-option value="" selected hidden>Select the proposal type</mat-option>
                                            <mat-option *ngFor="let proposalType of ProposalTypeList" [value]="proposalType.Id">{{proposalType.Name}}
                                            </mat-option>
                                        </mat-select>
                                         <p *ngIf="qualifyFormErrorCheck && form_qualify.proposalType.invalid" class="col-12 no_pad float-left validation-text ">Proposal type is required.</p>
                                    </mat-form-field>
                                </div>
                                <!-- for mobile native select will be shown -->
                                <div *ngIf="service.MobileDevice" [ngClass]="{ 'bg-error': validation_window && form_qualify.proposalType.invalid}"
                                    class="col-12 col-sm-12 col-md-12 col-lg-12 float-left  plb-60-20 mobile-select-box">
                                    <label for="proposalType" class="w-100 label-form">Proposal type <span class="required" *ngIf="proceedToQualify || projectState > '184450000'">*</span></label>
                                    <div class="customized-select">
                                        <span class="caret color-azure"></span>
                                        <select class="select-focus mat-select" [attr.data-label]="'Proposal type *'" id="proposalType" role="listbox" formControlName="proposalType"
                                            (ngModelChange)="onChangeHandlerQualifyForm($event);setproposalTypeValue($event);AppendRedisCache()"
                                            [disabled]="!fullAccessPermission && !partialAccessPermission" [ngClass]="qualifyFormErrorCheck && !proceedToQualify &&form_qualify.proposalType.invalid?'orangeborder':''"
                                            required>
                                        <option value="" selected hidden disabled>Select the proposal type</option>
                                        <option  *ngFor="let proposalType of ProposalTypeList"  [value]="proposalType.Id">{{proposalType.Name}}</option>
                                      </select>
                                        <p *ngIf="qualifyFormErrorCheck && form_qualify.proposalType.invalid" class="col-12 no_pad float-left validation-text top40">Proposal type is required.</p>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- mat-select code ends here -->


                        <!--Currency autocomplete starts here-->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20">

                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="Currency" class="label-form">Currency
                                    <span class="required"> *
                                    </span>
                                </label>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">

                                    <div class="flex-grow-1">
                                        <app-auto-complete-select [requiredField]="true" [labelName]="'Currency'" [titleName]="'Currency'" [source]="CurrencyNameArray" (content)="getCurrency($event)" [selectedObj]="SelectedCurrencyObj"
                                            [Placeholder]="'Select'" [details]="currencyName" (SelectedData)="selectedCurrency($event);AppendRedisCache()"
                                            [dataHeader]="dataHeader" [detailsId]="currencySysGuid" [IsinitialsView]=false [IsApiCall]=true
                                            [isSearchLoader]='isSearchLoader' [Isdisabled]="!fullAccessPermission || (!OpportunityTypeId && this.currencySysGuid)" (advanceLookUp)="advanceLookUpSearch($event)"
                                            [MandtErrorFlag]="createFormErrorCheck && form_create.currency.invalid">
                                        </app-auto-complete-select>
                                    </div>
                                </div>
                                <p *ngIf="createFormErrorCheck && form_create.currency.invalid" class="col-12 no_pad float-left validation-text manditary-cls">Currency is required.</p>
                            </form>
                        </div>
                        <!--Currency autocomplete ends here-->

                        <!-- mat-select code starts here for vertical-->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20" [ngClass]="!fullAccessPermission || disableVertical?'HideMatDropdown':''">
                            <form [formGroup]="createForm">
                                <div *ngIf="!service.MobileDevice" class="web-select-box">
                                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" for="vertical" class="label-form">Vertical * </label>
                                    <mat-form-field class="col-12 no_pad float-left">
                                        <mat-label>Select vertical</mat-label>
                                        <mat-select aria-label="{{'Vertical' + verticalName}}" id="vertical" role="listbox" formControlName="vertical" (ngModelChange)="onChangeHandlerCreateForm($event);voChange($event)"
                                            [disabled]="!fullAccessPermission || disableVertical" [ngClass]="createFormErrorCheck && form_create.vertical.invalid?'orangeborder':''"
                                            required disableOptionCentering panelClass="Select-panel-class" class="select-focus matSelectErrorCss">
                                            <mat-option value="" selected hidden>Select the vertical</mat-option>
                                            <mat-option *ngFor="let vertical of verticalList" [value]="vertical.SysGuid">{{vertical.Name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <p *ngIf="createFormErrorCheck && form_create.vertical.invalid" class="col-12 no_pad float-left validation-text ">Vertical is required.</p>
                                  <!-- for mobile native select will be shown -->
                                <div *ngIf="service.MobileDevice" class="col-12 col-sm-12 col-md-12 col-lg-12 float-left  plb-60-20 mobile-select-box">
                                    <label for="select1" class="w-100 label-form">Vertical *</label>
                                    <div class="customized-select">
                                        <span class="caret color-azure"></span>
                                        <select class="select-focus mat-select" role="listbox" id="vertical" formControlName="vertical" (ngModelChange)="onChangeHandlerCreateForm($event);voChange($event)"
                                            [disabled]="!fullAccessPermission && !disableVertical">
                                        <option value="" selected hidden disabled>Select vertical</option>
                                        <option  *ngFor="let vertical of verticalList" [value]="vertical.SysGuid">{{vertical.Name}}</option>
                                      </select>
                                        <p *ngIf="createFormErrorCheck && form_create.vertical.invalid" class="col-12 no_pad float-left validation-text top40">Vertical is required.</p>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- mat-select code ends here for vertical-->

                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20 ">

                            <form [formGroup]="qualifyForm" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [ngClass]="{'bg-error': validation_window && form_qualify.cbu.invalid}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="Cbu" class="label-form">CBU
                                <span class="required" *ngIf="proceedToQualify || projectState > '184450000'"> *
                                </span>
                            </label>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">
                                    <span class="col-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 float-left add-btn cp" [ngClass]="(qualifyFormErrorCheck && !proceedToQualify && form_qualify.cbu.invalid)? (!fullAccessPermission && !partialAccessPermission?true:false) ? 'plusErrorAndDisabled' :'plusError':(!fullAccessPermission && !partialAccessPermission?true:false) ? 'plusDisabled' : service.Summary_window ? 'padleft2' : service.chatBot?'chatPadding':''" *ngIf="fullAccessPermission || partialAccessPermission" (click)="OpenCBU()"  (keypress)="OpenCBU()" role="button" tabindex="0" aria-label="Add">
                                                + </span>
                                    <div class="col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11 float-left   no_pad mar_neg2 flex-grow-1">
                                        <app-auto-complete-select [requiredField]="true" [source]="CBUList" [dataHeader]="dataHeader" [selectedObj]="selectedCbuObj" (content)="getCBUList($event)"
                                            (SelectedData)="selectedCbu($event);onChangeHandlerQualifyForm($event);AppendRedisCache()" [details]="cbuName"
                                            [detailsId]="cbuSysGuid" [labelName]="'Cbu'" [titleName]="'CBU'" [Placeholder]="'Select'" [IsApiCall]=true
                                            [isSearchLoader]='isSearchLoader' (advanceLookUp)="advanceLookUpSearch($event)" [Isdisabled]="!fullAccessPermission && !partialAccessPermission?true:false"
                                            [MandtErrorFlag]="qualifyFormErrorCheck && !proceedToQualify && form_qualify.cbu.invalid">
                                        </app-auto-complete-select>
                                    </div>
                                </div>
                                <p *ngIf="qualifyFormErrorCheck && !proceedToQualify && form_qualify.cbu.invalid" class="col-12 no_pad float-left validation-text manditary-cls">CBU is required.</p>
                            </form>
                        </div>
                        <!-- </div> -->

                        <!-- mat-select code starts here for vertical-->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20">
                            <form [formGroup]="createForm">
                                <div *ngIf="!service.MobileDevice" class="web-select-box">
                                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" for="opportunityregion" class="label-form">Opportunity region *</label>
                                    <mat-form-field class="col-12 no_pad float-left">
                                        <mat-label>Select region</mat-label>
                                        <mat-select aria-label="{{'Region' + regionName}}" id="opportunityregion" role="listbox" formControlName="opportunityregion" (ngModelChange)="onChangeHandlerCreateForm($event);voChange($event)"
                                            [disabled]="!fullAccessPermission" [ngClass]="createFormErrorCheck && form_create.opportunityregion.invalid?'orangeborder':''"
                                            required disableOptionCentering panelClass="Select-panel-class" class="select-focus matSelectErrorCss">
                                            <mat-option value="" selected hidden>Select region</mat-option>
                                            <mat-option *ngFor="let opportunityregion of regionList" [value]="opportunityregion.RegionId">{{opportunityregion.Name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <p *ngIf="createFormErrorCheck && form_create.opportunityregion.invalid" class="col-12 no_pad float-left validation-text ">Opportunity region is required.</p>
                                  <!-- for mobile native select will be shown -->
                                <div *ngIf="service.MobileDevice" class="col-12 col-sm-12 col-md-12 col-lg-12 float-left  plb-60-20 mobile-select-box">
                                    <label for="select1" class="w-100 label-form">Opportunity region *</label>
                                    <div class="customized-select">
                                        <span class="caret color-azure"></span>
                                        <select class="select-focus mat-select" role="listbox" id="opportunityregion" formControlName="opportunityregion" (ngModelChange)="onChangeHandlerCreateForm($event);voChange($event)"
                                            [disabled]="!fullAccessPermission">
                                        <option value="" selected hidden disabled>Select region</option>
                                        <option  *ngFor="let opportunityregion of regionList" [value]="opportunityregion.RegionId">{{opportunityregion.Name}}</option>
                                      </select>
                                        <p *ngIf="createFormErrorCheck && form_create.opportunityregion.invalid" class="col-12 no_pad float-left validation-text top40">Opportunity region is required.</p>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- mat-select code ends here for vertical-->

                        <!--Vertical sales autocomplete starts here-->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20 ">

                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="VerticalSales" class="label-form">Vertical sales owner
                                <span class="required"> *
                                </span>
                            </label>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">

                                    <div class="flex-grow-1">
                                        <app-auto-complete-select [requiredField]="true" [source]="verticalSalesOwnerData" [dataHeader]="dataHeaderVerticalSalesOwner" [selectedObj]="selectedVerticalSalesOwnerObj"
                                            (content)="getVerticalSalesOwnerOnUserInput($event)" (SelectedData)="selectedVerticalSalesOwner($event);onChangeHandlerCreateForm($event);AppendRedisCache()"
                                            [details]="VerticalSalesOwnerName" [detailsId]="VerticalSalesOwnerSysGuid" [labelName]="'Vertical_Owner'" [titleName]="'Vertical sales owner'"
                                            [Placeholder]="'Select'" [IsApiCall]=true [isSearchLoader]='isSearchLoader' (advanceLookUp)="advanceLookUpSearch($event)"
                                            [Isdisabled]="(!fullAccessPermission && !partialAccessPermission) || disableVSO?true:false"
                                            [MandtErrorFlag]="createFormErrorCheck && form_create.verticalSales.invalid">
                                        </app-auto-complete-select>
                                    </div>
                                </div>
                                <p *ngIf="createFormErrorCheck && form_create.verticalSales.invalid" class="col-12 no_pad float-left validation-text manditary-cls">Vertical sales owner is required.</p>
                            </form>
                        </div>
                        <!--Vertical sales autocomplete ends here-->

                        <!-- Select DROPDOWN STARTS -->

                        <!-- mat-select code starts here -->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20">
                            <form [formGroup]="qualifyForm">
                                <div *ngIf="!service.MobileDevice" [ngClass]="{ 'bg-error': validation_window && form_qualify.digitalBigBets.invalid}"
                                    class="col-12 col-sm-12 col-md-12 col-lg-12 float-left no_pad web-select-box">
                                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" for="digitalBigBets" class="label-form">Digital big bets <span class="required" *ngIf="proceedToQualify || projectState > '184450000'">*</span></label>
                                    <mat-form-field class="col-12 no_pad float-left">
                                        <mat-label>Select digital Big Bets</mat-label>
                                        <mat-select aria-label="{{'Digital big bets' + DigitalBigBetsName}}"  [attr.data-label]="'Digital big bets *'"  [attr.data-matselect]="qualifyForm.value.digitalBigBets" id="digitalBigBets" role="listbox" formControlName="digitalBigBets"
                                            (ngModelChange)="onChangeHandlerQualifyForm($event);AppendRedisCache()" [disabled]="!fullAccessPermission && !partialAccessPermission"
                                            [ngClass]="qualifyFormErrorCheck && !proceedToQualify &&form_qualify.digitalBigBets.invalid?'orangeborder':''"
                                            required disableOptionCentering panelClass="Select-panel-class" class="select-focus matSelectErrorCss">
                                            <mat-option value="" selected hidden>Select digital big bets</mat-option>
                                            <mat-option *ngFor="let digitalBigBets of DigitalList" [value]="digitalBigBets.Id">{{digitalBigBets.Name}}
                                            </mat-option>
                                        </mat-select>
                                        <p *ngIf="qualifyFormErrorCheck && form_qualify.digitalBigBets.invalid" class="col-12 no_pad float-left validation-text ">Digital big bets is required.</p>
                                    </mat-form-field>
                                </div>

                                 <!-- for mobile native select will be shown -->
                                <div *ngIf="service.MobileDevice" [ngClass]="{ 'bg-error': validation_window && form_qualify.digitalBigBets.invalid}"
                                    class="col-12 col-sm-12 col-md-12 col-lg-12 float-left  plb-60-20 mobile-select-box">
                                    <label for="digitalBigBets" class="w-100 label-form">Digital big bets <span class="required" *ngIf="proceedToQualify || projectState > '184450000'">*</span></label>
                                    <div class="customized-select">
                                        <span class="caret color-azure"></span>
                                        <select class="select-focus mat-select" [attr.data-label]="'Digital big bets *'" id="digitalBigBets" role="listbox" formControlName="digitalBigBets"
                                            (ngModelChange)="onChangeHandlerQualifyForm($event);AppendRedisCache()"
                                            [disabled]="!fullAccessPermission && !partialAccessPermission" [ngClass]="qualifyFormErrorCheck && !proceedToQualify &&form_qualify.digitalBigBets.invalid?'orangeborder':''"
                                            required>
                                        <option value="" selected hidden disabled>Select digital big bets</option>
                                        <option  *ngFor="let digitalBigBets of DigitalList"  [value]="digitalBigBets.Id">{{digitalBigBets.Name}}</option>
                                      </select>
                                        <p *ngIf="qualifyFormErrorCheck && form_qualify.digitalBigBets.invalid" class="col-12 no_pad float-left validation-text top40">Digital big bets is required.</p>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- mat-select code starts here -->



                        <!-- </div> -->

                        <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad float-left"> -->

                        <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad float-left"> -->

                        <form [formGroup]="qualifyForm">
                            <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20 ">
                                <div class="col-12 no_pad float-left" [ngClass]="{'bg-error': validation_window && form_qualify.estimatedClosureDate.invalid}">
                                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" matTooltip="Realistic date of when the Opportunity will be closed and the first Order will be booked. When estimating the date, consider that additional time may be required (for example, for contract negotiations) after the customer has announced the successful bidder." for="estDate">
                                    Estimated closure date <span class="required" *ngIf="proceedToQualify || projectState > '184450000'">*</span></label>
                                    <div class="pos-rel">
                                        <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cal_brdr">
                                            <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input">
                                                <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " [(ngModel)]="estimatedclosedate" id="estDate" formControlName="estimatedClosureDate"
                                                    (ngModelChange)="onChangeHandlerQualifyForm($event);checkEstDate($event);validateEstimatedClosureDate($event);AppendRedisCache()"
                                                    required [matDatepicker]="picker1" title="DD-MMM-YYYY" placeholder="DD-MMM-YYYY"
                                                    readonly="readonly" [min]="currentDate" [max]="maxEstDate" readonly="readonly"
                                                    [disabled]="!fullAccessPermission && !partialAccessPermission" (click)="picker1.open()"
                                                    (keypress)="picker1.open()" (blur)="AppendRedisCache()" [ngClass]="(!proceedToQualify && form_qualify.estimatedClosureDate.invalid && qualifyFormErrorCheck) || estimateDateFlagCheck?'orangeborder':''">
                                                <mat-datepicker-toggle matSuffix [for]="picker1" tabindex="0" aria-label="calender" (click)="picker1.open()" (keypress)="picker1.open()">
                                                    <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                                </mat-datepicker-toggle>
                                                <mat-datepicker #picker1></mat-datepicker>
                                            </div>
                                        </div>
                                        <p *ngIf="qualifyFormErrorCheck && !proceedToQualify &&form_qualify.estimatedClosureDate.invalid&&!estimateDateFlagCheck"
                                            class="col-12 no_pad float-left validation-text top64">Estimated closure date is required.</p>
                                        <p *ngIf="estimateDateFlagCheck" class="col-12 no_pad float-left validation-text top64">Estimated closure date cannot be past date</p>
                                    </div>
                                </div>
                            </div>
                        </form>


                        <form [formGroup]="persuitForm">
                            <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20 ">
                                <div class="col-12 no_pad float-left" [ngClass]="{'bg-error': validation_window2 && form_persuit.submissionduedate.invalid}">
                                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" for="duedate">
                                Proposal Submission Due date <span class="required" *ngIf="proceedTopursuit || projectState > '184450001'">*</span></label>


                                    <div class="pos-rel">
                                        <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cal_brdr">
                                            <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input">
                                                <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " [(ngModel)]="proposalSubmissionDate" id="duedate" formControlName="submissionduedate"
                                                    (ngModelChange)="onChangeHandlerPersuitForm($event);validateProposalSubmissionDate($event);AppendRedisCache()"
                                                    required [matDatepicker]="picker2" title="DD-MMM-YYYY" placeholder="DD-MMM-YYYY"
                                                    readonly="readonly" [min]="createdDate" [disabled]="!fullAccessPermission && !partialAccessPermission"
                                                    (click)="picker2.open()" (keypress)="picker2.open()" (blur)="AppendRedisCache()">
                                                <mat-datepicker-toggle matSuffix [for]="picker2" tabindex="0" aria-label="calender" (click)="picker2.open()" (keypress)="picker2.open()">
                                                    <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                                </mat-datepicker-toggle>
                                                <mat-datepicker #picker2></mat-datepicker>
                                            </div>
                                        </div>
                                        <p *ngIf="persuitFormErrorCheck && !proceedTopursuit &&form_persuit.submissionduedate.invalid" class="col-12 no_pad float-left validation-text top64">Proposal submission due date is required.</p>
                                    </div>
                                </div>
                            </div>
                        </form>

                        <form [formGroup]="qualifyForm">
                            <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20 ">
                                <div class="customized-input" [ngClass]="{'bg-error': validation_window && form_qualify.projectDuration.invalid}">
                                    <div>
                                        <label for="projectDuration" class="w-100 label-form">Project Duration (Months)  <span class="required" *ngIf="proceedToQualify || projectState > '184450000'">*</span></label>
                                        <input id="projectDuration" min="1" type="text" class="border-gray w-100" value="" placeholder="Enter Duration" formControlName="projectDuration"
                                            (ngModelChange)="onChangeHandlerQualifyForm($event);" maxlength="3" (keyup)="valueValidation($event);AppendRedisCache()"
                                            onkeypress="return event.charCode >= 48
           && event.charCode <= 57" [attr.disabled]="!fullAccessPermission && !partialAccessPermission?'':null" [ngClass]="!proceedToQualify && form_qualify.projectDuration.invalid && qualifyFormErrorCheck?'orangeborder':''"
                                            oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" required>
                                        <p *ngIf="!proceedToQualify && form_qualify.projectDuration.invalid && qualifyFormErrorCheck" class="col-12 no_pad float-left validation-text ">Project duration is required</p>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <!-- </div> -->
                        <!-- </div> -->

                        <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad float-left"> -->

                        <!--Contracting country autocomplete starts here-->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20 ">

                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [ngClass]="{'bg-error': validation_window && form_qualify.country.invalid}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="Contractingcountry" class="label-form">Contracting country
                                <span class="required" *ngIf="proceedToQualify || projectState > '184450000'"> *
                                </span>
                            </label>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">

                                    <div class="flex-grow-1">
                                        <app-auto-complete-select [requiredField]="true" [source]="countryList" [dataHeader]="dataHeaderCountry" (content)="CountryList($event)" [labelName]="'Contractingcountry'" [titleName]="'Contracting country'"
                                            [Placeholder]="'Select'" [IsApiCall]=true (SelectedData)="selectedCountry($event);onChangeHandlerQualifyForm($event);AppendRedisCache()"
                                            [selectedObj]="selectedCountryObj" [details]="countryName" [detailsId]="countrySysGuid"
                                            [isSearchLoader]='isSearchLoader' [Isdisabled]="!fullAccessPermission" (advanceLookUp)="advanceLookUpSearch($event)"
                                            [MandtErrorFlag]="qualifyFormErrorCheck && !proceedToQualify &&form_qualify.country.invalid">
                                        </app-auto-complete-select>
                                    </div>
                                </div>
                                <p *ngIf="qualifyFormErrorCheck && !proceedToQualify &&form_qualify.country.invalid" class="col-12 no_pad float-left validation-text manditary-cls">Country is required.</p>
                            </form>
                        </div>
                        <!--Contracting country autocomplete ends here-->

                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20 " *ngIf="countryFlag==true">

                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [ngClass]="{'bg-error': validation_window && form_qualify.state.invalid && isMandatoryFlagSC}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="state" class="label-form">State
                                <span class="required" *ngIf="(proceedToQualify || projectState > '184450000') && isMandatoryFlagSC"> *
                                </span>
                            </label>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">

                                    <div class="flex-grow-1">
                                        <app-auto-complete-select [requiredField]="true" [source]="stateList" [dataHeader]="dataHeader" (content)="getStateListOnUserInput($event)" [labelName]="'state'" [titleName]="'State'"
                                            [Placeholder]="'Select'" [IsApiCall]=true (SelectedData)="selectedStateList($event);onChangeHandlerQualifyForm($event);AppendRedisCache()"
                                            [selectedObj]="selectedStateObj" [details]="stateName" [detailsId]="stateSysGuid"
                                            [isSearchLoader]='isSearchLoader' [Isdisabled]="!fullAccessPermission && !partialAccessPermission?true:false"
                                            (advanceLookUp)="advanceLookUpSearch($event)" [MandtErrorFlag]="qualifyFormErrorCheck && !proceedToQualify && form_qualify.state.invalid && isMandatoryFlagSC">
                                        </app-auto-complete-select>
                                    </div>
                                </div>
                                <p *ngIf="qualifyFormErrorCheck && !proceedToQualify && form_qualify.state.invalid && isMandatoryFlagSC" class="col-12 no_pad float-left validation-text manditary-cls ">State is required.</p>
                            </form>
                        </div>

                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20 " *ngIf="!noCityFlag">

                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [ngClass]="{'bg-error': validation_window && form_qualify.city.invalid && isMandatoryFlagSC}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="city" class="label-form">City
                                <span class="required" *ngIf="(proceedToQualify || projectState > '184450000') && isMandatoryFlagSC"> *
                                </span>
                            </label>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">

                                    <div class="flex-grow-1">
                                        <app-auto-complete-select [requiredField]="true" [source]="cityList" [dataHeader]="dataHeader" (content)="getCityListOnUserInput($event)" [labelName]="'city'" [titleName]="'City'"
                                            [Placeholder]="'Select'" [IsApiCall]=true (SelectedData)="selectedCity($event);onChangeHandlerQualifyForm($event);AppendRedisCache()"
                                            [selectedObj]="selectedCityObj" [details]="cityName" [detailsId]="citySysGuid" [MandtErrorFlag]="qualifyFormErrorCheck && !proceedToQualify && form_qualify.city.invalid && isMandatoryFlagSC"
                                            [isSearchLoader]='isSearchLoader' [Isdisabled]="!fullAccessPermission && !partialAccessPermission?true:false"
                                            (advanceLookUp)="advanceLookUpSearch($event)">
                                        </app-auto-complete-select>
                                    </div>
                                </div>
                                <p *ngIf="qualifyFormErrorCheck && !proceedToQualify && form_qualify.city.invalid && isMandatoryFlagSC" class="col-12 no_pad float-left validation-text manditary-cls">City is required.</p>
                            </form>
                        </div>
                        <!-- </div> -->

                        <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad float-left"> -->

                        <!--Advisor name autocomplete starts here-->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20" *ngIf="IsSimpleDealFlag==false">

                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [ngClass]="{ 'bg-error': validation_window && !advisorName}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="AdvisorName" class="label-form">Advisor
                                    <span class="required" *ngIf="proceedToQualify || projectState > '184450000'"> *
                                    </span>
                                </label>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">

                                    <div class="flex-grow-1">
                                        <app-auto-complete-select [requiredField]="true" [source]="AdvisorData" [dataHeader]="dataHeader" [selectedObj]="selectedAdvisorNameObj" (content)="AdvisorList($event)"
                                            [labelName]="'AdvisorName'" [titleName]="'Advisor name'" [Placeholder]="'Select'" [IsinitialsView]=false [IsApiCall]=true
                                            (SelectedData)="selectedAdvisor($event);onChangeHandlerQualifyForm($event);AppendRedisCache()" [details]="advisorName"
                                            [Isdisabled]="!fullAccessPermission && !partialAccessPermission && !isAdvisorFunction?true:false"
                                            [detailsId]="advisorSysGuid" [isSearchLoader]='isSearchLoader' (advanceLookUp)="advanceLookUpSearch($event)"
                                            [MandtErrorFlag]="qualifyFormErrorCheck && !proceedToQualify && !advisorName">
                                        </app-auto-complete-select>
                                    </div>
                                </div>
                                <p *ngIf="qualifyFormErrorCheck && !proceedToQualify && !advisorName" class="col-12 no_pad float-left validation-text manditary-cls">Advisor is required.</p>
                            </form>
                        </div>
                        <!--Advisor name autocomplete ends here-->

                        <!--Advisor Contact autocomplete starts here-->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20" *ngIf="IsSimpleDealFlag==false && noAdvisor==false">

                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [ngClass]="{ 'bg-error': validation_window && !advisorContact}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="AdvisorContact" class="label-form">Advisor Contact
                                <span class="required" *ngIf="proceedToQualify || projectState > '184450000'"> *
                                </span>
                            </label>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">

                                    <div class="flex-grow-1">
                                        <app-auto-complete-select [requiredField]="true" [source]="advisorContactArray" [dataHeader]="dataHeader" [selectedObj]="selectedAdvisorContactObj"
                                            [details]="advisorContact" [detailsId]="advisorContactSysGuid" (content)="GetAdvisorContact($event)"
                                            [labelName]="'AdvisorContact'" [titleName]="'Advisor Contact'" [Placeholder]="'Select'" [IsinitialsView]=false [IsApiCall]=true
                                            (SelectedData)="selectedAdvisorContact($event);onChangeHandlerQualifyForm($event);AppendRedisCache()"
                                            [Isdisabled]='!advisorName || (!fullAccessPermission && !partialAccessPermission && !isAdvisorFunction)?true:false'
                                            [isSearchLoader]='isSearchLoader' (advanceLookUp)="advanceLookUpSearch($event)" [MandtErrorFlag]="qualifyFormErrorCheck && !proceedToQualify && !advisorContact">
                                        </app-auto-complete-select>
                                    </div>
                                </div>
                                <p *ngIf="qualifyFormErrorCheck && !proceedToQualify &&
                            !advisorContact" class="col-12 no_pad float-left validation-text manditary-cls">Advisor contact is required.</p>
                            </form>
                        </div>
                        <!--Advisor Contact autocomplete ends here-->

                        <!--Advisor owner autocomplete starts here-->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20" *ngIf="IsSimpleDealFlag==false && noAdvisor==false">

                            <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [ngClass]="{ 'bg-error': validation_window && !advisorOwner}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="AdvisorOwner" class="label-form">Advisor owner
                                <span class="required" *ngIf="proceedToQualify || projectState > '184450000'"> *
                                </span>
                            </label>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">

                                    <div class="flex-grow-1">
                                        <app-auto-complete-select [requiredField]="true" [source]="selectedAdvisorName" [labelName]="'AdvisorOwner'" [titleName]="'Advisor owner'" [Placeholder]="'Select'" [selectedObj]="selectedAdvisorOwnerObj"
                                            [Isdisabled]=true [IsApiCall]=false [details]="advisorOwner" [detailsId]="advisorOwnerMapGuid"
                                            [MandtErrorFlag]="qualifyFormErrorCheck && !proceedToQualify && !advisorOwner">
                                        </app-auto-complete-select>
                                    </div>
                                </div>
                            </form>
                            <p *ngIf="qualifyFormErrorCheck && !proceedToQualify && !advisorOwner" class="col-12 no_pad float-left validation-text manditary-cls">Advisor owner is required.</p>
                        </div>
                        <!--Advisor owner autocomplete ends here-->

                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20" *ngIf="showDASpocAttributes">
                            <form>
                                <div class="customized-input">
                                    <label for="field2" class="w-100 label-form">DA SPOC *</label>
                                    <input id="field2" name="da spoc name" type="text" class="border-gray w-100" value="" placeholder="Enter DA SPOC name" [(ngModel)]="DASpocName" id="DASpocName"
                                       [disabled]="true" required />
                                </div>
                            </form>
                        </div>

                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20" *ngIf="showDASpocAttributes">
                            <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form proposalReview-chkbx" for="proposal_review" id="keyconGov">Proposal review completed
                                <span class="mdi mdi-information-outline info-icon" tabindex="0" aria-labelledby="atool atoola" 
                                matTooltip = "Delivery Assurance (DA) SPOC to select this check box if proposal has been reviewed and required details in RAID log activity have been updated.">
                                </span> </label>
                            <mat-checkbox class="customized-checkbox " aria-label="select" id="proposal_review" [disabled]="!isEnableDACheckBox" [checked]="IsDaSpocApproval"  (change)="changeEvent($event);AppendRedisCache()">
                            </mat-checkbox>    
                        </div>                   
                     
                        <!-- Select radio STARTS -->
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20" *ngIf="showISBgvalue">
                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form" id="key">Is BG/ CG/ EMD applicable
                                <span class="required" *ngIf="proceedToQualify || projectState > '184450000'"> *</span>
                            </div>
                            <mat-radio-group class="float-left mt12" aria-labelledby="key" (change)="isBGradio($event);onChangeHandlerQualifyForm($event)"
                                [disabled]="!fullAccessPermission && !partialAccessPermission">
                                <mat-radio-button value="yes" class="pr30 label-form-blue" id="key" [checked]="isBgYes">Yes</mat-radio-button>
                                <mat-radio-button value="no" class="label-form-blue " id="key1" [checked]="isBgNo">No
                                </mat-radio-button>
                            </mat-radio-group>
                            <a class="float-right view-link cp" href="http://wiis-ap-cl12.wipro.com/BGCG/Default.aspx?enc_empno={{empID}}&encOP_ID={{opportunityId}}"
                                *ngIf="isBgYes" target="_blank" title="http://wiis-ap-cl12.wipro.com/BGCG/Default.aspx">View link</a>
                        </div>
                        <!-- Select radio ENDS -->

                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20 " *ngIf="proposalTypeValue==184450003">
                            <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-7 no_pad float-left">
                                <div class="customized-input" [ngClass]="{'bg-error': validation_window && form_qualify.estimatedRFI.invalid}">
                                    <form [formGroup]="qualifyForm">
                                        <div>
                                            <label for="estimatedRFI" class="w-100 label-form">Estimated RFI value <span class="required" *ngIf="proceedToQualify || projectState > '184450000'">*</span></label>
                                            <input id="estimatedRFI" maxlength="12" type="number" min="0" class="border-gray w-100" value="" placeholder="Enter RFI value"
                                                formControlName="estimatedRFI" (ngModelChange)="onChangeHandlerQualifyForm($event);AppendRedisCache()"
                                                (change)="valueValidationRFI($event)" onkeypress="return event.charCode >= 46
           && event.charCode <= 57" required [attr.disabled]="!fullAccessPermission && !partialAccessPermission?'':null"
                                                oninput="javascript: if (this.value.split('.')[0].length > this.maxLength) { this.value = this.value.slice(0, this.maxLength); } else { let values = this.value.split('.');
           if(values[1] && values[1].length > 2)  this.value = values[0] + '.' + values[1].slice(0,2)}" [ngClass]="!proceedToQualify && form_qualify.estimatedRFI.invalid && qualifyFormErrorCheck?'orangeborder':''">
                                            <p *ngIf="!proceedToQualify && form_qualify.estimatedRFI.invalid && qualifyFormErrorCheck" class="col-12 no_pad float-left validation-text ">Estimated RFI value is required</p>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20 " *ngIf="proposalTypeValue==184450001">
                            <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-7 no_pad float-left">
                                <div class="customized-input" [ngClass]="{'bg-error': validation_window && form_qualify.estimatedEmpanelment.invalid}">
                                    <form [formGroup]="qualifyForm">
                                        <div [ngClass]="">
                                            <label for="estimatedEmpanelment" class="w-100 label-form">Estimated Empanelment
                                            value <span class="required" *ngIf="proceedToQualify || projectState > '184450000'"> *</span></label>
                                            <input id="estimatedEmpanelment" maxlength="12" type="number" min="0" class="border-gray w-100" value="" placeholder="Enter empanelment value"
                                                formControlName="estimatedEmpanelment" (ngModelChange)="onChangeHandlerQualifyForm($event);AppendRedisCache()"
                                                (change)="valueValidationEmpanelment($event)" required onkeypress="return event.charCode >= 46
           && event.charCode <= 57" [attr.disabled]="!fullAccessPermission && !partialAccessPermission?'':null" oninput="javascript: if (this.value.split('.')[0].length > this.maxLength) { this.value = this.value.slice(0, this.maxLength); } else { let values = this.value.split('.');
           if(values[1] && values[1].length > 2)  this.value = values[0] + '.' + values[1].slice(0,2)}" [ngClass]="!proceedToQualify && form_qualify.estimatedEmpanelment.invalid && qualifyFormErrorCheck?'orangeborder':''">
                                            <p *ngIf="!proceedToQualify && form_qualify.estimatedEmpanelment.invalid && qualifyFormErrorCheck" class="col-12 no_pad float-left validation-text ">Estimated empanelment value is required</p>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad float-left">
                        <div class="col-12 col-sm-12 col-md-10 col-lg-10 col-xl-8 float-left plb-60-20">
                            <div class="col-7 col-sm-9 col-md-9 col-lg-9 col-xl-9 float-left no_pad mt20">
                                <h3 class="col-12 col-sm-9 col-md-9 col-lg-9 col-xl-9 float-left no_pad heading-level-three pad-top-8">
                                    Scope of work
                                    <span class="label-form" *ngIf="textValue.value?.length == 0"> (10000 characters)</span>
                                    <span class="label-form" *ngIf="textValue.value?.length > 0 && textValue.value?.length < 9999">
                                      ({{ 10000 - textValue.value?.length}} characters left)</span>
                                    <span class="label-form" *ngIf="textValue.value?.length === 9999 || textValue.value?.length === 10000">
                                      ({{ 10000 - textValue.value?.length}} character left)</span>
                                  </h3>
                                <!-- <label for="record" class="col-6 float-left no_pad label-form rel-top-18 padding_top_5">
                    Description * </label> -->
                            </div>
                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad ">
                                <form [formGroup]="createForm">
                                    <div>
                                        <label for="description" class="col-6 float-left no_pad label-form rel-top-18">Description *</label>
                                      
                                        <textarea #textValue id="description" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left rel-top-18  text-area-content"
                                            formControlName="description" (ngModelChange)="onChangeHandlerCreateForm($event);ValidateSpace($event);AppendRedisCache()"
                                            [ngClass]="createFormErrorCheck && form_create.description.invalid?'orangeborder':''"
                                            [attr.disabled]="!fullAccessPermission && !partialAccessPermission?'':null" [appAlphaNumeric] = "'alphanumeric'" required
                                            placeholder="" maxlength="10000"></textarea>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <p *ngIf="createFormErrorCheck && form_create.description.invalid" class="col-12 no_pad float-left validation-text top50">Description is required.</p>
                    </div>

                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad float-left">
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                            <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20 ">
                                <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName">
                                    <label for="InitiatedOn" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form" for="contactTag">
                                  Link account growth projects
                              <!-- <span class="float-right pos-abs font-size12 right-0">(0)</span> -->
                            </label>
                                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 label-input" id="contactTag" name="contactTag"
                                        autocomplete="off" type="text" [(ngModel)]="contactTag" placeholder="Add and link account growth projects"
                                        (clickOutside)="contactTagclose()" (click)="contactTagSwitch = true;contactTagCheck = true;AGPList($event);AppendRedisCache()" (ngModelChange)="AGPList($event);AppendRedisCache()"
                                        [attr.disabled]="!fullAccessPermission && !partialAccessPermission?'':null">
                                    <span class="float-right mdi mdi-magnify"></span>
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-right  border-btm z-ind-9999 float-left no_pad suggestion-box pos-abs border-bottom-4 top64 standard-border color-azure z-ind-9 bg-white"
                                        *ngIf="contactTagCheck && contactTagSwitch" [ngClass]="contactTagCheck && contactTagSwitch ? 'pos-sticky' : ''">
                                        <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                                            <ul class=" list-group mr2  sort-dropdown ">
                                                <li class="list-group-item h-50 p-4-10 " (click)="appendAGP(item.Name,item.Value)" *ngFor="let item of wiproLinkedAGPArray |filter:contactTag">
                                                    <!--  <div class="float-left naming-tags child-middle bg-azure">
                                      </div>-->
                                                    <label for="inti_name" class="float-left name name-pad">
                                        <span class="d-block list-name pos-rel bot-3" [title]="item.Name">{{item.Name}}</span>
                                      </label>
                                                    <!-- <span class="btn-key float-right" *ngIf="item.value"> Key </span> -->
                                                </li>
                                                <li class="d-block list-name h-40 p-10" *ngIf="(wiproLinkedAGPArray |filter:contactTag).length == 0">
                                                    No record found </li>
                                            </ul>
                                        </perfect-scrollbar>
                                    </div>
                                </form>
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad selected-contact">
                                    <perfect-scrollbar style="max-height:150px">
                                        <div class="tagged-boxAGP col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mt-10 p-4-10" *ngFor="let item of selectedAGPArray;let j = index">
                                            <!-- <div class="float-left naming-tags child-middle bg-azure">
                                     <span class="initials">{{item.initials}}</span>
                                    </div>-->
                                            <label for="inti_name" class="float-left" title={{item.Name}}>
                                      <span class="d-block color-azure mr10 float-left ellipses w-100 pos-rel bot-3" [title]="item.Name">{{item.Name}}</span>
                                     <!-- <span class="d-block sub-list">{{item.designation}}</span>-->
                                    </label>
                                            <span *ngIf="fullAccessPermission || partialAccessPermission" role="button" tabindex="0" aria-label="delete" class="mdi mdi-close float-right cp"
                                                (click)="deleteAGP(item,j)"></span>

                                        </div>
                                    </perfect-scrollbar>
                                </div>
                            </div>
                            <!--Linked AGP autocomplete ends here-->

                            <!--<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">-->
                            <!--Primary customer contact autocomplete starts here-->
                            <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left  cust_autoComplete pos-rel plb-60-20 bottom-1">

                                <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [ngClass]="{'bg-error': validation_window && !primaryContactName}">
                                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="PrimaryContact" class="label-form">Primary customer
                                <span class="required" *ngIf="proceedToQualify || projectState > '184450000'"> *
                                </span>
                            </label>
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad d-flex">
                                        <!-- <button class="col-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 float-left add-btn" *ngIf="fullAccessPermission || partialAccessPermission" (click)="OpenContactPopup()">
                                            + </button> -->
                                            <span class="col-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 float-left add-btn cp" [ngClass]="(qualifyFormErrorCheck && !proceedToQualify && !primaryContactName)? (!fullAccessPermission && !partialAccessPermission?true:false) ? 'plusErrorAndDisabled' :'plusError':(!fullAccessPermission && !partialAccessPermission?true:false) ? 'plusDisabled' : service.Summary_window ? 'padleft2' : service.chatBot?'chatPadding':''" *ngIf="fullAccessPermission || partialAccessPermission" (click)="OpenContactPopup()"  (keypress)="OpenContactPopup()" role="button" tabindex="0" aria-label="Add">
                                                + </span>
                                        <div class="col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11 float-left   no_pad mar_neg2 flex-grow-1">
                                            <app-auto-complete-select [requiredField]="true"  [source]="ContactListArray" [dataHeader]="dataHeader" (content)="GetPrimaryContact($event)" [labelName]="'PrimaryContact'" [titleName]="'Primary customer'"
                                                [selectedObj]="selectedPrimaryContactObj" (SelectedData)="selectedPrimaryContact($event);onChangeHandlerQualifyForm($event);AppendRedisCache()"
                                                [Placeholder]="'Enter primary customer contact'" [IsinitialsView]=false [IsApiCall]=true [details]="primaryContactName"
                                                [detailsId]="primaryContactSysGuid" [isSearchLoader]='isSearchLoader' [Isdisabled]="!fullAccessPermission && !partialAccessPermission?true:false"
                                                (advanceLookUp)="advanceLookUpSearch($event)" [MandtErrorFlag]="qualifyFormErrorCheck && !proceedToQualify && !primaryContactName"
                                                [isLastVar]=true>
                                            </app-auto-complete-select>
                                        </div>
                                    </div>
                                    <p *ngIf="qualifyFormErrorCheck && !proceedToQualify && !primaryContactName" class="col-12 no_pad float-left validation-text manditary-cls">Primary customer is required.</p>
                                </form>
                            </div>

                            <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4   float-left  cust_autoComplete pos-rel plb-60-20">
                                <form class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad CompanyName" [ngClass]="{'bg-error': validation_window && !selectedContact.length}">
                                    <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form" for="contactName">
                Customer decision makers
                <span class="required" *ngIf="proceedToQualify || projectState >'184450000'">*</span>
            </label>
            <span class="float-right pos-abs right-5">({{selectedContact?.length}})</span>
                                    <!-- (keyup.enter)="contactNameSwitch = true;contactName = true;GetDecisionMakerContactList($event);onChangeHandlerQualifyForm($event)"
            (keydown.Tab)="contactNameclose()" (keydown.shift.Tab)="contactNameclose()" -->
                                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="contactName" name="contactName"
                                        autocomplete="off" type="text" [(ngModel)]="contactNameModel" placeholder="Select" (clickOutside)="contactNameclose()"
                                        (click)="contactNameSwitch = true;contactName = true;GetDecisionMakerContactList($event);onChangeHandlerQualifyForm($event)"
                                        (ngModelChange)="GetDecisionMakerContactList($event);onChangeHandlerQualifyForm($event)"
                                        [attr.disabled]="!fullAccessPermission && !partialAccessPermission?'':null" [ngClass]="qualifyFormErrorCheck && !proceedToQualify && selectedContact.length==0?'orangeborder':''">
                                    <span class="mdi mdi-magnify bot18"></span>
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm  float-left no_pad suggestion-box pos-abs border-bottom-4 top64 standard-border color-azure z-ind-9 bg-white"
                                        *ngIf="contactName && contactNameSwitch" [ngClass]="contactName && contactNameSwitch ? 'pos-sticky' : ''">
                                        <perfect-scrollbar style="max-height:185px" class="z-ind-9">
                                            <ul class=" list-group mr2 sort-dropdown">
                                                <li class="list-group-item h-50 p-4-10 cp" (click)="appendcontact(item);onChangeHandlerQualifyForm($event)" *ngFor="let item of ContactListArray |filter:contactNameModel">
                                                    <div class="float-left naming-tags child-middle bg-azure cp">
                                                        <span class="initials">{{getInitials(item.Name)}}</span>
                                                    </div>
                                                    <label for="inti_name" class="float-left name name-pad">
                                <span class="d-block list-name">{{item.Name}}</span>
                                <span class="d-block sub-list mx-width">{{item.Designation}}</span>
                            </label>
                                                </li>
                                                <li class="d-block list-name h-40 p-10" *ngIf="(ContactListArray |filter:contactNameModel).length == 0">
                                                    No record found </li>
                                            </ul>
                                        </perfect-scrollbar>
                                        <span class="db-search" (click)="openadvancetabs('DecisionMakers',ContactListArray,contactNameModel)">
                        <button id="dmcSearch" role="option" tabindex="0" aria-disabled="false" aria-label="Advance look up"
                          type="button" class="button-search">
                          <span class="mdi mdi-file-outline"></span> Advance look
                                        up
                                        </button>
                                        </span>
                                    </div>
                                    <p *ngIf="qualifyFormErrorCheck && !proceedToQualify && selectedContact.length==0" class="col-12 no_pad float-left validation-text manditary-cls">Customer decision makers is required</p>
                                </form>

                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad selected-contact">
                                    <perfect-scrollbar style="max-height:300px">
                                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mt-10 p-4-10" *ngFor="let item of selectedContact;let j = index">
                                            <div class="float-left naming-tags child-middle bg-azure">
                                                <span class="initials">{{getInitials(item.Name)}}</span>
                                            </div>
                                            <span for="inti_name" class="float-left name name-width name-pad">
                        <span class="d-block list-name">{{item.Name}}</span>
                        <span class="d-block sub-list">{{item.Designation}}</span>
                                            </span>
                                            <span *ngIf="fullAccessPermission || partialAccessPermission" role="button" tabindex="0" aria-label="delete" class="mdi mdi-close close-pad close-lead float-right cp"
                                                (click)="deleteCustomerContact(item,j);onChangeHandlerQualifyForm($event)"></span>
                                        </div>
                                    </perfect-scrollbar>
                                </div>
                            </div>
                            <!--customer decision maker updated autocomplete ends here -->
                        </div>
                    </div>

                    <!-- 4/4/19 end -->
                </mat-expansion-panel>

            </div>
        </div>
    </div>

    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left pr-10 new-container businesssolution-page order-tab mt20 padd-0 no_pad" *ngIf="!readOnlyFlag">

        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mb120web">

            <mat-expansion-panel hideToggle="true" [expanded]="true" class="no_pad" (opened)="panelOpenState3 = true" (closed)="panelOpenState3 = false">
                <mat-expansion-panel-header style="min-height:60px;">
                    <mat-panel-title class="accord-heading ">
                        <span [ngClass]="panelOpenState3 ? 'mdi mdi-chevron-down chevron-right':'mdi mdi-chevron-right chevron-right'"></span>
                        <span class="accordian-title pad-top-8 cardsHead pl36 col-12 no_pad pt15 editTopHeads">Engagement
                        details
                    </span>
                    </mat-panel-title>
                </mat-expansion-panel-header>

                <div class="col-12 no_pad float-left border_top">


                    <form [formGroup]="secureForm">
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20 ">
                            <div class="col-12 no_pad float-left" [ngClass]="{'bg-error': !IsSimpleDealFlag?validation_window3 && form_secure.engagementstartdate.invalid:validation_window4 && form_secure.engagementstartdate.invalid}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" for="engStartDate">Engagement start date <span class="required" *ngIf="proceedToSecure || projectState > '184450002'">*</span></label>
                                <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input cal_brdr">
                                    <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left" [(ngModel)]="engStartDate" id="engStartDate" formControlName="engagementstartdate"
                                        [matDatepicker]="picker6" title="DD-MMM-YYYY" [min]="createdDate" placeholder="DD-MMM-YYYY" (blur)="AppendRedisCache()"
                                        (ngModelChange)="onChangeHandlerSecureForm($event);dateValidationEngStartDate($event);onChangeHandlerCloseForm($event);AppendRedisCache()"
                                        readonly="readonly" [disabled]="!fullAccessPermission && !partialAccessPermission" (click)="picker6.open()"
                                        (keypress)="picker6.open()">
                                    <mat-datepicker-toggle matSuffix [for]="picker6" tabindex="0" aria-label="calender" (click)="picker6.open()" (keypress)="picker6.open()">
                                        <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker6></mat-datepicker>
                                </div>
                                <p *ngIf="secureFormErrorCheck && !IsSimpleDealFlag && !proceedToSecure &&form_secure.engagementstartdate.invalid" class="col-12 no_pad float-left validation-text manditary-cls">Engagement start date is required.</p>
                            </div>
                        </div>
                    </form>


                    <form [formGroup]="secureForm">
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20 ">
                            <div class="col-12 no_pad float-left" [ngClass]="{'bg-error': !IsSimpleDealFlag?validation_window3 && form_secure.engagementenddate.invalid:validation_window4 && form_secure.engagementenddate.invalid}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" for="engEndDate">Engagement end date <span class="required" *ngIf="proceedToSecure || projectState > '184450002'">*</span></label>

                                <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input cal_brdr">
                                    <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left" [(ngModel)]="engEndDate" id="engEndDate" formControlName="engagementenddate"
                                        [matDatepicker]="picker7" title="DD-MMM-YYYY" [min]="createdDate" placeholder="DD-MMM-YYYY"
                                        (ngModelChange)="onChangeHandlerSecureForm($event);dateValidationEngEndDate($event);onChangeHandlerCloseForm($event);AppendRedisCache()"
                                        readonly="readonly" [disabled]="!fullAccessPermission && !partialAccessPermission" (click)="picker7.open()" (blur)="AppendRedisCache()"
                                        (keypress)="picker7.open()">
                                    <mat-datepicker-toggle matSuffix [for]="picker7" tabindex="0" aria-label="calender" (click)="picker7.open()" (keypress)="picker7.open()">
                                        <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker7></mat-datepicker>
                                </div>
                                <p *ngIf="secureFormErrorCheck && !IsSimpleDealFlag && !proceedToSecure &&form_secure.engagementenddate.invalid" class="col-12 no_pad float-left validation-text manditary-cls">Engagement end date is required.</p>
                            </div>
                        </div>
                    </form>

                    <form [formGroup]="secureForm">
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20 ">
                            <div class="col-12 no_pad float-left" [ngClass]="{'bg-error': !IsSimpleDealFlag?validation_window3 && form_secure.submitteddate.invalid:validation_window4 && form_secure.submitteddate.invalid}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" for="testid">Submitted date <span class="required" *ngIf="proceedToSecure || projectState > '184450002'">*</span></label>
                                <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input cal_brdr">
                                    <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left" [(ngModel)]="submittedDate" id="submittedDate" [matDatepicker]="picker9"
                                        formControlName="submitteddate"  (ngModelChange)="dateValidationSubDate($event);onChangeHandlerSecureForm($event);onChangeHandlerCloseForm($event);AppendRedisCache()"
                                        required title="DD-MMM-YYYY" placeholder="DD-MMM-YYYY" [disabled]="!fullAccessPermission && !partialAccessPermission" (blur)="AppendRedisCache()"
                                        readonly="readonly" [min]="createdDate" [max]="currentDate" (click)="picker9.open()"
                                        (keypress)="picker9.open()">
                                    <mat-datepicker-toggle matSuffix [for]="picker9" tabindex="0" aria-label="calender" (click)="picker9.open()" (keypress)="picker9.open()">
                                        <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker9></mat-datepicker>
                                </div>
                                <!-- </div> -->
                                <p *ngIf="secureFormErrorCheck && !IsSimpleDealFlag && !proceedToSecure &&form_secure.submitteddate.invalid" class="col-12 no_pad float-left validation-text manditary-cls">Submitted date is required.</p>
                            </div>
                        </div>
                    </form>

                    <form [formGroup]="secureForm">
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20 ">
                            <div class="col-12 no_pad float-left" [ngClass]="{'bg-error': !IsSimpleDealFlag?validation_window3 && form_secure.shortlisteddate.invalid:validation_window4 && form_secure.shortlisteddate.invalid}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" for="shortlistedDate">Shortlisted date <span class="required" *ngIf="proceedToSecure || projectState > '184450002'">*</span></label>
                                <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input cal_brdr">
                                    <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " [(ngModel)]="shortlistedDate" id="shortlistedDate" formControlName="shortlisteddate"
                                        [matDatepicker]="picker8" [max]="currentDate" [min]="createdDate" title="DD-MMM-YYYY"
                                        readonly="readonly" placeholder="DD-MMM-YYYY" [disabled]="!fullAccessPermission && !partialAccessPermission"
                                        (click)="picker8.open()" (keypress)="picker8.open()" (ngModelChange)="dateValidationShortDate($event);onChangeHandlerSecureForm($event);onChangeHandlerCloseForm($event);AppendRedisCache()">
                                    <mat-datepicker-toggle matSuffix [for]="picker8" tabindex="0" aria-label="calender" (click)="picker8.open()" (keypress)="picker8.open()" (blur)="AppendRedisCache()">
                                        <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker8></mat-datepicker>
                                </div>
                                <p *ngIf="secureFormErrorCheck && !IsSimpleDealFlag  &&  !proceedToSecure &&form_secure.shortlisteddate.invalid" class="col-12 no_pad float-left validation-text manditary-cls">Shortlisted date is required.</p>
                            </div>
                        </div>
                    </form>

                    <form [formGroup]="closeForm">
                        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left plb-60-20 ">
                            <div class="col-12 no_pad float-left" [ngClass]="{'bg-error': validation_window4 && form_close.decisiondate.invalid}">
                                <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left label-form no_pad" for="decisiondate">Customer decision date <span class="required" *ngIf="proceedToClose || projectState > '184450003'">*</span></label>
                                <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input cal_brdr">
                                    <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left" [(ngModel)]="decisionDate" id="decisiondate" [matDatepicker]="picker_1"
                                        formControlName="decisiondate" (ngModelChange)="onChangeHandlerCloseForm($event);AppendRedisCache()" required
                                        title="DD-MMM-YYYY" placeholder="DD-MMM-YYYY" [disabled]="!fullAccessPermission && !partialAccessPermission" (blur)="AppendRedisCache()"
                                        [min]="createdDate" readonly="readonly" [max]="currentDate" (click)="picker_1.open()"
                                        (keypress)="picker_1.open()">
                                    <mat-datepicker-toggle matSuffix [for]="picker_1" tabindex="0" aria-label="calender" (click)="picker_1.open()" (keypress)="picker_1.open()">
                                        <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker_1></mat-datepicker>
                                </div>
                            </div>
                        </div>
                    </form>

                </div>
            </mat-expansion-panel>
        </div>
    </div>

    <!-- readonly fields for engagement details starts here -->
    <div class="readonlyParent col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left pr-10 new-container businesssolution-page order-tab mt20 padd-0 no_pad" *ngIf="readOnlyFlag">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left margin-btm55">
            <mat-expansion-panel hideToggle="true" [expanded]="true" class="no_pad" (opened)="panelOpenState3readonly = true" (closed)="panelOpenState3readonly = false">
                <mat-expansion-panel-header style="min-height:60px;">
                    <mat-panel-title class="accord-heading ">
                        <span [ngClass]="panelOpenState3readonly ? 'mdi mdi-chevron-down chevron-right':'mdi mdi-chevron-right chevron-right'"></span>
                        <span class="accordian-title pad-top-8 cardsHead pl36 col-12 no_pad pt15 editTopHeads">Engagement
                            details
                        </span>
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad bordr-bottm border_top">
                    <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4 float-left no_pad pad-10" *ngFor="let data of engagement_table_data">
                        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-text">{{data.heading}}</label>
                        <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad text-data ellipses" title="{{data.content}}">{{data.content}}</span>
                    </div>
                </div>
            </mat-expansion-panel>
        </div>
    </div>
    <!-- readonly fields for engagement details ends here -->

    <div class="validation-window col-10 col-lg-4 col-xl-4 float-left" *ngIf="validation_window && (projectState == '184450000')"
        cdkDrag (clickOutside)="panelMandateFields = false">
        <mat-expansion-panel class="col-12" hideToggle="true" [expanded]="panelMandateFields" class="no_pad" (opened)="panelMandateFields = true"
            (closed)="panelMandateFields = false">
            <mat-expansion-panel-header class="h60">
                <mat-panel-title class="accord-heading ">
                    <span [ngClass]="panelMandateFields ? 'mdi mdi-chevron-down chevron-right':'mdi mdi-chevron-right chevron-right'"></span>
                    <span class="accordian-title cardsHead pl36 col-12 no_pad editTopHeads">Mandatory for Qualify</span>
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="col-12 no_pad float-left border_top">
                <span class="m-title">Fill the mandatory fields for Qualify stage.</span>
                <ul class="mandatory-fields">
                    <li *ngFor="let item of mandatoryFields" class="mandatory-item">
                        <span class="mdi mdi-star mandatory-icon" *ngIf="!item.status"></span>
                        <span class="mdi mdi-check mandatory-icon" *ngIf="item.status"></span> <a (click)="scroll(item)" > {{item.element}}</a></li>
                </ul>
                <div>
                    <button class="primary-button borderless btn-block button-wd100 h-40 std-qualify cp" [ngClass]="disableQualify?'disabledclass':''" [disabled]="disableQualify" (click)="saveMethodCall()"> Proceed to Qualify </button>
                </div>
            </div>
        </mat-expansion-panel>
    </div>

    <div class="validation-window col-10 col-lg-4 col-xl-4 float-left" *ngIf="validation_window2 && (projectState == '184450001')"
        (clickOutside)="panelMandateFields = false" cdkDrag>
        <mat-expansion-panel class="col-12" hideToggle="true" [expanded]="panelMandateFields" class="no_pad" (opened)="panelMandateFields = true"
            (closed)="panelMandateFields = false">
            <mat-expansion-panel-header class="h60">
                <mat-panel-title class="accord-heading ">
                    <span [ngClass]="panelMandateFields ? 'mdi mdi-chevron-down chevron-right':'mdi mdi-chevron-right chevron-right'"></span>
                    <span class="accordian-title cardsHead pl36 col-12 no_pad editTopHeads">Mandatory for Pursuit</span>
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="col-12 no_pad float-left border_top">
                <span class="m-title">Fill the mandatory fields for Pursuit stage.</span>
                <ul class="mandatory-fields">
                    <li *ngFor="let item of mandatoryFields1" class="mandatory-item">
                        <span class="mdi mdi-star mandatory-icon" *ngIf="!item.status"></span>
                        <span class="mdi mdi-check mandatory-icon" *ngIf="item.status"></span> <a (click)="scroll(item)" > {{item.element}}</a></li>
                       <li class="mandatory-item" (click)="competitorFlagChange()">
                        <!--<span class="mdi mdi-star mandatory-icon"></span>-->
                        <span *ngIf="!competitorFlag" class="mdi mdi-star mandatory-icon"></span>
                        <span *ngIf="competitorFlag" class="mdi mdi-check mandatory-icon"></span>
                        <span> Navigate to competitors to select if the
                        opportunity is sole sourced</span></li>
                        
                </ul>
                <div>
                    <button class="primary-button borderless btn-block button-wd100 h-40 std-qualify cp" [ngClass]="disablePursuit || !competitorFlag ?'disabledclass':''" [disabled]="disablePursuit || !competitorFlag" (click)="saveMethodCall()"> Proceed to Pursuit</button>
                </div>
            </div>
        </mat-expansion-panel>
    </div>

    <div class="validation-window col-10 col-lg-4 col-xl-4 float-left" *ngIf="validation_window3 && (projectState == '184450002')"
        (clickOutside)="panelMandateFields = false" cdkDrag>
        <mat-expansion-panel class="col-12" hideToggle="true" [expanded]="panelMandateFields" class="no_pad" (opened)="panelMandateFields = true"
            (closed)="panelMandateFields = false">
            <mat-expansion-panel-header class="h60">
                <mat-panel-title class="accord-heading ">
                    <span [ngClass]="panelMandateFields ? 'mdi mdi-chevron-down chevron-right':'mdi mdi-chevron-right chevron-right'"></span>
                    <span class="accordian-title cardsHead pl36 col-12 no_pad editTopHeads">Mandatory for Secure</span>
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="col-12 no_pad float-left border_top">
                <span class="m-title">Fill mandatory fields for Secure stage.</span>
                <ul class="mandatory-fields">
                    <li *ngFor="let item of mandatoryFields2" class="mandatory-item">
                        <span class="mdi mdi-star mandatory-icon" *ngIf="!item.status"></span>
                        <span class="mdi mdi-check mandatory-icon" *ngIf="item.status"></span><a (click)="scroll(item)" > {{item.element}}</a></li>
                </ul>
                <div>
                    <button class="primary-button borderless btn-block button-wd100 h-40 std-qualify cp" [ngClass]="disableSecure ?'disabledclass':''" [disabled]="disableSecure" (click)="saveMethodCall()"> Proceed to Secure</button>
                </div>
            </div>
        </mat-expansion-panel>
    </div>

    <div class="validation-window col-10 col-lg-4 col-xl-4 float-left" *ngIf="validation_window4 && (projectState == '184450003')"
        (clickOutside)="panelMandateFields = false" cdkDrag>
        <mat-expansion-panel class="col-12" hideToggle="true" [expanded]="panelMandateFields" class="no_pad" (opened)="panelMandateFields = true"
            (closed)="panelMandateFields = false">
            <mat-expansion-panel-header class="h60">
                <mat-panel-title class="accord-heading ">
                    <span [ngClass]="panelMandateFields ? 'mdi mdi-chevron-down chevron-right':'mdi mdi-chevron-right chevron-right'"></span>
                    <span class="accordian-title cardsHead pl36 col-12 no_pad editTopHeads">Mandatory for Close</span>
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="col-12 no_pad float-left border_top">
                <span class="m-title">Fill mandatory fields for close stage.</span>
                <ul class="mandatory-fields">
                    <li *ngFor="let item of mandatoryFields3" class="mandatory-item">
                        <span class="mdi mdi-star mandatory-icon" *ngIf="!item.status"></span>
                        <span class="mdi mdi-check mandatory-icon" *ngIf="item.status"></span> <a  (click)="scroll(item)" > {{item.element}}</a></li>
                    <li class="mandatory-item" routerLink="/opportunity/opportunityview/businesssolution">
                        <span *ngIf="IPFlag" class="mdi mdi-star mandatory-icon"></span>
                        <span *ngIf="!IPFlag" class="mdi mdi-check mandatory-icon"></span>
                        <span>Please navigate to business solution to accept/reject
                        IP</span>
                    </li>
                    <li class="mandatory-item" routerLink="/opportunity/opportunityview/businesssolution">
                        <span *ngIf="SLFlag" class="mdi mdi-star mandatory-icon"></span>
                        <span *ngIf="!SLFlag" class="mdi mdi-check mandatory-icon"></span>
                        <span>Please navigate to business solution to accept/reject
                        service line</span></li>
                         <li class="mandatory-item" *ngIf="IsSimpleDeal || secureStageOppCreation" (click)="competitorFlagChange()">
                        <!--<span class="mdi mdi-star mandatory-icon"></span>-->
                        <span *ngIf="!competitorFlag" class="mdi mdi-star mandatory-icon"></span>
                        <span *ngIf="competitorFlag" class="mdi mdi-check mandatory-icon"></span>
                        <span> Navigate to competitors to select if the
                        opportunity is sole sourced</span></li>
                </ul>
                <div>
                    <button class="primary-button borderless btn-block button-wd100 h-40 std-qualify cp" [ngClass]="disableClose || !competitorFlag || IPFlag || SLFlag  ?'disabledclass':''" [disabled]="disableClose ||SLFlag || IPFlag || !competitorFlag" (click)="saveMethodCall()"> Proceed to Close</button>
                </div>
            </div>
        </mat-expansion-panel>
    </div>
</form>