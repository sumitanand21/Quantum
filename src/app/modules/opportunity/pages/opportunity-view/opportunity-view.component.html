<div class="top-header top-head-index" [ngClass]="service.header?'navbar-sticky-top':'navbar-fixed-top'">
    <app-nav></app-nav>

    <div class="float-left col-12 header-action-tab" [ngClass]="((service.sideTrans) && (router.url.includes('/orderdetails'))) ? 'main-containt-250' :(router.url.includes('/orderdetails'))? 'main-containt':''">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left new-container opportunity-landing-container new-opportunity-page pad-lr-30 no_pad  opportunity-page">

            <!-- <div class="col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 float-left no_pad  width_25">
        <span (click)="goBack()" class="mdi mdi-keyboard-backspace"></span>
      </div> -->

            <div class="col-12 col-sm-12 col-md-12 col-lg-7 col-xl-7 float-left no_pad" *ngIf="(!projectService.ordercreatesuccess1)">
                <button class="mdi mdi-keyboard-backspace cp back-buttonbg float-left" (click)="backbutton2()" role="button"
                    tabindex="0" aria-label="go back" (keypress)="backbutton2()"></button>
                <h1 class="float-left heading-level-one">


                    <span class="text_capitalize" title="{{opportunityName}} ({{oppStatus}})" *ngIf="(!projectService.ordercreatesuccess1 || !projectService.ordercreatesuccess) && ((router.url.includes('/opportunity/opportunityview/order')) &&  (!projectService.ordercreatesuccess) || ((!router.url.includes('/opportunity/opportunityview/order')) && (!router.url.includes('/opportunity/opportunityview/userdeclarations')) ))">{{opportunityName}}
                        ({{oppStatus}})</span>
                    <span class="text_capitalize" title="{{OrderNumber}}" *ngIf="(projectService.ordercreatesuccess || projectService.ordercreatesuccess1 ) && (( (router.url.includes('/opportunity/opportunityview/order')) && projectService.ordercreatesuccess) || (router.url.includes('/opportunity/opportunityview/userdeclarations')) ) ">{{OrderNumber}}</span>

                </h1>
               
                <span class="convo-tag" *ngIf="(!projectService.ordercreatesuccess1 || !projectService.ordercreatesuccess) && ((router.url.includes('/opportunity/opportunityview/order')) &&  (!projectService.ordercreatesuccess) || ((!router.url.includes('/opportunity/opportunityview/order')) && (!router.url.includes('/opportunity/opportunityview/userdeclarations')) ))">Sales > Opportunity</span>
                <span class="convo-tag" *ngIf="(projectService.ordercreatesuccess || projectService.ordercreatesuccess1 ) && (( (router.url.includes('/opportunity/opportunityview/order')) && projectService.ordercreatesuccess) || (router.url.includes('/opportunity/opportunityview/userdeclarations')) ) ">Sales > Order</span>
                <span class="archive-tag-component" *ngIf="service.leadNuture">Nurtured</span>
            </div>

            <div class="col-12 col-sm-12 col-md-12 col-lg-7 col-xl-7 float-left no_pad" *ngIf="projectService.ordercreatesuccess1 ">
                <h1 class="float-left heading-level-one">
                    <span class="mdi mdi-keyboard-backspace cp mr10" (click)="backbutton2()"></span>
                    <!-- <span class="">Singtel Procurement engagement Process</span> -->
                    <span class="text_capitalize" title="{{OrderNumber}}">{{OrderNumber}}</span>
                </h1>
                <!-- <span class="convo-tag">Sales > Opportunity</span> -->
                <span class="convo-tag">Orders</span>
                <span class="archive-tag-component" *ngIf="service.leadNuture">Nurtured</span>
            </div>

            <!--loop stepper button-->
            <div class="col-12 col-sm-4 col-md-4 col-lg-5 col-xl-5 float-right pad-left-25 overview-dropdown">

                <div class="col-12 float-right disp-flex no_pad responsive-btn-div web-button opportunity-overview justify-content-end">
                    <div class="float-right disp-flex web-action-button mart-2 mr10 width33 mob-pos">
                        <div *ngIf="!OrderService.parentOrderId" class="form-group w140 float-right no_pad current_position posR  mb-0 more-option"
                            (click)="more_clicked = !more_clicked" (clickOutside)="more_clicked = false">
                            <button *ngIf = "moreactionreview" class="blue_border btn-none cp" role="listbox" aria-label="more option"
                            [ngClass]="superCentralMarketingManagerRole?'moreActionDisabled':''"
                            >
                                <!-- <span class="caret" [ngClass]="more_clicked? 'up' : ''"></span> -->

                                <span class="form-control btnSelect Empaneled_txt border_right_none color-azure mobile-save disalbedColor"
                                    id="sel1" placeholder="Empaneled vendor" role="button" tabindex="0" [ngClass]="more_clicked && !superCentralMarketingManagerRole? 'border-radius0' : ''">
                                    <span class="caret disalbedColor" [ngClass]="more_clicked && !superCentralMarketingManagerRole? 'up' : ''"></span>
                                    <!-- <span class="mdi mdi-dots-vertical buttn-vertical"></span> removed this as suggested by GSE - bugID:69397-->
                                    <span class="more-respon Actionclass pos-rel top4">
                                        <span class="sm-hide">More actions </span>
                                    </span>
                                </span>
                            </button>
                            <!--||  projectService.getSession('newOpportunity')-->
                            <ul id="menucontainer" class="no_pad mar-topmore" *ngIf="more_clicked && !superCentralMarketingManagerRole">
                                <li *ngIf="router.url=='/opportunity/opportunityview/order' && assignOrder" class="list_names border_property"
                                    (click)="openModalContent('Assign')"><span class="mdi mdi-account-convert border-botm"></span>Assign
                                </li>
                                <li *ngIf="( projectService.getSession('FullAccess')    &&
                                !projectService.getSession('IsAppirioFlag')  &&
                                 router.url!='/opportunity/opportunityview/order' &&
                                 ( (projectService.getSession('opportunityStatus')==1 || 
                                 projectService.getSession('opportunityStatus')==2 
                                 || projectService.getSession('opportunityStatus')==3 ||
                                  projectService.getSession('opportunityStatus')==4 )) ) "
                                 class="list_names border_property" (click)="openModalContent('Assign')"><span class="mdi mdi-account-convert border-botm"></span>Assign
                                </li>
                                <li class="list_names border_property" (click)="openAmendment()" *ngIf="camend">
                                    <span class="mdi mdi-note-plus-outline border-botm"></span>Create amendment</li>
                                <li *ngIf=" projectService.getSession('FullAccess')    && !projectService.getSession('IsAppirioFlag') && ((projectService.getSession('opportunityStatus')==1) && (projectService.getSession('currentState')?.toString() !='184450004' || projectService.getSession('ordercreated')==false))"
                                    class="list_names border_property" (click)="openModalContent('Suspend')"><span
                                        class="mdi mdi-square-edit-outline border-botm"></span>Suspend</li>
                                <!--<li class="list_names border_property"><span class="mdi mdi-share-variant border-botm"></span>Share</li>-->
                                <li *ngIf="(projectService.getSession('opportunityStatus')?.toString()=='1') && (projectService.getSession('currentState')?.toString() !='184450004') && projectService.getSession('FullAccess') && !IsAppirioFlag"
                                    class="list_names border_property" (click)="requestForCampaign()"><span class="mdi mdi-bullhorn border-botm"></span>Request
                                    campaign
                                </li>
                                <li class="list_names border_property " *ngIf="projectService.getSession('FullAccess')    && !projectService.getSession('IsAppirioFlag') && (( this.projectService.getSession('opportunityStatus')?.toString() == '2' || projectService.getSession('opportunityStatus')== 2))"
                                    (click)="openModalContent('Reactivate')"><span class="mdi mdi-vector-intersection border-botm"></span>Reactivate</li>

                                <li class="list_names border_property" *ngIf="projectService.getSession('FullAccess')    && !projectService.getSession('IsAppirioFlag') &&  (((projectService.getSession('opportunityStatus')==5  || (this.projectService.getSession('opportunityStatus')?.toString() == '184450000') )&&  projectService.getSession('WiproIsAutoClose')) && (projectService.getSession('currentState')?.toString() !='184450004')) "
                                    (click)="openModalContent('Reopen')"><span class="mdi mdi-vector-intersection border-botm"></span>Reopen</li>
                                <!-- [ngClass]="(projectService.getSession('currentState')==184450000) || staffingInitiated || this.projectService.getSession('opportunityStatus')!=1 || (this.projectService.getSession('opportunityStatus')==1 && projectService.ordercreatesuccess) ?'more_optionDisabled':''" -->
                                <li class="list_names border_property" (click)="initiateStaff()" *ngIf="(projectService.getSession('currentState')!=null && !IsNonWT && projectService.getSession('FullAccess') && !IsAppirioFlag && projectService.getSession('currentState')!=184450000 && !(staffingInitiated)  && oppTypeID ==2 && (this.projectService.getSession('opportunityStatus')==1 && (!projectService.ordercreatesuccess)))">
                                    <span class="mdi mdi-clipboard-account border-botm"></span>Initiate staffing</li>
                                <li class="list_names border_property" (click)="openModalContent('share')" 
                                *ngIf="( !(router.url == '/opportunity/opportunityview/order') && (projectService.getSession('FullAccess')) && !(projectService.getSession('IsAppirioFlag')) )">
                                    <span class="mdi mdi-share border-botm"></span>Share</li>
                                    <li class="list_names border_property" (click)="openModalContent('Ordershare')" 
                                    *ngIf="( (router.url == '/opportunity/opportunityview/order')  && shareOrder && !(projectService.getSession('IsAppirioFlag')) )">
                                        <span class="mdi mdi-share border-botm"></span>Share Order</li>
                                <!--<li class="list_names border_property">
                      <span class="mdi mdi-account-key border-botm"></span>Gain access</li>
                <li class="list_names border_property" routerLink="/opportunity/revokeaccess"><span
                    class="mdi mdi-account-remove border-botm"></span>Revoke access</li>-->
                                <li class="list_names border_property" *ngIf="(projectService.getSession('currentState')?.toString() !='184450000') && (projectService.getSession('currentState')?.toString() !='184450004') && !IsAppirioFlag && (projectService.getSession('IsHelpDesk')) && (projectService.getSession('opportunityStatus')==1) && !isSimpleOpportunity"
                                    (click)="openrollbackpopup()"><span class="mdi mdi-arrow-left border-botm"></span>Roll
                                    back</li>
                                <li class="list_names border_property" (click)="navigateEndSale()" *ngIf="  (endsales1 || (projectService.getSession('FullAccess') ||(projectService.getSession('opportunityStatus')==184450000)||(this.projectService.getSession('opportunityStatus')?.toString() == '184450000') || (this.projectService.getSession('opportunityStatus')?.toString() == '5')|| (projectService.getSession('opportunityStatus')==5) ) && (projectService.getSession('currentState')?.toString() !='184450004')) && !IsAppirioFlag">
                                    <span class="mdi mdi-calendar-remove border-botm"></span>End sales cycle</li>
                                <li class="list_names border_property" *ngIf="!this.OrderService.newAmendmentDetails && residualButton && !(router.url.includes('/opportunity/opportunityview/userdeclarations'))"
                                    matTooltip="Residual Opportunity can be created in case Order will be booked for a part of total scope of Opportunity and pursuit of the remaining scope still needs to be completed with customer"
                                    (click)="residualoppurtunity()"><span class="mdi mdi-vector-selection border-botm"></span>Residual
                                    opportunity</li>

                                <!-- Rajeswari SOW Popup start 07-02-2020  -->
                                <!-- <li class="list_names border_property" matTooltip
                  (click)="openSupersowmap()"><span class="mdi mdi-arrow-top-left border-botm"></span>Super SOW mapping</li> -->
                                <!-- Rajeswari SOW Popup end 07-02-2020  -->

                                <!--|| projectService.getSession('currentState')?.toString() !='184450000') || (projectService.getSession('currentState')?.toString() !='184450001'-->
                                <!--*ngIf="projectService.ordercreatesuccess && (( this.projectService.getSession('opportunityStatus')?.toString() == '3'||this.projectService.getSession('opportunityStatus') == 3))"-->
                                <!-- <li class="list_names border_property" routerLink="/opportunity/opportunityendsalescycle"><span
                  class="mdi mdi-vector-circle border-botm"></span>Track Status</li> -->

                            </ul>
                        </div>
                    </div>
                    <div class="float-right d-flex" *ngIf="!(router.url.includes('/opportunity/opportunityview/userdeclarations'))">
                        <div class="float-right disp-flex web-action-button mr10 width33" *ngIf="projectService.ProceedQualify  && (projectService.count >= 0) && (projectService.count < 5) ">

                            <button class="primary-button borderless btn-block button-wd100 h-40 std-qualify responsive-btn-div-button mt2 cp"
                                (click)="goBack()" role="button" tabindex="0" aria-label="go back" (keypress)="goBack()">
                                <span class="more-respon Actionclass">Cancel <span class="sm-hide">{{
                                        isSimpleOpportunity ? steps[projectService.count+2]?.name :
                                        steps[projectService.count+1]?.name}}</span></span></button>
                        </div>

                        <!--  && ! router.url.includes('/opportunity/opportunityview/order') sa3 -->
                        <div class="float-right disp-flex web-action-button mr10 width33" *ngIf=" (router.url.includes('/opportunity/opportunityview/order')) && (!projectService.ordercreatesuccess)">

                            <button class="primary-button borderless btn-block button-wd100 h-40 std-qualify responsive-btn-div-button mt2 cp"
                                (click)="goBack()" role="button" tabindex="0" aria-label="go back" (keypress)="goBack()">
                                <span class="more-respon Actionclass">Cancel <span class="sm-hide">{{
                                        isSimpleOpportunity ? steps[projectService.count+2]?.name :
                                        steps[projectService.count+1]?.name}}</span></span></button>
                        </div>

                        <!--  && ! router.url.includes('/opportunity/opportunityview/order') -->
                        <!--  && ! router.url.includes('/opportunity/opportunityview/order') -->
                        <div class="float-right disp-flex web-action-button mr10 width33" *ngIf="(!projectService.ProceedQualify  && (projectService.count < 4)) && (! router.url.includes('/opportunity/opportunityview/order'))">
                            <button class="primary-button borderless btn-block button-wd100 h-40 std-qualify responsive-btn-div-button mt2 cp"
                                (click)="openModal(isSimpleOpportunity ? steps[projectService.count+1]?.name : steps[projectService.count]?.name)"
                                [ngClass]="!(accessRight)|| (pcslbdm && steps[projectService.count]?.id=='184450003')?'disabledclass':''">

                                <img class="image-style" [ngClass]="!(accessRight)|| (!pcslbdm && steps[projectService.count]?.id=='184450003')?'disabledimage-style':''"
                                    src="{{ accessRight ? (isSimpleOpportunity ? steps[projectService.count+2]?.icon : steps[projectService.count+1]?.icon) : (isSimpleOpportunity ? steps[projectService.count+2]?.icondisabled : steps[projectService.count+1]?.icondisabled)  }}">
                                <span class="more-respon Actionclass">Proceed
                                    <!-- src="{{ ((!(accessRight)|| (!pcslbdm && steps[projectService.count]?.id=='184450003')) && isSimpleOpportunity) ? steps[projectService.count+2]?.icondisabled : (!(accessRight)|| (!pcslbdm && steps[projectService.count]?.id=='184450003'))? steps[projectService.count+1]?.icondisabled: isSimpleOpportunity ? steps[projectService.count+2]?.icon : steps[projectService.count+1]?.icon }}"><span -->

                                    <span class="sm-hide">to
                                        {{ isSimpleOpportunity ? steps[projectService.count+2]?.name :
                                        steps[projectService.count+1]?.name}}</span></span></button>


                        </div>

                        <div class="float-right disp-flex web-action-button  mart-2 width33 ">
                            <button aria-label="Hard close" *ngIf="hardClose1 && !(this.OrderService.newAmendmentDetails)" class="primary-button mobile-save borderless h-40 std save-responsive-btn mr10"
                                (click)="hardCloseButton()" [ngClass]="(!OpportunityServices.winReasonSave || disableHardClose ?'disabledclass':'') ">
                                <span class="more-respon Actionclass">Hard close</span>
                            </button>
                        </div>

                        <div class="float-right disp-flex web-action-button  mart-2 width33">
                            <button class="primary-button mobile-save borderless h-40 std save-responsive-btn"
                                [ngClass]="(router.url.includes('/opportunity/opportunityview/closereason')) && (disableHardClose) ||!(router.url.includes('/opportunity/opportunityview/closereason')) && !(savebuton) ?'disabledclass':''"
                                (click)="nextstepbtn()"><span *ngIf="!projectService.initiateObButton" class="mdi pr5"></span>
                                <span class="more-respon Actionclass" *ngIf="!projectService.initiateObButton || !router.url.includes('/opportunity/opportunityview/overview')">Save</span>
                                <span class="more-respon Actionclass" *ngIf="projectService.initiateObButton && router.url.includes('/opportunity/opportunityview/overview')">Initiate
                                    OB</span>
                            </button>
                        </div>


                    </div>
                    <!-- <div class="float-right disp-flex web-action-button  mart-2 ml10"  *ngIf="router.url.includes('/opportunity/opportunityview/order')">
            <button class="primary-button borderless h-40 std save-responsive-btn button-wd50"
              (click)="openSubmitOrderPopup()">Submit</button>
          </div> -->
                    <!-- Order review start -->
                    <div class="float-right disp-flex responsive-btn-div web-action-button" *ngIf="router.url.includes('/opportunity/opportunityview/userdeclarations')">
                        <button *ngIf="BFM_RejectBtn" class="primary-button borderless h-40 mr10 button-width-25 responsive-btn-div-button width100"
                            (click)="openReject()" [ngClass]="(BFM_reject_Disable) ? 'disabledclass' : ''">
                            <!-- (click)="openreject()" [ngClass]="(BFM_reject_Disable) ? 'disabledclass' : ''" -->
                            <span class="mdi mdi-close pr5 responsive-btn-div-span"></span>Reject
                        </button>
                        <button *ngIf="BFM_OnholdBtn" class="primary-button borderless h-40 mr10 button-wd50 responsive-btn-div-button width100"
                            (click)="openonhold()" [ngClass]="(BFM_Onhold_Disable) ? 'disabledclass' : ''">
                            <span class="mdi mdi-timer pr5 responsive-btn-div-span"></span>On hold
                        </button>
                        <button *ngIf="BFM_ApproveBtn" class="primary-button borderless h-40  button-wd50 responsive-btn-div-button width100"
                            (click)="approveOrder()" [ngClass]="(BFM_approve_Disable) ? 'disabledclass' : ''">
                            <!-- (click)="openapprove()" [ngClass]="(BFM_approve_Disable) ? 'disabledclass' : ''" -->
                            <span class="mdi mdi-check pr5 responsive-btn-div-span"></span>Approve
                        </button>
                    </div>
                    <!-- Order review ends -->
                </div>

                <!-- mobile buttons starts here -->
                <div class="float-left col-12 mobile-buttons mobile-buttons-opp bg-azure mobile-sticky-btns no_pad"
                    *ngIf="service.hideMobileButton">
                    <!-- opp - added buttons that were present in web view -->
                    <button *ngIf="projectService.ProceedQualify  && (projectService.count >= 0) && (projectService.count < 5) "
                        class="borderless w-150 primary-button primary-button-opp-landing h-67" type="button" (click)="goBack()"
                        role="button" tabindex="0" aria-label="go back" (keypress)="goBack()">
                        <span class="mdi mdi-close pr5 w-100 float-left"></span>Cancel <span class="">{{
                            isSimpleOpportunity ? steps[projectService.count+2]?.name :
                            steps[projectService.count+1]?.name}}</span></button>

                    <button *ngIf=" (router.url.includes('/opportunity/opportunityview/order')) && (!projectService.ordercreatesuccess)"
                        class="borderless w-150 primary-button primary-button-opp-landing h-67" type="button" (click)="goBack()"
                        role="button" tabindex="0" aria-label="go back" (keypress)="goBack()">
                        <span class="mdi mdi-close pr5 w-100 float-left"></span>Cancel <span class="">{{
                            isSimpleOpportunity ? steps[projectService.count+2]?.name :
                            steps[projectService.count+1]?.name}}</span></button>
                    <!-- opp - added buttons that were present in web view -->

                    <button *ngIf="projectService.ProceedQualify  && (projectService.count >= 0) && ( router.url.includes('/opportunity/opportunityview/order'))"
                        class=" borderless w-150 primary-button primary-button-opp-landing h-67" type="button" (click)="goBack()">
                        <span class="mdi mdi-close pr5 w-100 float-left"></span>Cancel <span class="">{{
                            isSimpleOpportunity ? steps[projectService.count+2]?.name :
                            steps[projectService.count+1]?.name}}</span>
                    </button>

                    <button *ngIf="!projectService.ProceedQualify  && (projectService.count < 4) && ! router.url.includes('/opportunity/opportunityview/order')"
                        class="borderless w-150 primary-button primary-button-opp-landing h-67" type="button" [ngClass]="!(accessRight) || (pcslbdm && steps[projectService.count]?.id=='184450003')?'disabledclass':''"
                        (click)="openModal(isSimpleOpportunity ? steps[projectService.count+1].name : steps[projectService.count].name)">
                        <img class="image-style pr5 w-100 float-left" src="{{ accessRight ? (isSimpleOpportunity ? steps[projectService.count+2]?.iconmobile : steps[projectService.count+1]?.iconmobile) : (isSimpleOpportunity ? steps[projectService.count+2]?.icondisabled : steps[projectService.count+1]?.icondisabled)  }}">Proceed
                        <span class="">to
                            {{ isSimpleOpportunity ? steps[projectService.count+2]?.name :
                            steps[projectService.count+1]?.name}}</span>
                    </button>

                    <button class=" borderless primary-button h-72" type="button" *ngIf="!BFM_RejectBtn" [ngClass]="!(savebuton) ?'disabledclass primary-button-opp-landing-50':((projectService.ProceedQualify  && (projectService.count >= 0) && (projectService.count < 5)) || (!projectService.ProceedQualify  && (projectService.count < 4) && ! router.url.includes('/opportunity/opportunityview/order')))?'primary-button primary-button-opp-landing':'primary-button-opp-landing-50'"
                        (click)="nextstepbtn()">
                        <span class="mdi mdi-content-save pr5 w-100 float-left"></span>Save
                    </button>

                    <!--bfm button-->
                    <button class=" borderless primary-button h-72" type="button" (click)="approveOrder()" *ngIf="BFM_ApproveBtn">
                        <span class="mdi mdi-check pr5 w-100 float-left"></span>Approve
                    </button>

                    <button class=" borderless primary-button h-72" type="button" *ngIf="BFM_RejectBtn" (click)="openReject()">
                        <span class="mdi mdi-close pr5 w-100 float-left"></span>Reject
                    </button>

                    <button class=" borderless primary-button h-72" type="button" (click)="openonhold()" *ngIf="BFM_OnholdBtn">
                        <span class="mdi mdi-timer pr5 w-100 float-left"></span>On hold
                    </button>
   

                    <!--bfm button-->

                    <button class=" borderless h-67" *ngIf = "moreactionreview" type="button" (click)="showmore = !showmore"
                        (clickOutside)="showmore = false" [disabled]="moreact" [ngClass]="((projectService.ProceedQualify  && (projectService.count >= 0) && (projectService.count < 5)) || (!projectService.ProceedQualify  && (projectService.count < 4) && ! router.url.includes('/opportunity/opportunityview/order')) || BFM_RejectBtn || BFM_ApproveBtn )?' primary-button primary-button-opp-landing':'primary-button primary-button-opp-landing-50'">
                        <span class="mdi mdi-dots-vertical pr5 w-100 float-left"></span>More actions
                    </button>

                    <div class="pos-abs group-content-phone float-right " *ngIf="showmore" [ngClass]="((router.url=='/opportunity/opportunityview/order' && assignOrder) 
                    || (projectService.getSession('FullAccess')    && !projectService.getSession('IsAppirioFlag') && ((router.url!='/opportunity/opportunityview/order' &&( (projectService.getSession('opportunityStatus')==1 || projectService.getSession('opportunityStatus')==2 || projectService.getSession('opportunityStatus')==3 || projectService.getSession('opportunityStatus')==4))  &&( projectService.getSession('opportunityStatus')!=184450000 && projectService.getSession('opportunityStatus')!=5)) && (projectService.getSession('currentState')?.toString() !='184450004')) ) 
                    || camend 
                    || BFM_OnholdBtn 
                    || (projectService.getSession('FullAccess')    && !projectService.getSession('IsAppirioFlag') && ((projectService.getSession('opportunityStatus')==1) && (projectService.getSession('currentState')?.toString() !='184450004' || projectService.getSession('ordercreated')==false))) 
                    || ((projectService.getSession('currentState')?.toString() !='184450004') && fullAccess && !IsAppirioFlag)
                    || ((projectService.getSession('currentState')!=null && fullAccess && !IsAppirioFlag && projectService.getSession('currentState')!=184450000 && !(staffingInitiated) && (this.projectService.getSession('opportunityStatus')==1 && (!projectService.ordercreatesuccess)))) 
                    || ((projectService.getSession('currentState')?.toString() !='184450004') && fullAccess && !IsAppirioFlag) && (projectService.getSession('FullAccess')    &&  !projectService.getSession('IsAppirioFlag') && (( this.projectService.getSession('opportunityStatus')?.toString() == '2' || projectService.getSession('opportunityStatus')== 2))) 
                    || (projectService.getSession('FullAccess')    && !projectService.getSession('IsAppirioFlag') &&  (((projectService.getSession('opportunityStatus')==5  || (this.projectService.getSession('opportunityStatus')?.toString() == '184450000') )&&  projectService.getSession('WiproIsAutoClose')) && (projectService.getSession('currentState')?.toString() !='184450004')) ) 
                    || ((projectService.getSession('currentState')?.toString() !='184450000') && (projectService.getSession('currentState')?.toString() !='184450004') && !IsAppirioFlag && fullAccess && (projectService.getSession('opportunityStatus')==1) && !isSimpleOpportunity) 
                    || ((endsales1 || (fullAccess ||(projectService.getSession('opportunityStatus')==184450000)||(this.projectService.getSession('opportunityStatus')?.toString() == '184450000') || (this.projectService.getSession('opportunityStatus')?.toString() == '5')|| (projectService.getSession('opportunityStatus')==5) ) && (projectService.getSession('currentState')?.toString() !='184450004')) && !IsAppirioFlag) 
                    || (projectService.getSession('FullAccess')    && !projectService.getSession('IsAppirioFlag') && ((projectService.getSession('currentState')?.toString() !='184450004'))) 
                    || (!this.OrderService.newAmendmentDetails && residualButton))
                    ?'':'display-none'">
                        <ul class=" dropdown-content-phone pad-0-10 z-ind-99 respon-top no_pad">
                            <li *ngIf="router.url=='/opportunity/opportunityview/order' && assignOrder" class="h-40 cp color-azure"
                                (click)="openModalContent('Assign')"><span class="mdi mdi-account-convert border-botm"></span>Assign
                            </li>
                            <li  *ngIf="( projectService.getSession('FullAccess')    &&
                             !projectService.getSession('IsAppirioFlag')  &&
                              router.url!='/opportunity/opportunityview/order' &&
                              ( (projectService.getSession('opportunityStatus')==1 || 
                              projectService.getSession('opportunityStatus')==2 
                              || projectService.getSession('opportunityStatus')==3 ||
                               projectService.getSession('opportunityStatus')==4 )) ) "
                            class="h-40 cp color-azure" (click)="openModalContent('Assign')"><span class="mdi mdi-account-convert border-botm"></span>Assign</li>



                            <li class="h-40 cp color-azure" (click)="openAmendment()" *ngIf="camend">
                                <span class="mdi mdi-note-plus-outline border-botm"></span>Create amendment</li>

                            <!--bfm button-->
                            <!-- <li class="h-40 cp color-azure" (click)="openonhold()" *ngIf="BFM_OnholdBtn">
                                <span class="mdi mdi-timer  border-botm"></span>On hold</li> -->
                            <!--bfm button-->
                            <li *ngIf="projectService.getSession('FullAccess')    && !projectService.getSession('IsAppirioFlag') && ((projectService.getSession('opportunityStatus')==1) && (projectService.getSession('currentState')?.toString() !='184450004' || projectService.getSession('ordercreated')==false))"
                                class="h-40 cp color-azure" (click)="openModalContent('Suspend')"><span class="mdi mdi-square-edit-outline border-botm"></span>Suspend</li>
                            <li *ngIf="(projectService.getSession('opportunityStatus')?.toString()=='1') && (projectService.getSession('currentState')?.toString() !='184450004') && projectService.getSession('FullAccess') && !IsAppirioFlag"
                                (click)="requestForCampaign()" class="h-40 cp color-azure"><span class="mdi mdi-bullhorn border-botm"></span>Request
                                campaign
                            </li>
                            <li class="h-40 cp color-azure" (click)="initiateStaff()" *ngIf="(projectService.getSession('currentState')!=null && !IsNonWT && projectService.getSession('FullAccess') && !IsAppirioFlag && oppTypeID ==2 && projectService.getSession('currentState')!=184450000 && !(staffingInitiated) && (this.projectService.getSession('opportunityStatus')==1 && (!projectService.ordercreatesuccess)))">
                                <span class="mdi mdi-clipboard-account border-botm"></span>Initiate staffing</li>
                            <li class="h-40 cp color-azure" *ngIf="projectService.getSession('FullAccess')    &&  !projectService.getSession('IsAppirioFlag') && (( this.projectService.getSession('opportunityStatus')?.toString() == '2' || projectService.getSession('opportunityStatus')== 2))"
                                (click)="openModalContent('Reactivate')"><span class="mdi mdi-vector-intersection border-botm"></span>Reactivate
                            </li>
                            <li class="h-40 cp color-azure" *ngIf="projectService.getSession('FullAccess')    && !projectService.getSession('IsAppirioFlag') &&  (((projectService.getSession('opportunityStatus')==5  || (this.projectService.getSession('opportunityStatus')?.toString() == '184450000') )&&  projectService.getSession('WiproIsAutoClose')) && (projectService.getSession('currentState')?.toString() !='184450004')) "
                                (click)="openModalContent('Reopen')"><span class="mdi mdi-vector-intersection border-botm"></span>Reopen
                            </li>
                            <li class="h-40 cp color-azure" *ngIf="(projectService.getSession('currentState')?.toString() !='184450000') && (projectService.getSession('currentState')?.toString() !='184450004') && !IsAppirioFlag && (projectService.getSession('IsHelpDesk')) && (projectService.getSession('opportunityStatus')==1) && !isSimpleOpportunity"
                                (click)="openrollbackpopup()"><span class="mdi mdi-arrow-left border-botm"></span>Roll
                                back</li>
                            <li class="h-40 cp color-azure" *ngIf=" (endsales1 || (projectService.getSession('FullAccess') ||(projectService.getSession('opportunityStatus')==184450000)||(this.projectService.getSession('opportunityStatus')?.toString() == '184450000') || (this.projectService.getSession('opportunityStatus')?.toString() == '5')|| (projectService.getSession('opportunityStatus')==5) ) && (projectService.getSession('currentState')?.toString() !='184450004')) && !IsAppirioFlag"
                                routerLink="/opportunity/opportunityview/opportunityendsalescycle"><span class="mdi mdi-calendar-remove border-botm"></span>End
                                sales cycle</li>

                            <li *ngIf=" ( !(router.url == '/opportunity/opportunityview/order') && (projectService.getSession('FullAccess')) && !(projectService.getSession('IsAppirioFlag')) )"
                                class="h-40 cp color-azure" (click)="openModalContent('share')">
                                <span class="mdi mdi-share border-botm"></span>Share</li>
                                <li class="list_names border_property" (click)="openModalContent('Ordershare')" 
                                *ngIf="( (router.url == '/opportunity/opportunityview/order') && shareOrder && !(projectService.getSession('IsAppirioFlag')) )">
                                    <span class="mdi mdi-share border-botm"></span>Share Order</li>
                            <li class="h-40 cp color-azure" *ngIf="!this.OrderService.newAmendmentDetails && residualButton && !(router.url.includes('/opportunity/opportunityview/userdeclarations'))"
                                (click)="residualoppurtunity()"><span class="mdi mdi-vector-selection border-botm"></span>Residual
                                opportunity
                            </li>
                            <!-- Rajeswari SOW Popup start 07-02-2020  -->
                            <!-- <li class="h-40 cp color-azure" 
                              (click)="openSupersowmap()"><span class="mdi mdi-arrow-top-left border-botm"></span>Super SOW mapping</li> -->
                            <!-- Rajeswari SOW Popup end 07-02-2020  -->
                            <!--*ngIf="projectService.ordercreatesuccess && ( this.projectService.getSession('opportunityStatus')?.toString() == '3'||this.projectService.getSession('opportunityStatus') == 3)"-->
                        </ul>
                    </div>
                </div>
                <!-- mobile buttons ends here -->
            </div>
            <!--loop stepper button-->
        </div>

    </div>
</div>
<ng-container *ngIf="isLoading ||  isLoadingProfile  || isLoadingProb">
    <div class="col-12 float-left complex_table unqualified-padding pt0 no_pad">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad leads-archived-landing">
            <div class="col-lg-12 col-sm-12 col-md-12 col-12 no_pad">
                <div class="loaderContainer">
                    <div class="loader"></div>
                </div>
            </div>
        </div>
    </div>
</ng-container>

<div class="float-left col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad scroll-middle-ios-100vh" [ngClass]="((service.sideTrans) && (router.url.includes('/orderdetails'))) ? 'main-containt-250' :(router.url.includes('/orderdetails'))? 'main-containt':''">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left pos-abs no_pad bg-mid_night h-390" [ngClass]="(projectService.ordercreatesuccess1)?'h-300':''">
    </div>
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad opportunity-landing-container opportunity-stepper mar-top-65">

        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left pad-30 top-24 without-summerydrag">

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad ">


                <!--loop stepper button-->

            </div>
        </div>
        <!--loop stepper starts-->

        <div class="col-12 no_pad float-left overflowContent mrglf10" *ngIf="(!projectService.ordercreatesuccess1)">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad disp-flex center float-left oppor-stepper-mob">
                <!-- <div class="col-2 col-sm-1 col-md-1 col-lg-1 col-xl-1 float-left no_pad loopstepper"  [ngClass]="stepperfn(stepper.id) ? 'display-none':''" *ngFor="let stepper of steps;let i=index"
      (mouseover)="emithover($event)"> -->
                <div class="col-12 no_pad displayContents" *ngIf="isSimpleOpportunity == true; else defaultStepper">
                    <div class="col-3 col-sm-1 col-md-1 col-lg-1 col-xl-1 float-left no_pad loopstepper r60 display-none"
                        [ngClass]="(stepper.id == '184450002' || stepper.id == '184450004' ) ? 'display-block' : ''"
                        *ngFor="let stepper of steps;let i=index" (mouseover)="emithover($event)">
                        <button class="round-btn float-right" tabindex="-1" [ngClass]="{'active-opp': i == projectService.count && i!=0,'active1': i<=projectService.count }">
                            <!-- <span class="float-left span-text {{stepper.iconshow}}"></span> -->
                            <!-- <img  class="img-placement" src="{{ stepper.icon }}">  -->
                            <div *ngIf="i<projectService.count; else other_content">
                                <img class="img-placement" src="{{ stepper.icon }}">
                            </div>

                            <ng-template #other_content>
                                <img class="img-placement" src="{{ stepper.icon1 }}">
                            </ng-template>

                            <span class="float-left text-step" [ngClass]="{'active-text': i == projectService.count,'active-text': i<=projectService.count }">{{stepper.name}}</span>
                        </button>
                        <span class="float-left horizontal-bar-loop" [ngClass]="(stepper.id == '184450002') ? ' display-none' : ''"
                            [ngClass]="{' active-two': i == projectService.count && i!=0 ,'active': i<=projectService.count }"></span>


                        <div class="col-2 float-left no_pad posRel" [ngClass]="i<=projectService.count?'hoverStepper':'hideContent'">
                            <div class="arrow-up" *ngIf="service.ttip"></div>
                            <div class="col-12 no_pad float-left posFix" *ngIf="service.ttip">
                                <div class="headStep col-12 float-left no_pad" *ngIf="stepper.content[0].title">
                                    {{stepper.content[0].title}}
                                </div>
                                <div class="headStep col-12 float-left no_pad" *ngIf="stepper.content[0].date">
                                    {{stepper.content[0].date}}
                                </div>
                                <div class="contentStep col-12 float-left no_pad bgwhite">
                                    <div class="float-left col-12 textStep">
                                        <span class="mdi mdi-check float-left col-1 no_pad  "> </span>
                                        <span class="col-11 float-left no_pad"> {{stepper.content[0].body}} </span>


                                    </div>
                                    <div class="col-12 float-left no_pad mb-20" *ngIf="projectService.count == 1">
                                    </div>
                                    <div class="col-12 float-left d-flex justify-content-center  " *ngIf="projectService.count < 4">
                                        <button class="col-8  no_pad primary-button btn-block h-40 mt10 margR10 std button-wd50 padding10"
                                            *ngIf="stepper.content[0].Isbtn" (click)="openModal(stepper.name)">

                                            Proceed to {{steps[i+1]?.name}}</button>

                                    </div>

                                    <div class="col-12 float-left" *ngIf="stepper.content[0]?.Validationtitle">
                                        <span class=" col-12 float-left no_pad">{{stepper.content[0]?.Validationtitle}}
                                        </span>

                                        <ul>

                                            <li *ngFor="let item of stepper.content[0]?.Fields"> {{ item }} </li>
                                        </ul>


                                    </div>
                                    <div class="col-12 float-left d-flex justify-content-center " *ngIf="stepper.content[0].IsContentbtn">
                                        <button class="col-8  no_pad primary-button btn-block h-40 mt10 margR10 std button-wd50 padding10"
                                            (click)="openModal(stepper.content[0].Contentbtn )">

                                            {{ stepper.content[0].Contentbtn }}</button>

                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <ng-template #defaultStepper>
                    <div class="col-2 col-sm-1 col-md-1 col-lg-1 col-xl-1 float-left no_pad loopstepper" *ngFor="let stepper of steps;let i=index"
                        (mouseover)="emithover($event)">
                        <button class="round-btn float-right" tabindex="-1" [ngClass]="{'active-opp': i == projectService.count && i!=0,'active1': i<=projectService.count }">
                            <!-- <span class="float-left span-text {{stepper.iconshow}}"></span> -->
                            <!-- <img  class="img-placement" src="{{ stepper.icon }}">  -->
                            <div *ngIf="i<projectService.count; else other_content">
                                <img class="img-placement" *ngIf="!stepper.stage" (click)="iconClick()" src="{{ stepper.icon }}">
                                <img class="img-placement" *ngIf="stepper.stage" src="{{ stepper.icon }}">
                            </div>

                            <ng-template #other_content>
                                <img class="img-placement" src="{{ stepper.icon1 }}">
                            </ng-template>

                            <span class="float-left text-step" [ngClass]="{'active-text': i == projectService.count,'active-text': i<=projectService.count }">{{stepper.name}}</span>
                        </button>
                        <span class="float-left horizontal-bar-loop" [ngClass]="{' active-two': i == projectService.count && i!=0 ,'active': i<=projectService.count }"></span>


                        <div class="col-2 float-left no_pad posRel " [ngClass]="i<=projectService.count && (!stepper.stage)?'hoverStepper':'hideContent'">
                            <div class="arrow-up" *ngIf="service.ttip"></div>
                            <div class="col-12 no_pad float-left posFix top240" *ngIf="service.ttip">
                                <!-- <div class="arrow-up"></div> -->
                                <div class="headStep col-12 float-left no_pad" *ngIf="stepper.content[0].title">
                                    {{stepper.content[0].title}}
                                </div>
                                <div class="headStep col-12 float-left no_pad" *ngIf="stepper.content[0].date">
                                    {{stepper.content[0].date}}
                                </div>
                                <div class="contentStep col-12 float-left no_pad bgwhite">
                                    <div class="float-left col-12 textStep">
                                        <span class="mdi mdi-check float-left col-1 no_pad  "> </span>
                                        <span class="col-11 float-left no_pad"> {{stepper.content[0].body}} </span>


                                    </div>
                                    <div class="col-12 float-left no_pad mb-20" *ngIf="projectService.count == 1">
                                    </div>
                                    <div class="col-12 float-left d-flex justify-content-center  " *ngIf="projectService.count < 4">
                                        <button class="col-8  no_pad primary-button btn-block h-40 mt10 margR10 std button-wd50 padding10"
                                            *ngIf="stepper.content[0].Isbtn" (click)="openModal(stepper.name)">

                                            Proceed to {{steps[i+1]?.name}} {{stepper.id}}</button>

                                    </div>

                                    <div class="col-12 float-left" *ngIf="stepper.content[0]?.Validationtitle">
                                        <span class=" col-12 float-left no_pad">{{stepper.content[0]?.Validationtitle}}
                                        </span>

                                        <ul>

                                            <li *ngFor="let item of stepper.content[0]?.Fields"> {{ item }} </li>
                                        </ul>


                                    </div>
                                    <div class="col-12 float-left d-flex justify-content-center " *ngIf="stepper.content[0].IsContentbtn">
                                        <button class="col-8  no_pad primary-button btn-block h-40 mt10 margR10 std button-wd50 padding10"
                                            (click)="openModal(stepper.content[0].Contentbtn )">

                                            {{ stepper.content[0].Contentbtn }}</button>

                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
                </ng-template>

            </div>
        </div>




    </div>


    <!--loop stepper ends-->


    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mt40 marmob50 text-center opportunity-stepper no_pad"
        [ngClass]="(projectService.ordercreatesuccess1)?'marmob70':''">
        <div class="col-10 no_pad float-left scroll-tabs">
            <div class="col-12 float-left overflow-div padd-left45">
                <button aria-label="Overview" role="tab" tabindex="0" [attr.aria-selected]="(router.url.includes('/opportunity/opportunityview/overview'))" [ngClass]="(router.url.includes('/opportunity/opportunityview/overview'))?'activetabs':'no_pad'"
                    [disabled]='(!projectService.ordersummarytab)|| (incren && directAmendment)' *ngIf="incren" class="btn-label btn-text width-view float-left pdf"
                    routerLinkActive="activetabs" (click)="changeTab('overview')">Overview
                    <!-- [routerLink]="['overview']" -->
                </button>
                <button aria-label="business solution" role="tab" tabindex="0" [attr.aria-selected]="(router.url.includes('/opportunity/opportunityview/businesssolution'))" [ngClass]="(router.url.includes('/opportunity/opportunityview/businesssolution'))?'activetabs':''"
                    [disabled]='(!projectService.ordersummarytab)|| (incren && directAmendment)' *ngIf="incren" class=" btn-label btn-text width-view float-left"
                    routerLinkActive="activetabs" (click)="changeTab('solution')">Business solution
                </button>
                <button aria-label="Team" role="tab" tabindex="0" [attr.aria-selected]="(router.url.includes('/opportunity/opportunityview/team'))" [ngClass]="(router.url.includes('/opportunity/opportunityview/team'))?'activetabs':''"
                    [disabled]='(!projectService.ordersummarytab)|| (incren && directAmendment) ' *ngIf="incren" class=" btn-label btn-text width-view float-left"
                    routerLinkActive="activetabs" (click)="changeTab('team')">Team
                </button>
                <button aria-label="Competitors" role="tab" tabindex="0" [attr.aria-selected]="(router.url.includes('/opportunity/opportunityview/competitor'))" [ngClass]="(router.url.includes('/opportunity/opportunityview/competitor'))?'activetabs':''"
                    [disabled]='(!projectService.ordersummarytab)|| (incren && directAmendment)' *ngIf="incren" class=" btn-label btn-text width-view float-left"
                    routerLinkActive="activetabs" (click)="changeTab('competitor')">Competitors
                </button>

                <button aria-label="contracts" role="tab" tabindex="0" [attr.aria-selected]="(router.url.includes('/opportunity/opportunityview/contracts'))" [ngClass]="(router.url.includes('/opportunity/opportunityview/contracts'))?'activetabs':''"
                [disabled]='(!projectService.ordersummarytab)' *ngIf="incr && !service.MobileDevice" class=" btn-label btn-text width-view float-left"
                    routerLinkActive="activetabs" (click)="changeTab('contracts')">Contracts
                </button>
                <button aria-label="Influencer" role="tab" tabindex="0" [attr.aria-selected]="( router.url.includes('/opportunity/opportunityview/deal'))" [ngClass]="( router.url.includes('/opportunity/opportunityview/deal')) ? 'activetabs':''"
                    [disabled]='(!projectService.ordersummarytab)|| (incren && directAmendment)' *ngIf="incren" class=" btn-label btn-text width-view float-left"
                    routerLinkActive="activetabs" (click)="changeTab('influencer')">Influencer
                </button>

                <button aria-label="order" role="tab" tabindex="0" [attr.aria-selected]="(router.url.includes('/opportunity/opportunityview/order'))" [ngClass]="(router.url.includes('/opportunity/opportunityview/order')) ? 'activetabs':''"
                    class=" btn-label btn-text width-view float-left" routerLinkActive="activetabs" (click)="changeTab('order'); projectService.editProject = otrue "
                    *ngIf="(projectService.orderpagestart || projectService.ordercreatesuccess) || (router.url.includes('/opportunity/opportunityview/order'))">Order
                </button>
                <button aria-label="order review" role="tab" tabindex="0" [attr.aria-selected]="(router.url.includes('/opportunity/opportunityview/userdeclarations'))" [ngClass]="(router.url.includes('/opportunity/opportunityview/userdeclarations')) ? 'activetabs':''"
                    class=" btn-label btn-text width-view float-left" *ngIf="projectService.getSession('BFMNavagationFlag') && !projectService.getSession('bfmRoleModifiedOrders')"
                    routerLinkActive="activetabs" (click)="changeTab('orderReview'); projectService.editProject = true "
                    routerLink="/opportunity/opportunityview/userdeclarations">Order review
                </button>
                <!-- <button class=" btn-label btn-text width-view float-left" routerLinkActive="activetabs"
        [routerLink]="['obdistribution']">OB distribution
      </button> -->

               <button aria-label="win reasons" role="tab" tabindex="0" [attr.aria-selected]="(router.url.includes('/opportunity/opportunityview/closereason'))" [ngClass]="(router.url.includes('/opportunity/opportunityview/closereason'))?'activetabs':''"
                    class=" btn-label btn-text width-view float-left" routerLinkActive="activetabs" [disabled]='(!projectService.ordersummarytab)'
                                      *ngIf="!winReasonTabFlag && winrfi && ((router.url.includes('/opportunity/opportunityview/closereason')) || (router.url.includes('/opportunity/opportunityview/overview')) || (router.url.includes('/opportunity/opportunityview/businesssolution')) || (router.url.includes('/opportunity/opportunityview/team')) || (router.url.includes('/opportunity/opportunityview/competitor')) || (router.url.includes('/opportunity/opportunityview/deal')))"
                    (click)="changeTab('reasons')">Win reasons
                </button>
                <button aria-label="win reasons" role="tab" tabindex="0" [attr.aria-selected]="(router.url.includes('/opportunity/opportunityview/closereason'))" [ngClass]="(router.url.includes('/opportunity/opportunityview/closereason'))?'activetabs':''"
                    class=" btn-label btn-text width-view float-left" routerLinkActive="activetabs" [disabled]='(!projectService.ordersummarytab)'
                    *ngIf=" (((router.url.includes('/opportunity/opportunityview/order')) || (router.url.includes('/opportunity/opportunityview/closereason'))) && projectService.ordercreatesuccess && !winReasonTabFlag && winFlag && winFlagg && foreclosureFlag)||((this.projectService.getSession('IsAmendment') == true) && foreclosureFlag && retagg && !winReasonTabFlag)" 
                    (click)="changeTab('reasons')">Win reasons
                </button>

                <!--<button [ngClass]="(router.url.includes('/opportunity/opportunityview/closereason'))?'activetabs':''" class=" btn-label btn-text width-view float-left" routerLinkActive="activetabs" [disabled]='(!projectService.ordersummarytab)' *ngIf="projectService.ordercreatesuccess && winFlag"
                    (click)="changeTab('reasons')">Win reasons
        </button>-->
                <button aria-label="Loss reasons" role="tab" tabindex="0" [attr.aria-selected]="(router.url.includes('/opportunity/opportunityview/lossreason'))" [ngClass]="(router.url.includes('/opportunity/opportunityview/lossreason'))?'activetabs':''"
                    class=" btn-label btn-text width-view float-left" routerLinkActive="activetabs" [disabled]='(!projectService.ordersummarytab)'
                    *ngIf="(projectService.getSession('opportunityStatus') == 184450000  || this.OpportunityStatus1 == 184450000 || this.projectService.getSession('opportunityStatus') == 5 )"
                    (click)="changeTab('lossreasons')">Loss reasons
                </button>
                <!-- <button class=" btn-label btn-text width-view" routerLinkActive="activetabs"
            [routerLink]="['commercials']">Commercials
          </button> -->
                <!-- <button class=" btn-label btn-text width-view" routerLinkActive="activetabs" [routerLink]="['techsolution']">Tech
            solution
          </button> -->
            </div>
        </div>
        <div class="col-2 float-right no_pad overview-dropdown" *ngIf="!OrderService.parentOrderId">

            <div class="web-drop-button float-right no_pad current_position posR cp mb-0 three-dot" >
                <button class="btn-test btn-none primary-three-dot float-right h-42 std1 save-responsive-btn button-wd50" (keyup.enter)="more_clickedthree=true"  (mouseover)="more_clickedthree=true"
                (mouseout)="more_clickedthree=false" [attr.aria-expanded]="more_clickedthree"
                    role="listbox" aria-label="more option" [ngClass]="more_clickedthree ? 'active' : ''">
                    <span class="mdi mdi-dots-vertical"></span>
                </button>

                <ul id="menucontainer" class="no_pad mar-right43 scroll-window message-textarea max-height200" [hidden]="!more_clickedthree"
                    (mouseover)="more_clickedthree=true" (click)= "isLoading = true;">
                    <!---->
                    <!-- <perfect-scrollbar class="height-300" (mouseover)="more_clickedthree=true"> -->


                    <li class="list_names border_property" role="link" tabindex="0" (click)="checkRetagFun()" *ngIf=" !(projectService.getSession('IsAppirioFlag')) && !(projectService.getSession('BFMNavagationFlag')) && ((projectService.ordercreatesuccess) && retaggg && retagg)" matTooltip="It will retag this order/Amendment under any existing approved Order">Retag order/amendments</li>
                    <li class="list_names border_property" role="link" tabindex="0" [routerLink]="['/opportunity/orderactions/orderbooking']"
                    *ngIf="projectService.ordercreatesuccess || projectService.ordercreatesuccess1" matTooltip="Provides the details of all the projects mapped to the Order in confluence">Order booking project</li>
                    <li class="list_names border_property" role="link" tabindex="0" [routerLink]="['/opportunity/orderactions/orderaudit']" *ngIf="projectService.ordercreatesuccess || projectService.ordercreatesuccess1" matTooltip="Provides the detailed activities history for an order">Order audit history</li>
                    <li class="list_names border_property" role="link" tabindex="0" [routerLink]="['/opportunity/orderactions/orderhierarchy']" *ngIf="orderhi" matTooltip="Provides the amendment details of an order/ amendment">Order hierarchy</li>

                    <!-- <li class="list_names border_property" role="link" [routerLink]="['/opportunity/ordersite']">Order site map</li> -->
                    <!--<li class="list_names border_property" role="link" tabindex="0" matTooltip="Indent details against the projects created against the order"
                        [routerLink]="['/opportunity/orderactions/viewindent']" *ngIf="projectService.ordercreatesuccess">View
                        Indent</li>-->
                    <li class="list_names border_property" role="link" tabindex="0" [routerLink]="['/opportunity/orderactions/emaillandingpage']"
                        matTooltip="Provides the email history for an order" *ngIf="projectService.ordercreatesuccess || projectService.ordercreatesuccess1">Email
                        history</li>
                    <li class="list_names border_property" role="link" tabindex="0" [routerLink]="['/opportunity/orderactions/modifyorder']"
                        matTooltip="Order details can be initiated and will be sent for BFM approval. Note:Fields like SL details,TCV, Pricing Type,Currency should be modified in Pricing post which the details will reflect in Order"
                        *ngIf="modify">Modify Order details</li>

                    <li class="list_names border_property" role="link" tabindex="0" *ngIf="!projectService.ordercreatesuccess1"
                        [routerLink]="['/opportunity/oppactions/dealdashboardreport']">
                        Opportunity dashboard report</li>
                    <li class="list_names border_property" role="link" tabindex="0" [routerLink]="['/opportunity/oppactions/dealsnapshot']"
                        *ngIf="!projectService.ordercreatesuccess1">Opportunity snapshot
                    </li>
                    <!-- <li class="list_names border_property" role="link" [routerLink]="['/opportunity/opportunityview/businesssolution']">Credit allocation</li> -->
                    <li class="list_names border_property" role="link" tabindex="0" *ngIf="!projectService.ordercreatesuccess1"
                        [routerLink]="['/opportunity/oppactions/opportunityinsight']">
                        Opportunity insights</li>
                    <li class="list_names border_property" role="link" tabindex="0" *ngIf="!projectService.ordercreatesuccess1"
                        [routerLink]="['/opportunity/oppactions/opportunityguideline']">
                        Opportunity guidelines</li>
                    <!--  -->
                    <li class="list_names border_property" role="link" *ngIf="addNewAge" tabindex="0"  [routerLink]="['/opportunity/oppactions/newagebusinesspartner']">Add
                        new age business partner</li>
                    <!-- -->
                    <li class="list_names border_property" role="link" *ngIf="addAlliance" tabindex="0"  [routerLink]="['/opportunity/oppactions/addalliance']">Add
                        alliance</li>
                    <li class="list_names border_property" role="link" *ngIf="addService" tabindex="0"  [routerLink]="['/opportunity/oppactions/addserviceline']">Add
                        service line
                    </li>
                    <li class="list_names border_property" role="link" *ngIf="addIp"  [routerLink]="['/opportunity/oppactions/addip']">Add
                        IP
                    </li>
                    <li class="list_names border_property" role="link" tabindex="0" *ngIf="(projectService.getSession('opportunityStatus')?.toString()=='1') && !IsAppirioFlag"
                        [routerLink]="['/opportunity/oppactions/commitmentregister']">Commitment register
                    </li>
                    <!-- <li class="list_names border_property" role="link" [routerLink]="['/opportunity/changeOpportunity']">Change opportunity type</li> -->
                    <!--<li class="list_names border_property" role="link" [routerLink]="['/opportunity/riskregister']">Risk register
        </li>-->
                    <li class="list_names border_property" role="link" tabindex="0" *ngIf="(projectService.getSession('opportunityStatus')==5 || projectService.getSession('opportunityStatus')?.toString()=='5'||projectService.getSession('opportunityStatus')?.toString() == '3'||this.projectService.getSession('opportunityStatus') == 3 || projectService.getSession('opportunityStatus') == 184450000 ||projectService.getSession('opportunityStatus')?.toString() == '184450000' )"
                        [routerLink]="['/opportunity/orderactions/knowledgemanagement']">Knowledge management
                    </li>

                    <!-- </perfect-scrollbar> -->
                </ul>

            </div>
            <div class="mobile-drop-button float-right no_pad current_position posR cp mb-0 three-dot" (clickOutside)="more_clickedthree = false"
                (click)="more_clickedthree = !more_clickedthree">
                <button class="btn-test btn-none primary-three-dot float-right h-42 std1 save-responsive-btn button-wd50"
                    role="listbox" aria-label="more option" [ngClass]="more_clickedthree ? 'active' : ''">
                    <span class="mdi mdi-dots-vertical"></span>
                </button>

                <ul id="menucontainer" class="no_pad mar-right43 message-textarea max-height200" (click)= "isLoading = true;">
                    <!---->
                    <!-- <perfect-scrollbar class="height-300" (mouseover)="more_clickedthree=true"> -->
                    <perfect-scrollbar style="max-height:160px" [hidden]="!more_clickedthree" (mouseover)="more_clickedthree=true">
                        <li class="list_names border_property" role="link" (click)="checkRetagFun()" *ngIf=" !(projectService.getSession('IsAppirioFlag')) && ((projectService.ordercreatesuccess) && winFlagg  && retagg && retaggg)"
                            matTooltip="It will retag this order/Amendment under any existing approved Order">Retag
                            order/amendments</li>
                        <li class="list_names border_property" role="link" [routerLink]="['/opportunity/orderactions/orderbooking']"
                            *ngIf="projectService.ordercreatesuccess || projectService.ordercreatesuccess1" matTooltip="Provides the details of all the projects mapped to the Order in confluence">Order
                            booking project</li>
                        <li class="list_names border_property" role="link" [routerLink]="['/opportunity/orderactions/orderaudit']"
                            *ngIf="projectService.ordercreatesuccess || projectService.ordercreatesuccess1" matTooltip="Provides the detailed activities history for an order">Order
                            audit history</li>
                        <li class="list_names border_property" role="link" [routerLink]="['/opportunity/orderactions/orderhierarchy']"
                            *ngIf="orderhi" matTooltip="Provides the amendment details of an order/ amendment">Order
                            hierarchy</li>
                        <!-- <li class="list_names border_property" role="link" [routerLink]="['/opportunity/ordersite']">Order site map</li> -->
                        <!--<li class="list_names border_property" role="link" matTooltip="Indent details against the projects created against the order"
                            [routerLink]="['/opportunity/orderactions/viewindent']" *ngIf="projectService.ordercreatesuccess">View
                            Indent</li>-->
                        <li class="list_names border_property" role="link" [routerLink]="['/opportunity/orderactions/emaillandingpage']"
                            matTooltip="Provides the email history for an order" *ngIf="projectService.ordercreatesuccess || projectService.ordercreatesuccess1">Email
                            History</li>
                        <li class="list_names border_property" role="link" [routerLink]="['/opportunity/orderactions/modifyorder']"
                            matTooltip="Order details can be initiated and will be sent for BFM approval. Note:Fields like SL details,TCV, Pricing Type,Currency should be modified in Pricing post which the details will reflect in Order"
                            *ngIf="modify">Modify Order details</li>

                        <li class="list_names border_property" role="link" *ngIf="!projectService.ordercreatesuccess1"
                            [routerLink]="['/opportunity/oppactions/dealdashboardreport']">
                            Opportunity dashboard report</li>
                        <li class="list_names border_property" role="link" [routerLink]="['/opportunity/oppactions/dealsnapshot']"
                            *ngIf="!projectService.ordercreatesuccess1">Opportunity snapshot
                        </li>
                        <!-- <li class="list_names border_property" role="link" [routerLink]="['/opportunity/opportunityview/businesssolution']">Credit allocation</li> -->
                        <li class="list_names border_property" role="link" *ngIf="!projectService.ordercreatesuccess1"
                            [routerLink]="['/opportunity/oppactions/opportunityinsight']">
                            Opportunity insights</li>
                        <li class="list_names border_property" role="link" *ngIf="!projectService.ordercreatesuccess1"
                            [routerLink]="['/opportunity/oppactions/opportunityguideline']">
                            Opportunity guidelines</li>
                        <!--  -->
                        <li class="list_names border_property" role="link" *ngIf="addNewAge" [routerLink]="['/opportunity/oppactions/newagebusinesspartner']">Add
                            new age business partner</li>
                        <!-- -->
                        <li class="list_names border_property" role="link" *ngIf="addAlliance" [routerLink]="['/opportunity/oppactions/addalliance']">Add
                            alliance</li>
                        <li class="list_names border_property" role="link" *ngIf="addService" [routerLink]="['/opportunity/oppactions/addserviceline']">Add
                            service line
                        </li>
                        <li class="list_names border_property" role="link" *ngIf="addIp" [routerLink]="['/opportunity/oppactions/addip']">Add
                            IP
                        </li>
                        <li class="list_names border_property" role="link" *ngIf="(projectService.getSession('opportunityStatus')?.toString()=='1') && !IsAppirioFlag"
                            [routerLink]="['/opportunity/oppactions/commitmentregister']">Commitment register
                        </li>
                        <!-- <li class="list_names border_property" role="link" [routerLink]="['/opportunity/changeOpportunity']">Change opportunity type</li> -->
                        <!--<li class="list_names border_property" role="link" [routerLink]="['/opportunity/riskregister']">Risk register
        </li>-->
                        <li class="list_names border_property" role="link" *ngIf="(projectService.getSession('opportunityStatus')==5 || projectService.getSession('opportunityStatus')?.toString()=='5'||projectService.getSession('opportunityStatus')?.toString() == '3'||this.projectService.getSession('opportunityStatus') == 3 || projectService.getSession('opportunityStatus') == 184450000 ||projectService.getSession('opportunityStatus')?.toString() == '184450000' )"
                            [routerLink]="['/opportunity/orderactions/knowledgemanagement']">Knowledge management
                        </li>

                        <!-- </perfect-scrollbar> -->
                    </perfect-scrollbar>
                </ul>

            </div>
            <!-- <button class="primary-three-dot float-right h-42 std1 save-responsive-btn button-wd50"><span class="mdi mdi-dots-vertical"></span></button> -->

        </div>

    </div>

    <!-- [ngClass]="service.chatBot?'SummaryChatBot':''"  -->
    <button aria-label="summary" [ngClass]="service.chatBot?'SummaryChatBot':''" class="summary-btn" (click)="showSummary_window()"
        [disabled]="OrderService.parentOrderId" *ngIf="!service.Summary_window"> Summary</button>

    <!-- summary draggable window starts -->
    <!-- <div class="summary-window col-4 float-left" *ngIf="Summary_window" cdkDrag>
    <div class="col-12 no_pad float-left mb10">
      <span class="col-11 no_pad float-left sumry-txt">Summary</span>
      <button class="col-1 no_pad float-left btn-none mdi mdi-close sumry-close"
        (click)="closeSummary_window()"></button>
    </div>
    <div class="col-12 float-left opp-score-main">
      <div class="col-12 no_pad float-left">
        <span class="col-4 float-left no_pad opp-score-txt">Opportunity Score</span>
        <span class="col-8 float-left no_pad text-right opp-score-num">07</span>
        <mat-progress-bar mode="determinate" value="40"></mat-progress-bar>
      </div>
      <ul class="col-12 no_pad float-left opp-score-ul">
        <li>
          <span class="col-6 float-left no_pad">TCV($)</span>
          <span class="col-6 float-left no_pad">$ 22 Mn</span>
        </li>
        <li>
          <span class="col-6 float-left no_pad">ACV($)</span>
          <span class="col-6 float-left no_pad">$ 10 Mn</span>
        </li>
        <li>
          <span class="col-6 float-left no_pad">Deal Qualifier</span>
          <span class="col-6 float-left no_pad">Qualified</span>
        </li>
      </ul>
    </div>
    <div class="col-12 no_pad float-left accordians-div">
      <mat-accordion>
        <mat-expansion-panel (click)="expand(0)" [disabled]="editable" hideToggle="true" [expanded]="false"
          class="no_pad accordians-div-panel" (opened)="acc.panelOpenStateSumry = true"
          (closed)="acc.panelOpenStateSumry = false" *ngFor="let acc of accordians;">
          <mat-expansion-panel-header style="min-height:60px;" class="acc-head">
            <mat-panel-title class="accord-heading acc-title">
              <span
                [ngClass]="acc.panelOpenStateSumry ? 'mdi mdi-chevron-up chevron-right':'mdi mdi-chevron-down chevron-right'"></span>
              <span class="accordian-sumrytitle pad-top-8">{{acc.title}}</span>
            </mat-panel-title>

          </mat-expansion-panel-header>
          <ul class="col-12 no_pad float-left sumry-acc-ul">
            <li *ngFor="let accntnt of accContents;">
              <span class="col-6 float-left no_pad">{{accntnt.label}}</span>
              <span class="col-6 float-left no_pad">{{accntnt.content}}</span>
            </li>

          </ul>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div> -->
    <!-- summary draggable window ends -->

    <div [ngClass]="service.Summary_window?'col-12 float-left pad-30-50 mobile-no_pad':'col-12 float-left pad-30 mobile-no_pad' ">

        <!-- [ngClass]="(service.Summary_window && service.chatBot)?'col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad':service.Summary_window?'col-12 col-sm-12 col-md-12 col-lg-9 col-xl-9 float-left ':'col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad'"> -->
        <div [ngClass]="(service.Summary_window && service.chatBot)?'col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad':service.Summary_window?'col-12 col-sm-12 col-md-12 col-lg-9 col-xl-9 float-left no_pad':'col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad'">
            <router-outlet></router-outlet>
        </div>
        <div class="summary-overlay float-left" *ngIf="service.Summary_window"></div>
        <!-- summary  window starts -->
        <!-- [ngClass]="(service.Summary_window && service.chatBot)?'summary-window col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 float-left pad-20-30 pos-abs left66per':''" class="summary-window col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3 float-left pad-20-30 " -->

        <div [ngClass]="(service.Summary_window && service.chatBot)?'summary-window col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 float-left pad-20-30 pos-abs left66per':''"
            class="summary-window col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3 float-right pad-20-30 " *ngIf="service.Summary_window">
            <div class="col-12 no_pad float-left mb10">
                <span class="col-11 no_pad float-left sumry-txt">Summary</span>
                <button aria-label="close" class="col-1 no_pad float-left btn-none mdi mdi-close sumry-close" (click)="closeSummary_window()"></button>
            </div>
            <div class="col-12 float-left border-bottom-grey"></div>

            <!-- Opportunity and Order Tabs -->
            <div class="col-12 ptop-20 no_pad vertical-btns-div flex-tab popup-container popup-container-opportunity">
                <div class=" no_pad btn-tabs flex-tab-width mbot-10">

                    <button aria-label="Opportunity" class="col-lg-6 col-sm-6 col-md-6 col-6 sub-vertical-but-white brd-right d-flex justify-content-center align-items-center "
                        (click)="getAccordians('opportunityTab')" [ngClass]="{'active2' : opportunityTab,'disabledclass' : (!projectService.summaryOppTab)}">
                        <span class="no_pad calin-select-all mdi mdi-vector-difference-ab"></span>
                        <span class="pleft-5">Opportunity</span>
                    </button>
                    <button aria-label="order" class=" col-lg-6 col-sm-6 col-md-6 col-6 pull-right sub-vertical-but-white brd-left0 border-0-4-4-0 d-flex justify-content-center align-items-center "
                        (click)="getAccordians('!opportunityTab')" [ngClass]="{'active2' : !opportunityTab, 'disabledclass' :(!projectService.ordercreatesuccess)}">
                        <span class="no_pad calin-select-all mdi mdi-checkbox-multiple-marked-outline"></span>
                        <span class="pleft-5">Order</span>
                    </button>

                </div>
            </div>
            <!-- Opportunity and Order Tabs ends -->

            <div *ngIf="opportunityTab ">
                <div class="col-12 float-left opp-score-main opp-radio">

                    <span class="col-12 float-left  no_pad radio-head-txt mb-10" id="radio">Forecast </span>
                    <mat-radio-group (change)='forecastApi()' [(ngModel)]="forecastValue" aria-labelledby="radio" class="col-12 float-left  no_pad">

                        <!--<mat-radio-button value="Commit" checked="true" class="radio-txt col-4 no_pad ">Commit</mat-radio-button>

        <mat-radio-button value="Upside"  [disabled]='true'  class="radio-txt col-4 no_pad ">Upside</mat-radio-button>-->

                        <mat-radio-button [disabled]='data.disableField' *ngFor="let data of forecast" [value]="data.Value"
                            class="radio-txt col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 no_pad">{{data.Label}}</mat-radio-button>

                    </mat-radio-group>
                </div>

                <div class="col-12 no_pad float-left accordians-div">
                    <mat-accordion>
                        <mat-expansion-panel hideToggle="true" [expanded]="acc.title == 'Profile'" (opened)="acc.panelOpenStateSumry = true"
                            (closed)="acc.panelOpenStateSumry = false" class="no_pad accordians-div-panel" *ngFor="let acc of accordianContent;let i = index ">
                            <mat-expansion-panel-header [collapsedHeight]="'40px'" [expandedHeight]="'40px'" class="acc-head">
                                <mat-panel-title class="accord-heading acc-title d-flex align-items-center">
                                    <span [ngClass]="acc.panelOpenStateSumry ? 'mdi mdi-chevron-down chevron-right':'mdi mdi-chevron-right chevron-right'"></span>
                                    <span class="accordian-sumrytitle pad-top-8">{{acc.title}}</span>
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <ul class="col-12 no_pad float-left sumry-acc-ul">
                                <div class="col-12 pad12 float-left" *ngIf="acc.title == 'POA Holders'">
                                    <div class="col-8 float-left no_pad">
                                        <input (keyup)='searchPoaEnter($event)' class="h-40 label-input" [(ngModel)]='searchPaoText'
                                            placeholder="Search">
                                        <span (click)="searchPaoAll()" class="mdi mdi-magnify magnifyIcon cp"></span>
                                    </div>
                                    <span (click)='viewAll()' class="col-3 float-right no_pad toolkitLink text-align-right llipses font_highlight pt5">View
                                        all</span>
                                </div>
                                <div class="col-12 pad12 float-left" *ngIf="acc.title == 'Delivery team' && deliveryteams.length != 0 ">
                                    <span class="col-6 float-left no_pad ellipses font_highlight">Delivery member</span>
                                    <span class="col-6 float-left no_pad ellipses font_highlight text-align-center">SAP Role</span>
                                </div>
                                <span class="col-12 float-left color-azure hidden-content cp pad-15-30" *ngIf="acc.hideContent"
                                    (click)="openUserTargetsPopup()">
                                    View complete list </span>
                                <div *ngIf="!acc.hideContent">
                                    <!-- <perfect-scrollbar class="height-300"> -->
                                        <li [ngClass]="acc.title == 'Linked activities & leads'?'last_li':''" *ngFor="let item of acc.content">
                                            <div *ngIf="acc.title != 'POA Holders' && acc.title != 'Delivery team'">
                                                <span class="col-6 float-left no_pad" matTooltip="{{item.tooltip}}">{{item.label}}</span>

                                                <span class="font_highlight text_capitalize" [ngClass]="acc.title == 'Toolkit' || item.label == 'Account name'|| item.label == 'Win/Loss reasons'?'toolkitLink text-align-right float-right':item.isEditable?'col-5 float-left no_pad text-align-right':'col-6 float-left no_pad text-align-right'"
                                                    title="{{item.content}}" (click)="acc.title == 'Toolkit' || item.label == 'Account name'|| item.label == 'Win/Loss reasons'? toolkitClick(item.label):''">{{item.content}}</span>
                                                <button *ngIf="item.isEditable" class="col-1 float-right no_pad btn-none cp"
                                                    aria-label="edit" matTooltip="{{item.editTool}}" (click)="summaryPopup(item.label)">
                                                    <span class="col-xs-12 nopad blue_circle_replay_img mdi mdi-pencil"></span>
                                                </button>

                                            </div>
                                            <div *ngIf="acc.title == 'POA Holders'">

                                                <span class="col-12 float-left no_pad ellipses font_highlight text_capitalize">{{item.label}}</span>
                                                <span class="col-12 float-left no_pad ellipses">{{item.content}}</span>

                                                <!-- [ngClass]="item.isEditable?'col-11 float-left no_pad':'col-12 float-left no_pad'" -->
                                            </div>

                                            <div *ngIf="acc.title == 'Delivery team'">
                                                <div class="col-12 float-left no_pad">
                                                    <div *ngFor="let deliveryteam of deliveryteams">

                                                        <span title="{{deliveryteam.deliverycontent}}" class="col-6 float-left no_pad ellipses">{{deliveryteam.deliverycontent}}</span>
                                                        <span title="{{deliveryteam.sapcontent}}" class="col-6 float-left no_pad ellipses">{{deliveryteam.sapcontent}}</span>
                                                    </div>
                                                </div>
                                                <!-- [ngClass]="item.isEditable?'col-11 float-left no_pad':'col-12 float-left no_pad'" -->
                                            </div>

                                            <!-- <button class="btn-none col-1 float-left no_pad mdi mdi-border-color color-azure" *ngIf="item.isEditable"> </button> -->
                                            <!-- <div *ngIf="content.linkContent ">

              <span class="col-12 float-left no_pad "  *ngFor=" let value of content.linkContent">{{value}}</span>
          </div> -->


                                            <div *ngIf="acc.title == 'Linked activities & leads'">
                                                <div class="col-12 float-left no_pad mt10">
                                                    <div class="col-12 float-left  no_pad">
                                                        <div class="col-6 float-left no_pad action-title color-black">
                                                            {{ item.actionTitle}} </div>
                                                            <div *ngIf= "item.actionTitle=='Activities'" class="col-6 float-left no_pad">
                                                                <button class="float-right  btn-none cp color-azure"
                                                                    aria-label="edit" matTooltip="Edit" *ngIf='disableActivity'
                                                                    (click)="summaryPopup(item.actionTitle)">
                                                                    <span class=" blue_circle_replay_img mdi mdi-pencil"></span>
                                                                </button>
                                           
                                                            </div>
                                                            <div *ngIf= "item.actionTitle=='Leads'" class="col-6 float-left no_pad">
                                                                <button class="float-right  btn-none cp color-azure"
                                                                    aria-label="edit" matTooltip="Edit" *ngIf='disableLead'
                                                                    (click)="summaryPopup(item.actionTitle)">
                                                                    <span class=" blue_circle_replay_img mdi mdi-pencil"></span>
                                                                </button>
                                           
                                                            </div>
                                                    </div>
                                                    <!-- <perfect-scrollbar class="height-160"> -->
                                                        <div *ngFor="let step of item.subContent" class="col-12 no_pad float-left back-color">
                                                            <div class="col-12 float-left link-lead lead-content" *ngIf=" item.actionTitle == 'Activities'">
                                                                <span class="col-12 float-left no_pad  color-azure ellipses action-title">{{step.Name}}</span>
                                                                <!-- <div class="col-12 float-left link-lead no_pad" *ngIf=" item.actionTitle == 'Activities'"> -->
                                                                <!--<span class="col-8 float-left no_pad sub_content_txt no_pad">{{step.account}}</span>-->
                                                                <span class="col-8 float-left no_pad sub_content_txt no_pad">{{step.ownerN}}</span>
                                                            </div>
                                                        </div>
                                                    <!-- </perfect-scrollbar> -->
                                                    <!-- <perfect-scrollbar class="height-160"> -->
                                                        <div *ngFor="let step of item.subContent" class="col-12 no_pad float-left back-color">
                                                            <div class="col-12 float-left link-lead lead-content" *ngIf="item.actionTitle == 'Leads'">
                                                                <span class="col-12 float-left no_pad  color-azure ellipses action-title">{{step.Name}}</span>

                                                                <span class="col-12 float-left no_pad sub_content_txt no_pad">{{step.ownerN}}</span>
                                                            </div>

                                                        </div>
                                                    <!-- </perfect-scrollbar> -->
                                                </div>
                                            </div>
                                        </li>
                                    <!-- </perfect-scrollbar> -->
                                    <!-- <li *ngFor="let item of acc.content" class="back-none">


              </li> -->
                                </div>

                                <li *ngIf="acc.content.length == 0"> No records found </li>
                                <li *ngIf="acc.title == 'Delivery team' && deliveryteams.length == 0 ">No records found
                                </li>

                            </ul>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
            </div>

            <div *ngIf="!opportunityTab">
                <div class="col-12 no_pad float-left accordians-div">
                    <mat-accordion>
                        <mat-expansion-panel hideToggle="true" [expanded]="acc.title == 'Order summary'" class="no_pad accordians-div-panel"
                            (opened)="acc.panelOpenStateSumry = true" (closed)="acc.panelOpenStateSumry = false" *ngFor="let acc of orderAccordianContent;let i = index ">
                            <mat-expansion-panel-header [collapsedHeight]="'40px'" [expandedHeight]="'40px'" class="acc-head">
                                <mat-panel-title class="accord-heading acc-title d-flex align-items-center">
                                    <span [ngClass]="acc.panelOpenStateSumry ? 'mdi mdi-chevron-down chevron-right':'mdi mdi-chevron-right chevron-right'"></span>
                                    <span class="accordian-sumrytitle pad-top-8">{{acc.title}}</span>
                                </mat-panel-title>

                            </mat-expansion-panel-header>
                            <ul class="col-12 no_pad float-left sumry-acc-ul">

                                <div class="col-12 pad12 float-left" *ngIf="acc.title == 'Delivery team' && deliveryTeamsorder.length != 0 ">
                                    <span class="col-6 float-left no_pad ellipses font_highlight">Delivery member</span>
                                    <span class="col-6 float-left no_pad ellipses font_highlight text-align-center">SAP Role</span>
                                </div>

                                <span class="col-12 float-left color-azure hidden-content cp pad-15-30" *ngIf="acc.hideContent"
                                    (click)="openUserTargetsPopup()">
                                    View complete list </span>
                                <div *ngIf="!acc.hideContent" class="select_content_top">
                                    <!-- <perfect-scrollbar class="height-300"> -->
                                        <li *ngFor="let item of acc.content">


                                            <span class="col-6 float-left no_pad" matTooltip="{{item.tooltipmsg}}">{{item.label}}</span>
                                            <span class="col-5 float-left no_pad font_highlight text_capitalize text-align-right select_content"
                                                title="{{item.content}}" matTooltip="{{item.subcontent}}">{{item.content}}</span>
                                            <button *ngIf="item.isEditable" class="col-1 float-right no_pad btn-none cp"
                                                aria-label="edit" matTooltip="edit" (click)="summaryPopup(item.label)">
                                                <span *ngIf="omperedit" class="col-xs-12 nopad blue_circle_replay_img mdi mdi-pencil"></span>
                                            </button>
                                            <!--<span class="float-right no_pad font_highlight text_capitalize text-align-right summary_content" [ngClass]="acc.title == ''?'toolkitLink text-align-right float-right':item.isEditable?'col-5 float-left no_pad text-align-right num_pos':'col-6 float-left no_pad text-align-right'"
                                                title="{{item.content}}">{{item.content}}</span>-->
                                        </li>
                                    <!-- </perfect-scrollbar> -->
                                </div>



                                <li *ngIf="acc.content.length == 0"> No records found </li>

                            </ul>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
            </div>
        </div>
        <!-- summary  window ends -->

    </div>

</div>