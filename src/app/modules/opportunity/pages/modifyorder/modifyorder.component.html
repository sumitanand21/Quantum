<div class="top-header top-head-index" [ngClass]="service.header?'navbar-sticky-top':'navbar-fixed-top'">
  <app-nav></app-nav>

  <div class="float-left col-12 header-action-tab opportunityPage new-container">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
      <div class="col-12 col-sm-12 col-md-6 col-lg-5 col-xl-5 float-left no_pad">

        <div class="col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 float-left width_25 no_pad">
          <button type="button" class="mdi mdi-keyboard-backspace cursor-pointer float-left back-buttonbg no_pad" (click)="goBack()" role="button" tabindex="0" aria-label="go back" (keypress)="goBack()"></button>
        </div>
        <div class="col-10 col-sm-10 col-md-10 col-lg-7 col-xl-7 float-left no_pad order-hierarchy-mob">
          <h1 class="heading-level-one mtop-5">Modify order details</h1>
          <span class="brudcrumbs">{{OrderNumber}}</span>
      </div>  
      </div>
      <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-right no_pad">
        <div class="float-right disp-flex web-button contact-details-action-btn">
          <button aria-label="save" type="button" class="primary-button borderless btn-block h-40 std mr10" title="Save" [ngClass]="(disableOnRoleOverwiew && disableOnRoleBSPanel && disableOnRoleBSSL && disableOnRoleBSIp && disableOnRoleBSSolution && disableOnRoleBSCA) ? 'disabledtext' : 'enabledtext'" (click)="saveBusinessSolution()" [disabled]="disableOnRoleOverwiew && disableOnRoleBSPanel && disableOnRoleBSSL && disableOnRoleBSIp && disableOnRoleBSSolution && disableOnRoleBSCA">Save</button>
          <button aria-label="submit" type="button" class="primary-button borderless btn-block h-40 std" (click)="onsubmit()" title="Submit" [ngClass]="((disableOnRoleOverwiew && disableOnRoleBSPanel && disableOnRoleBSSL && disableOnRoleBSIp && disableOnRoleBSSolution && disableOnRoleBSCA) || (!ModificationId) || (!ModificationOBAllocation && !ModificationOverwiew) ) ? 'disabledtext' : 'enabledtext'" [disabled]="(disableOnRoleOverwiew && disableOnRoleBSPanel && disableOnRoleBSSL && disableOnRoleBSIp && disableOnRoleBSSolution && disableOnRoleBSCA) || (!ModificationId) || (!ModificationOBAllocation && !ModificationOverwiew)">Submit</button>

          
        </div>
      </div>
      <div class="float-left col-12 mobile-buttons bg-azure mobile-sticky-btns">
        <div class="float-right disp-flex save-cancel-responsive">
          <button type="button" aria-label="save" class="primary-button secondary-btn btn-block h-40 mr10 std cancel-responsived-btn button-wd50"  [ngClass]="(disableOnRoleOverwiew && disableOnRoleBSPanel && disableOnRoleBSSL && disableOnRoleBSIp && disableOnRoleBSSolution && disableOnRoleBSCA) ? 'disabledtext' : 'enabledtext'" (click)="saveBusinessSolution()" [disabled]="disableOnRoleOverwiew && disableOnRoleBSPanel && disableOnRoleBSSL && disableOnRoleBSIp && disableOnRoleBSSolution && disableOnRoleBSCA">Save</button>
          <button type="button" aria-label="submit" class="primary-button borderless h-40 std save-responsive-btn button-wd50" (click)="onsubmit()" [ngClass]="((disableOnRoleOverwiew && disableOnRoleBSPanel && disableOnRoleBSSL && disableOnRoleBSIp && disableOnRoleBSSolution && disableOnRoleBSCA) || (!ModificationId) || (!ModificationOBAllocation && !ModificationOverwiew) ) ? 'disabledtext' : 'enabledtext'" [disabled]="(disableOnRoleOverwiew && disableOnRoleBSPanel && disableOnRoleBSSL && disableOnRoleBSIp && disableOnRoleBSSolution && disableOnRoleBSCA) || (!ModificationId) || (!ModificationOBAllocation && !ModificationOverwiew)">Submit</button>
        </div>
      </div>
    </div>
  </div> 
</div>
 
<div clas="col-12 float-left modify-order">
  <div
    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left pos-abs no_pad bg-mid_night h-285 new-container">
  </div>

  <!-- code goes here -->

  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  pad-30 new-container orderpage-scroll">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad float-left mt110">

      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left card pad-20-30 ipmoreoption mb10">
        <!-- alliance_projection Accordian Starts-->
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pad_t0 card-heading ">
          <div class="col-12 no_pad float-left margintop-15 mb15">
          <span class="card-title pad-top-8">Modify order details</span>
          </div>

          <div class="col-12 float-left border-bottom-grey mb10"></div>
          <form #myModifyOverviewForm="ngForm">
          <table class="no_pad">
            <thead>
              <tr>
                <th class="br-tl">Order details</th>
                <th *ngIf="!disableAll">Current order details</th>
                <th>Change order details</th>
                <th>Reason</th>
              </tr>
            </thead>
            <tbody class="no_pad">
              <tr>

                <td [attr.data-label]="'Order details'" class="">
                  <div class="customized-input">
                    <label for="license" class=""> </label>
                    <input id="license" type="text" class="border-gray w-100"  placeholder="SAP customer code"
                      disabled>
                  </div>
                </td>

                <td [attr.data-label]="'Current order details'" class="" *ngIf="!disableAll">
                      <div class="customized-input">
                        <label for="license" class=""> </label>
                        <input id="license" type="text" class="border-gray w-100" name="SAPCodeCurr" [(ngModel)]="modifyOrderDetailsObj.currentOrderSAPCCName" disabled>
                      </div>
                    </td>

                    <td [attr.data-label]="'Change order details'" class="no_pad">                     
                        
                         <!-- change details autocomplete starts here-->
                         <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
    


                              <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input f-12" id="contactName4"
                              name="SAPCodeChange" autocomplete="off" type="text" 
                               [(ngModel)]="modifyOrderDetailsObj.changeOrderSAPCCName" (ngModelChange)="getSapValue(modifyOrderDetailsObj.changeOrderSAPCCName)"
                              placeholder="Search and link" (click)="contactNameSwitch4 = true;getSapValue(modifyOrderDetailsObj.changeOrderSAPCCName)" [title]="modifyOrderDetailsObj.changeOrderSAPCCName"
                              (blur)="sapClickOutside($event)" [disabled]="disableOnRoleOverwiew || IsAmendment">
                            <span class="new-change mdi mdi-magnify"></span>
                            <div
                            class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border-rightaz float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                            *ngIf="contactNameSwitch4">
                              <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                                <ul tabindex="0" class=" list-group mr2 sort-dropdown">
                                  <li class="list-group-item no_pad h-50 p-4-10 " (click)="selectedSapCode(item)"
                                  *ngFor="let item of sapCustomerCodeArr">
                                  <label for="inti_name" class="float-left name mb-0">
                                      <span class="d-block list-name">{{item.Name}}</span>
                                      <!-- <span class="d-block sub-list">{{item.subtitle}}</span> -->
                                    </label>
                                  </li>
                                  <li class="d-block list-name h-40 p-10" *ngIf="sapCustomerCodeArr.length == 0">
                                    No record found </li>
                                    <span class="db-search" (click)="openadvanceOverViewSearch(modifyOrderDetailsObj,'SAPCode',sapCustomerCodeArr,modifyOrderDetailsObj.selectedSAPCode,modifyOrderDetailsObj.changeOrderSAPCCName)">
                                        <button id="advanceSAPCodeSearch" role="option" tabindex="0"
                                        aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                                          <span class="mdi mdi-file-outline"></span> Advance look up
                                        </button>
                                      </span>
                                </ul>
                              </perfect-scrollbar>
                            </div>
                        </div>                        
                        <!--change details autocomplete ends here-->  
  
                      </td>
                      <td [attr.data-label]="'Reason'">
                          <div class="customized-select mt-20-mob web-select-box h100">
                          <mat-form-field class="col-12 no_pad float-left">
                            <mat-select  panelClass="Select-panel-class" [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderSAPCCName && modifyOrderDetailsObj.changeOrderSAPCCId && !modifyOrderDetailsObj.reasonSAPCCId) }" [(ngModel)]="modifyOrderDetailsObj.reasonSAPCCId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="SAPCodeReason"  role="listbox"
                             [disabled]="disableOnRoleOverwiew || IsAmendment">
                                        <mat-option   value = "" >Select reason</mat-option>
                                        <mat-option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</mat-option>
                                    </mat-select>
                                   </mat-form-field>
                          </div>

                            <div class="col-12 mobile-select-box no_pad">
                         <div class="customized-select">
                            <span class="caret color-azure"></span>
                            <select [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderSAPCCName && modifyOrderDetailsObj.changeOrderSAPCCId && !modifyOrderDetailsObj.reasonSAPCCId) }" [(ngModel)]="modifyOrderDetailsObj.reasonSAPCCId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="SAPCodeReasonMobile"  role="listbox"
                            [disabled]="disableOnRoleOverwiew || IsAmendment">
                                <option value = "" >Select reason</option>
                                <option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</option>
                            </select>
                            </div>
                          </div>
                          <!-- Select DROPDOWN STARTS -->
                      
                          <!-- Select DROPDOWN STARTS -->
                        </td>
              </tr>

              <tr>

                <td [attr.data-label]="'Order details'" class="">
                  <div class="customized-input">
                    <label for="license" class=""> </label>
                    <input id="license" type="text" class="border-gray w-100"  placeholder="Project start date"
                      disabled>
                  </div>
                </td>

                <td  [attr.data-label]="'Current order details'" class="" *ngIf="!disableAll">

                         <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pb21 mrnbot-10" >
                              <div class="pos-rel">
                                <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cal_brdr">
                                  <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input">
                                    <input disabled class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " name="PSDCurr"      
                              [(ngModel)]="modifyOrderDetailsObj.currentOrderPSD"  id="CurrStartdate" [matDatepicker]="picker21"
                                      title="DD-MMM-YYYY" placeholder="Select date">
                                    <mat-datepicker-toggle matSuffix [for]="picker21" tabindex="0" aria-label="calender" (click)="picker21.open()" (keypress)="picker21.open()" >
                                      <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker21></mat-datepicker>
                                  </div>
                                </div>
                              </div>
                        </div>   
                    </td>

                    <td [attr.data-label]="'Change order details'" class="no_pad">
                       <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pb21 mrnbot-10" >
                              <div class="pos-rel">
                                <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cal_brdr">
                                  <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input" (click)="messageAlert()">
                                    <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " id="Startdate" name="PSDChange" [(ngModel)]="modifyOrderDetailsObj.changeOrderPSD" 
                                      required [matDatepicker]="picker2"
                                      title="DD-MMM-YYYY" placeholder="Select date" disabled>
                                    <mat-datepicker-toggle matSuffix [for]="picker2" tabindex="0" aria-label="calender" (click)="picker2.open()" (keypress)="picker2.open()" >
                                      <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker2></mat-datepicker>
                                  </div>
                                </div>
                              </div>
                        </div>             
  
                      </td>
                <td [attr.data-label]="'Reason'">
                     <div class="customized-select mt-20-mob web-select-box h100">
                          <mat-form-field class="col-12 no_pad float-left">
                            <mat-select  panelClass="Select-panel-class" name="PSDReason" [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderPSD && !modifyOrderDetailsObj.reasonPSDId)}" [(ngModel)]="modifyOrderDetailsObj.reasonPSDId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}"  role="listbox"
                            disabled>
                                        <mat-option   value = "">Select reason</mat-option>
                                        <mat-option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</mat-option>
                                    </mat-select>
                                   </mat-form-field>
                          </div>

                          <div class="col-12 mobile-select-box no_pad">
                            <div class="customized-select">
                               <span class="caret color-azure"></span>
                               <select name="PSDReasonMobile" [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderPSD && !modifyOrderDetailsObj.reasonPSDId)}" [(ngModel)]="modifyOrderDetailsObj.reasonPSDId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}"  role="listbox"
                               disabled>
                                   <option value = "" >Select reason</option>
                                   <option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</option>
                               </select>
                               </div>
                             </div>
 

                    </td>
              </tr>

              <tr>

                <td [attr.data-label]="'Order details'" class="">
                  <div class="customized-input">
                    <label for="license" class=""> </label>
                    <input id="license" type="text" class="border-gray w-100" placeholder="Project end date"
                      disabled>
                  </div>
                </td>

                <td  [attr.data-label]="'Current order details'" class="" *ngIf="!disableAll">

                       <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pb21 mrnbot-10" >
                              <div class="pos-rel">
                                <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cal_brdr">
                                  <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input">
                                    <input disabled class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " name="PEDCurr" id="CurrInStartdate"  [(ngModel)]="modifyOrderDetailsObj.currentOrderPED" 
                                      required [matDatepicker]="picker31"
                                      title="DD-MMM-YYYY" placeholder="Select date">
                                    <mat-datepicker-toggle matSuffix [for]="picker31" tabindex="0" aria-label="calender" (click)="picker31.open()" (keypress)="picker31.open()" >
                                      <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker31></mat-datepicker>
                                  </div>
                                </div>
                              </div>
                        </div>  
                        
                      <!--<div class="customized-input">
                        <label for="license" class=""> </label>
                        <input id="license" type="text" class="border-gray w-100" [(ngModel)]="modifyOrderDetailsObj.currentOrderPED"
                          disabled>
                      </div>-->
                    </td>

                    <td [attr.data-label]="'Change order details'" class="no_pad">
                       <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pb21 mrnbot-10" >
                              <div class="pos-rel">
                                <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cal_brdr">
                                  <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input">
                                    <input class="col-12 col-lg-12 col-sm-12 col-md-12 float-left" name="PEDChange" id="EndDate" [(ngModel)]="modifyOrderDetailsObj.changeOrderPED"
                                      required [matDatepicker]="picker3" [disabled]="disableOnRoleOverwiew || disableEndDate"
                                      title="DD-MMM-YYYY" [min]="minEndDate" [max]="maxEndDate" placeholder="Select date" readonly>
                                    <mat-datepicker-toggle matSuffix [for]="picker3" tabindex="0" aria-label="calender" disabled (click)="picker3.open()" (keypress)="picker3.open()" >
                                      <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker3></mat-datepicker>
                                  </div>
                                </div>
                              </div>
                        </div>             
  
                      </td>

                      <td [attr.data-label]="'Reason'">
                         <div class="customized-select mt-20-mob web-select-box h100">
                          <mat-form-field class="col-12 no_pad float-left">
                            <mat-select  panelClass="Select-panel-class" name="PEDReason" [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderPED && !modifyOrderDetailsObj.reasonPEDId)}" [(ngModel)]="modifyOrderDetailsObj.reasonPEDId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}"   role="listbox"
                             [disabled]="disableOnRoleOverwiew || disableEndDate">
                                        <mat-option   value = "" >Select reason</mat-option>
                                        <mat-option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</mat-option>
                                    </mat-select>
                                   </mat-form-field>
                          </div>

                          <div class="col-12 mobile-select-box no_pad">
                            <div class="customized-select">
                               <span class="caret color-azure"></span>
                               <select name="PEDReasonMobile" [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderPED && !modifyOrderDetailsObj.reasonPEDId)}" [(ngModel)]="modifyOrderDetailsObj.reasonPEDId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}"   role="listbox"
                               [disabled]="disableOnRoleOverwiew || disableEndDate">
                                   <option value = "" >Select reason</option>
                                   <option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</option>
                               </select>
                               </div>
                             </div>

                          <!-- <div class="col-12 mobile-select-box no_pad">
                         <div class="customized-select">
                            <span class="caret color-azure"></span>
                            <select [(ngModel)]="contcountry2" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="Contractingcountry" id="Contractingcountry" role="listbox">
                                <option value=""  hidden>Select reason</option>
                                <option value="cont1">contracting country 1</option>
                                <option value="cont2">contracting country 2</option>
                                <option value="cont3">contracting country 3</option>
                                <option value="cont4">contracting country 4</option>
                                <option value="cont5">contracting country 5</option>
                            </select>
                            </div>
                          </div> -->
                          <!-- Select DROPDOWN STARTS -->
                        </td>
              </tr>

              <tr>

                <td [attr.data-label]="'Order details'" class="">
                  <div class="customized-input">
                    <label for="license" class=""> </label>
                    <input id="license" type="text" class="border-gray w-100"  placeholder="Vertical sales owner"
                      disabled>
                  </div>
                </td>

                <td [attr.data-label]="'Current order details'" class="" *ngIf="!disableAll">
                      <div class="customized-input">
                        <label for="license" class=""> </label>
                        <input id="license" type="text" class="border-gray w-100"  name="VSOCurr" [(ngModel)]="modifyOrderDetailsObj.currentOrderVSOName" placeholder=""
                          disabled>
                      </div>
                    </td>

                    <td [attr.data-label]="'Change order details'" class="no_pad">
                          <!-- change details 1 autocomplete starts here-->
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                          

                            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="contactName1"
                            name="VSOChange" autocomplete="off" type="text"[(ngModel)]="modifyOrderDetailsObj.changeOrderVSOName" placeholder="Search and link"
                            (blur)="verticalClickOutside($event)" (click)="contactNameSwitch1 = true;getVerticalSalesValue(modifyOrderDetailsObj.changeOrderVSOName)" (ngModelChange)="getVerticalSalesValue(modifyOrderDetailsObj.changeOrderVSOName)" 
                            [disabled]="disableOnRoleOverwiew">
                            <span class="new-change mdi mdi-magnify"></span>
                            <div
                              class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border-rightaz float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                              *ngIf="contactNameSwitch1">
                              <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                                 <ul tabindex="0" class=" list-group mr2 sort-dropdown">
                                  <li class="list-group-item no_pad h-50 p-4-10 " (click)="selectedValueVertical(item)"
                                    *ngFor="let item of verticalCodeArr ">
                                      <label for="inti_name" class="float-left name mb-0">
                                      <span class="d-block list-name">{{item.Name}}</span>
                                     
                                    </label>
                                  </li>
                                  <li class="d-block list-name h-40 p-10" *ngIf="verticalCodeArr.length == 0">
                                    No record found </li>
                                    <span class="db-search" (click)="openadvanceOverViewSearch(modifyOrderDetailsObj,'VSO',verticalCodeArr,modifyOrderDetailsObj.selectedVSO,modifyOrderDetailsObj.changeOrderVSOName)">
                                        <button id="advanceVSOSearch" role="option" tabindex="0"
                                        aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                                          <span class="mdi mdi-file-outline"></span> Advance look up
                                        </button>
                                      </span>
                                </ul>
                              </perfect-scrollbar>
                            </div>
                        </div>                        
                        <!--change details1 autocomplete ends here-->          
  
                      </td>
                      <td [attr.data-label]="'Reason'">
                          <div class="customized-select mt-20-mob web-select-box h100">
                          <mat-form-field class="col-12 no_pad float-left">
                            <mat-select  panelClass="Select-panel-class" [ngClass]="{'orangeborder':( ErrorDisplay && modifyOrderDetailsObj.changeOrderVSOName && modifyOrderDetailsObj.changeOrderVSOId && !modifyOrderDetailsObj.resonsOrderVSOId)}" [(ngModel)]="modifyOrderDetailsObj.resonsOrderVSOId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="VSOReason" role="listbox"
                             [disabled]="disableOnRoleOverwiew">
                                        <mat-option   value = "" >Select reason</mat-option>
                                        <mat-option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</mat-option>
                      
                                    </mat-select>
                                   </mat-form-field>
                          </div>

                          <div class="col-12 mobile-select-box no_pad">
                            <div class="customized-select">
                               <span class="caret color-azure"></span>
                               <select [ngClass]="{'orangeborder':( ErrorDisplay && modifyOrderDetailsObj.changeOrderVSOName && modifyOrderDetailsObj.changeOrderVSOId && !modifyOrderDetailsObj.resonsOrderVSOId)}" [(ngModel)]="modifyOrderDetailsObj.resonsOrderVSOId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="VSOReasonMobile" role="listbox"
                               [disabled]="disableOnRoleOverwiew">
                                   <option value = "" >Select reason</option>
                                   <option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</option>
                               </select>
                               </div>
                             </div>

                          <!-- <div class="col-12 mobile-select-box no_pad">
                         <div class="customized-select">
                            <span class="caret color-azure"></span>
                            <select [(ngModel)]="contcountry3" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="Contractingcountry" id="Contractingcountry" role="listbox">
                                <option value=""  hidden>Select reason</option>
                                <option value="cont1">contracting country 1</option>
                                <option value="cont2">contracting country 2</option>
                                <option value="cont3">contracting country 3</option>
                                <option value="cont4">contracting country 4</option>
                                <option value="cont5">contracting country 5</option>
                            </select>
                            </div>
                          </div> -->
                          <!-- Select DROPDOWN STARTS -->
                        </td>
              </tr>

              <tr *ngIf="!oppDataIsSimpleDeal">

                <td [attr.data-label]="'Order details'" class="">
                  <div class="customized-input">
                    <label for="license" class=""> </label>
                    <input id="license" type="text" class="border-gray w-100" placeholder="Advisor"
                      disabled>
                  </div>
                </td>

                <td [attr.data-label]="'Current order details'" class="" *ngIf="!disableAll">
                      <div class="customized-input">
                        <label for="license" class=""> </label>
                        <input id="license" type="text" class="border-gray w-100" name="AdvisorCurr" [(ngModel)]="modifyOrderDetailsObj.currentOrderAdvisorName"
                          disabled>
                      </div>
                    </td>

                    <td [attr.data-label]="'Change order details'" class="no_pad">
                          <!-- change details 1 autocomplete starts here-->
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                        

                            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="contactName2"
                            name="AdvisorChange" autocomplete="off" type="text" [(ngModel)]="modifyOrderDetailsObj.changeOrderAdvisorName" placeholder="Search and link"
                            (blur)="AdvisorNameclose($event)" (ngModelChange)="getAdvisorSalesValue(modifyOrderDetailsObj.changeOrderAdvisorName)" (click)="contactNameSwitch2 = true;getAdvisorSalesValue(modifyOrderDetailsObj.changeOrderAdvisorName)"  [disabled]="disableOnRoleOverwiew">
                            <span class="new-change mdi mdi-magnify"></span>
                            <div
                              class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border-rightaz float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                              *ngIf="contactNameSwitch2">
                              <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                                 <ul tabindex="0" class=" list-group mr2 sort-dropdown">
                                  <li class="list-group-item no_pad h-50 p-4-10 " (click)="selectedValueAdvisor(item)"
                                    *ngFor="let item of advisorArr ">
                                      <label for="inti_name" class="float-left name mb-0">
                                      <span class="d-block list-name">{{item.Name}}</span>
                                    </label>
                                  </li>
                                  <li class="d-block list-name h-40 p-10" *ngIf="advisorArr.length == 0">
                                    No record found </li>
                                    <span class="db-search" (click)="openadvanceOverViewSearch(modifyOrderDetailsObj,'Advisor',advisorArr,modifyOrderDetailsObj.selectedAdvisor,modifyOrderDetailsObj.changeOrderAdvisorName)">
                                        <button id="advanceAdvisorSearch" role="option" tabindex="0"
                                        aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                                          <span class="mdi mdi-file-outline"></span> Advance look up
                                        </button>
                                      </span>
                                </ul>
                              </perfect-scrollbar>
                            </div>
                        </div>                        
                        <!--change details1 autocomplete ends here-->          
  
                      </td>
                      <td [attr.data-label]="'Reason'">
                          <div class="customized-select mt-20-mob web-select-box h100">
                          <mat-form-field class="col-12 no_pad float-left">
                            <mat-select  panelClass="Select-panel-class" [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderAdvisorName && modifyOrderDetailsObj.changeOrderAdvisorId && !modifyOrderDetailsObj.resonsOrderAdvisorId)}" [(ngModel)]="modifyOrderDetailsObj.resonsOrderAdvisorId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="AdvisorReason" role="listbox"
                            [disabled]="disableOnRoleOverwiew">
                                        <mat-option   value="" >Select reason</mat-option>
                                        <mat-option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</mat-option>
                           
                                    </mat-select>
                                   </mat-form-field>
                          </div>

                          <div class="col-12 mobile-select-box no_pad">
                            <div class="customized-select">
                               <span class="caret color-azure"></span>
                               <select [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderAdvisorName && modifyOrderDetailsObj.changeOrderAdvisorId && !modifyOrderDetailsObj.resonsOrderAdvisorId)}" [(ngModel)]="modifyOrderDetailsObj.resonsOrderAdvisorId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="AdvisorReasonMobile" role="listbox"
                               [disabled]="disableOnRoleOverwiew">
                                   <option value = "" >Select reason</option>
                                   <option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</option>
                               </select>
                               </div>
                             </div>
                          <!-- <div class="col-12 mobile-select-box no_pad">
                         <div class="customized-select">
                            <span class="caret color-azure"></span>
                            <select [(ngModel)]="contcountry4" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="Contractingcountry" id="Contractingcountry" role="listbox">
                                <option value="" hidden>Select reason</option>
                                <option value="cont1">contracting country 1</option>
                                <option value="cont2">contracting country 2</option>
                                <option value="cont3">contracting country 3</option>
                                <option value="cont4">contracting country 4</option>
                                <option value="cont5">contracting country 5</option>
                            </select>
                            </div>
                          </div> -->
                          <!-- Select DROPDOWN STARTS -->
                        </td>
              </tr>

              <tr>

                <td [attr.data-label]="'Order details'" class="">
                  <div class="customized-input">
                    <label for="license" class=""> </label>
                    <input id="license" type="text" class="border-gray w-100"  placeholder="Authorization type"
                      disabled>
                  </div>
                </td>

                <td [attr.data-label]="'Current order details'" class="" *ngIf="!disableAll">
                      <div class="customized-input">
                        <label for="license" class=""> </label>
                        <input id="license" type="text" class="border-gray w-100" name="AuthCurr" [(ngModel)]="modifyOrderDetailsObj.currentorderAuthorizationName"
                          disabled>
                      </div>
<!-- 
                      <div class="customized-select mt-20-mob web-select-box h100">
                        <mat-form-field class="col-12 no_pad float-left">
                          <mat-select  panelClass="Select-panel-class" [(ngModel)]="modifyOrderDetailsObj.currentorderAuthorization" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="Contractingcountry" id="Contractingcountry" role="listbox" disabled>
                                      <mat-option value="" hidden>Select</mat-option>
                                               <mat-option value="True">SOW</mat-option>
                                        <mat-option value="False">PO</mat-option>
                    
                                  </mat-select>
                                 </mat-form-field>
                        </div> -->

                    </td>

                    <td [attr.data-label]="'Change order details'">
                        <div class="customized-select mt-20-mob web-select-box h100 ">
                        <mat-form-field class="col-12 no_pad float-left">
                          <mat-select (selectionChange)="valuechange(modifyOrderDetailsObj.changeOrderAuthorizationId)" panelClass="Select-panel-class" [(ngModel)]="modifyOrderDetailsObj.changeOrderAuthorizationId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="AuthChange"  role="listbox"
                          [disabled]="disableOnRoleOverwiew || OrderTypeId == 184450002 || OrderTypeId == 184450004">
                                      <mat-option value="">Select</mat-option>
                                               <mat-option value="True" [hidden]="modifyOrderDetailsObj.currentorderAuthorizationId == 'True'" [disabled]="modifyOrderDetailsObj.currentorderAuthorizationId == 'True'" >SOW</mat-option>
                                        <mat-option value="False" [hidden]="modifyOrderDetailsObj.currentorderAuthorizationId == 'False'" [disabled]="modifyOrderDetailsObj.currentorderAuthorizationId == 'False'" >PO</mat-option>
                                         
                    
                                  </mat-select>
                                 </mat-form-field>
                        </div>

                        
                        <div class="col-12 mobile-select-box no_pad">
                          <div class="customized-select">
                             <span class="caret color-azure"></span>
                             <select (change)="valuechange(modifyOrderDetailsObj.changeOrderAuthorizationId)" [(ngModel)]="modifyOrderDetailsObj.changeOrderAuthorizationId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="AuthChangeMobile"  role="listbox" 
                             [disabled]="disableOnRoleOverwiew || OrderTypeId == 184450002 || OrderTypeId == 184450004">
                                 <option value="">Select</option>
                                 <option value="True"  [hidden]="modifyOrderDetailsObj.currentorderAuthorizationId == 'True'" [disabled]="modifyOrderDetailsObj.currentorderAuthorizationId == 'True'">SOW</option>
                                 <option value="False"  [hidden]="modifyOrderDetailsObj.currentorderAuthorizationId == 'False'" [disabled]="modifyOrderDetailsObj.currentorderAuthorizationId == 'False'">PO</option>
                             </select>
                             </div>
                           </div>
                       
                        <!-- Select DROPDOWN STARTS -->
                      </td>

                      <td [attr.data-label]="'Reason'">
                          <div class="customized-select mt-20-mob web-select-box h100">
                          <mat-form-field class="col-12 no_pad float-left">
                            <mat-select  panelClass="Select-panel-class" [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderAuthorizationId && !modifyOrderDetailsObj.resonAuthorizationId)}" [(ngModel)]="modifyOrderDetailsObj.resonAuthorizationId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="AuthReason"  role="listbox"
                             [disabled]="disableOnRoleOverwiew || OrderTypeId == 184450002 || OrderTypeId == 184450004">
                                        <mat-option   value= "" >Select reason</mat-option>
                                        <mat-option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</mat-option>
                        
                                    </mat-select>
                                   </mat-form-field>
                          </div>

                          <div class="col-12 mobile-select-box no_pad">
                            <div class="customized-select">
                               <span class="caret color-azure"></span>
                               <select [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderAuthorizationId && !modifyOrderDetailsObj.resonAuthorizationId)}" [(ngModel)]="modifyOrderDetailsObj.resonAuthorizationId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="AuthReasonMobile"  role="listbox"
                               [disabled]="disableOnRoleOverwiew || OrderTypeId == 184450002 || OrderTypeId == 184450004">
                                   <option value = "" >Select reason</option>
                                   <option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</option>
                               </select>
                               </div>
                             </div>
                          <!-- <div class="col-12 mobile-select-box no_pad">
                         <div class="customized-select">
                            <span class="caret color-azure"></span>
                            <select [(ngModel)]="contcountry6" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="Contractingcountry" id="Contractingcountry" role="listbox">
                                <option value=""  hidden>Select reason</option>
                                <option value="cont1">contracting country 1</option>
                                <option value="cont2">contracting country 2</option>
                                <option value="cont3">contracting country 3</option>
                                <option value="cont4">contracting country 4</option>
                                <option value="cont5">contracting country 5</option>
                            </select>
                            </div>
                          </div> -->
                          <!-- Select DROPDOWN STARTS -->
                        </td>
              </tr>
              <tr *ngIf="( modifyOrderDetailsObj.currentorderAuthorizationId == 'True' && modifyOrderDetailsObj.changeOrderAuthorizationId != 'False') || 
              ( modifyOrderDetailsObj.currentorderAuthorizationId == 'False' && modifyOrderDetailsObj.changeOrderAuthorizationId == 'True')">
                  
                                  <td [attr.data-label]="'Order details'" class="">
                                    <div class="customized-input">
                                      <label for="license" class=""> </label>
                                      <input id="license" type="text" class="border-gray w-100" placeholder="POA Holder"
                                        disabled>
                                    </div>
                                  </td>
                  
                                  <td [attr.data-label]="'Current order details'" class="" *ngIf="!disableAll">
                                        <div class="customized-input">
                                          <label for="license" class=""> </label>
                                          <input id="license" type="text" class="border-gray w-100" name="POAHolderCurr" [(ngModel)]="modifyOrderDetailsObj.currentOrderPOAHolderName" placeholder="Search"
                                            disabled>
                                        </div>
                                      </td>
                  
                                      <td [attr.data-label]="'Change order details'" class="no_pad">
                                            <!-- change details 1 autocomplete starts here-->
                                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                                          
                                                <!-- <input readonly [value]="defaultValue.POAName"
                                                [ngClass]="orderOverviewValidationValue.POAHolderId ? 'orangeborder' : ''"
                                                class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input cp" id="search"
                                                name="search" autocomplete="off" type="text" placeholder="Search" (click)="NavigateToPOHeader()"
                                                [disabled]="disableOnRoleOverwiew">
                                              <span class="mdi mdi-magnify"></span> -->

                                              <input readonly class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="POAName2"
                                              name="POAChange" autocomplete="off" type="text" [(ngModel)]="modifyOrderDetailsObj.changeOrderPOAHolderName" placeholder="Search"
                                                (click)="NavigateToPOHeader()"  [disabled]="disableOnRoleOverwiew">
                                                <span class="new-change mdi mdi-close " (click)="clearPOAHolder()" *ngIf="!disableOnRoleOverwiew && modifyOrderDetailsObj.changeOrderPOAHolderName"></span>
                                              <span class="new-change mdi mdi-magnify" *ngIf="!modifyOrderDetailsObj.changeOrderPOAHolderName"></span>
                                             
                                          </div>                        
                                          <!--change details1 autocomplete ends here-->          
                    
                                        </td>
                                        <td [attr.data-label]="'Reason'">
                                            <div class="customized-select mt-20-mob web-select-box h100">
                                            <mat-form-field class="col-12 no_pad float-left">
                                              <mat-select  panelClass="Select-panel-class" [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderPOAHolderName && modifyOrderDetailsObj.changeOrderPOAHolderId && !modifyOrderDetailsObj.resonsOrderPOAHolderId)}" 
                                              [(ngModel)]="modifyOrderDetailsObj.resonsOrderPOAHolderId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="POAHolderReason" role="listbox"
                                              [disabled]="disableOnRoleOverwiew">
                                                          <mat-option   value="" >Select reason</mat-option>
                                                          <mat-option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</mat-option>
                                             
                                                      </mat-select>
                                                     </mat-form-field>
                                            </div>
                  
                                            <div class="col-12 mobile-select-box no_pad">
                                              <div class="customized-select">
                                                 <span class="caret color-azure"></span>
                                                 <select [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderAdvisorName && modifyOrderDetailsObj.changeOrderAdvisorId && !modifyOrderDetailsObj.resonsOrderAdvisorId)}" [(ngModel)]="modifyOrderDetailsObj.resonsOrderAdvisorId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="AdvisorReasonMobile" role="listbox"
                                                 [disabled]="disableOnRoleOverwiew">
                                                     <option value = "" >Select reason</option>
                                                     <option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</option>
                                                 </select>
                                                 </div>
                                               </div>
                                            <!-- <div class="col-12 mobile-select-box no_pad">
                                           <div class="customized-select">
                                              <span class="caret color-azure"></span>
                                              <select [(ngModel)]="contcountry4" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="Contractingcountry" id="Contractingcountry" role="listbox">
                                                  <option value="" hidden>Select reason</option>
                                                  <option value="cont1">contracting country 1</option>
                                                  <option value="cont2">contracting country 2</option>
                                                  <option value="cont3">contracting country 3</option>
                                                  <option value="cont4">contracting country 4</option>
                                                  <option value="cont5">contracting country 5</option>
                                              </select>
                                              </div>
                                            </div> -->
                                            <!-- Select DROPDOWN STARTS -->
                                          </td>
                                </tr>
         <!--Podetails display part-->     
             <tr *ngIf=" ( modifyOrderDetailsObj.currentorderAuthorizationId == 'False' && modifyOrderDetailsObj.changeOrderAuthorizationId != 'True') || 
             ( modifyOrderDetailsObj.currentorderAuthorizationId == 'True' && modifyOrderDetailsObj.changeOrderAuthorizationId == 'False')">
                <td></td>
                <td>
                  <!-- <span class="float-right">po details</span> -->
                </td>
                <td><p _ngcontent-cla-c21="" class="float-left  radio-fontfamly po-detail " (click) = "modifiypodetailspopup()" >PO details ({{poCount()}})</p></td>
                <td></td>
              </tr>
              
              <!-- <tr *ngIf="sowdetails">
                <td></td>
                <td><span class="float-right">sow details</span></td>
                <td>
                  <div
                    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel mb1 no_pad">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                      <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="searchforsow"
                        name="search" autocomplete="off" type="text"
                        placeholder="Search">
                      <span class="mdi mdi-magnify"></span>
                </div>
                  </div>
                  </td>
                  <td></td>
              </tr> -->
<!--Podetails display part-->     
              <tr>

                <td [attr.data-label]="'Order details'" class="">
                  <div class="customized-input">
                    <label for="license" class=""> </label>
                    <input id="license" type="text" class="border-gray w-100"  placeholder="SOW/PO Signed date"
                      disabled>
                  </div>
                </td>

                <td [attr.data-label]="'Current order details'" class="" *ngIf="!disableAll">
                      <!-- <div class="customized-input">
                        <label for="license" class=""> </label>
                        <input id="license" type="text" class="border-gray w-100" [(ngModel)]="modifyOrderDetailsObj.currentrOrderSOWPOD"
                          disabled>
                      </div> -->

                  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pb21 mrnbot-10" >
                    <div class="pos-rel">
                      <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cal_brdr">
                        <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input">
                          <input disabled class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " id="CurrInStartdate"  name="POSOWCurr" [(ngModel)]="modifyOrderDetailsObj.currentrOrderSOWPOD" 
                            required [matDatepicker]="picker4"
                            title="DD-MMM-YYYY" placeholder="Select date">
                          <mat-datepicker-toggle matSuffix [for]="picker4" tabindex="0" aria-label="calender" (click)="picker4.open()" (keypress)="picker4.open()" >
                            <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker4></mat-datepicker>
                        </div>
                      </div>
                    </div>
              </div>  

                    </td>

                   <td [attr.data-label]="'Change order details'" class="">

                       <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad pb21 mrnbot-10" >
                              <div class="pos-rel">
                                <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cal_brdr">
                                  <div class="col-12 col-lg-12 col-sm-12 col-md-12 float-left no_pad cust_calan customized-input">
                                    <input  class="col-12 col-lg-12 col-sm-12 col-md-12 float-left " name="POSOWChange" id="AuthInStartdate" [(ngModel)]="modifyOrderDetailsObj.changeOrderSOWPOD"
                                      required [min]="minSignedEndDate" [max]="maxSignedEndDate" [matDatepicker]="picker41"
                                      title="DD-MMM-YYYY" placeholder="Select date" [disabled]="disableOnRoleOverwiew || 
                                      ( modifyOrderDetailsObj.currentorderAuthorizationId == 'False' && modifyOrderDetailsObj.changeOrderAuthorizationId != 'True') || 
                                      ( modifyOrderDetailsObj.currentorderAuthorizationId == 'True' && modifyOrderDetailsObj.changeOrderAuthorizationId == 'False')" readonly>
                                    <mat-datepicker-toggle matSuffix [for]="picker41" disabled tabindex="0" aria-label="calender" (click)="picker41.open()" (keypress)="picker41.open()" >
                                      <span class="mdi mdi-calendar-blank float-right no_pad" matDatepickerToggleIcon></span>
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker41></mat-datepicker>
                                  </div>
                                </div>
                              </div>
                        </div> 

                      <!--<div class="customized-input">
                        <label for="license" class=""> </label>
                        <input id="license" type="text" class="border-gray w-100" [(ngModel)]="modifyOrderDetailsObj.currentorderAuthorT"
                          disabled>
                      </div>-->
                    </td>
                      <td [attr.data-label]="'Reason'">
                           <div class="customized-select mt-20-mob web-select-box h100">
                          <mat-form-field class="col-12 no_pad float-left">
                            <mat-select  panelClass="Select-panel-class" [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderSOWPOD && !modifyOrderDetailsObj.reasonSOWPOId)}"  [(ngModel)]="modifyOrderDetailsObj.reasonSOWPOId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="POSOWReason" role="listbox"
                             [disabled]="disableOnRoleOverwiew">
                                        <mat-option   value = "">Select reason</mat-option>
                                        <mat-option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</mat-option>

                                    </mat-select>
                                   </mat-form-field>
                          </div>

                          <div class="col-12 mobile-select-box no_pad">
                            <div class="customized-select">
                               <span class="caret color-azure"></span>
                               <select [ngClass]="{'orangeborder':(ErrorDisplay && modifyOrderDetailsObj.changeOrderSOWPOD && !modifyOrderDetailsObj.reasonSOWPOId)}"  [(ngModel)]="modifyOrderDetailsObj.reasonSOWPOId" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="POSOWReasonMobile" role="listbox"
                               [disabled]="disableOnRoleOverwiew">
                                   <option value = "" >Select reason</option>
                                   <option *ngFor="let reasonname of selectedReasonValue" [value]="reasonname.Id">{{reasonname.Name}}</option>
                               </select>
                               </div>
                             </div>
                          <!-- <div class="col-12 mobile-select-box no_pad">
                         <div class="customized-select">
                            <span class="caret color-azure"></span>
                            <select [(ngModel)]="contcountry8" class="select-focus mat-select {{service.getSelectedClass(contcountry)}}" name="Contractingcountry" id="Contractingcountry" role="listbox">
                                <option value=""  hidden>Select reason</option>
                                <option value="cont1">contracting country 1</option>
                                <option value="cont2">contracting country 2</option>
                                <option value="cont3">contracting country 3</option>
                                <option value="cont4">contracting country 4</option>
                                <option value="cont5">contracting country 5</option>
                            </select>
                            </div>
                          </div> -->
                          <!-- Select DROPDOWN STARTS -->
                        </td>
              </tr>              
              
            </tbody>
          </table>
          </form>

      <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad"
         *ngIf="isICMAccount == true && changesAuthorization!=''">
           <!--  <p *ngIf="!OrderId" class="radio-cmnt mb0">Please ensure contracts are executed. You can view contracts post Order creation</p> -->
           <p class="radio-cmnt mb0">Please ensure the contracts are executed <span class="color-azure"
             (click)="viewContracts()">
           <a href="{{viewContractNavigate}}" target="_blank">View contracts</a></span></p>
     </span>
     
  <div class="col-12 float-left border-bottom-grey mb10"></div>
  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no_pad float-left">
    <span class="col-12 col-sm-12 col-md-12 col-lg-8 col-xl-8 no_pad float-left">
      <label class="col-12 no_pad suprt_text">Supporting documents ({{fileDataArray.length}})</label>
    </span>
    <span class="col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 no_pad float-right ">
      <button class="primary-button h-40 std save-responsive-btn float-right float-unset pad_10" aria-label="upload"
        matTooltip="upload" type="button">
        <span class="mdi mdi-attachment attach-icon"> </span>
        <input class="ip_op0 file_ip cp" type="file" multiple  (change)="fileOverBase($event)"  [disabled]="disableOnRoleOverwiew">
        Attach files</button>
    </span>
  </div>
  <div class="col-12 col-xl-12 no_pad float-left" >
      <div class="col-6 col-sm-6 col-md-6 col-lg-2 col-xl-2 float-left uploaded_doc mt10 mr10" *ngFor="let displayFile of fileDataArray;let i=index">
        <span  
        class="float-left naming-tags-square pad-7 child-middle bg-azure download-uploaded-file cp">
        <span class="initials mdi mdi-file-document font-20" id="inti_name-kb"></span>
        <button class="btn-none initials mdi mdi-download font-20" type="button"
          aria-label="Download file" id="inti_name-kb1" (click) = "downloaFile(i)" matTooltip="Download file"></button>
        </span>
      <label for="inti_name-kb "
      class="pos-rel pl10 name-sq padLR-10 border-std color-azure mx-width-90per width-90">
       <span class="float-left uploaded_text" matTooltip="{{displayFile.UploadFileName}}">
          {{ displayFile.UploadFileName}}
        </span>
        <button type="button" class="float-right mdi mdi-close del_upload curPointer" *ngIf="!disableOnRoleOverwiew" (click)="deleteDocuments(displayFile,i)"
          aria-label="delete image"></button>
          </label>
      </div>
    </div>

        </div>
        <!-- alliance_projection Accordian Ends-->


      </div>
    </div>

    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left padLR-24 mt20">
      <span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad upper-text">OB allocation </span>
      <!--<span class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad lower-text mb10">Please validate the
        projection values. You can make changes till 3 days from submssion for approval </span>-->
    </div>

  <div class="col-12 float-left no_pad" *ngIf="WTFlag && businessSOlutionData.length>0">
      <div class="col-12 float-left paddg10 mb20 card-details">
        <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-12 no_pad float-left mt10">
          <label for="" class="col-12 no_pad float-left">SL TCV ({{CurrencySymbol}})</label>
          <span class="col-12 no_pad float-left">{{CurrencySymbol}}
            {{(businessSOlutionData[0].Sltcv)?businessSOlutionData[0].Sltcv:'0.00'}}</span>
        </div>
        <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-12 no_pad float-left mt10">
          <label for="" class="col-12 no_pad float-left">IP TCV ({{CurrencySymbol}})</label>
          <span class="col-12 no_pad float-left">{{CurrencySymbol}}
            {{(businessSOlutionData[0].IpTcv)?businessSOlutionData[0].IpTcv:'0.00'}}</span>
        </div>
        <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-12 no_pad float-left mt10">
          <label for="" class="col-12 no_pad float-left">Overall TCV ({{CurrencySymbol}})</label>
          <span class="col-12 no_pad float-left">{{CurrencySymbol}}
            {{(businessSOlutionData[0].OverallTcv)?businessSOlutionData[0].OverallTcv:'0.00'}}</span>
        </div>
        <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-12 no_pad float-left mt10">
          <label for="" class="col-12 no_pad float-left">Pricing updated on</label>
          <span class="col-12 no_pad float-left">{{PricingUpdateOn ? (PricingUpdateOn | date : 'dd-MMM-yyyy') : 'NA'}}</span>
        </div>
      </div>
    </div>

    <form #myModifyForm="ngForm">
      <!-- business solution panel starts here -->
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" *ngIf="!WTFlag">
          <mat-expansion-panel hideToggle="true" [expanded]="panelOpenState7" class="no_pad"
            (opened)="panelOpenState7 = true" (closed)="panelOpenState7 = false">
            <mat-expansion-panel-header class="min_height60">
              <div class="min_height60 col-12 no_pad">
                <div class="accord-heading col-12">
                  <span
                    [ngClass]="panelOpenState7 ? 'mdi mdi-chevron-down chevron-right float-left':'mdi mdi-chevron-up chevron-right float-left'"></span>
                  <div class="float-left no_pad"> <span class="accordian-title cardsHead col-6 no_pad">
                      Business solution panel</span></div>
                </div>
              </div>
            </mat-expansion-panel-header>
            <div class="col-12 no_pad float-left border_top" *ngIf="businessSOlutionData.length>0">
              <!--search starts here-->
              <div
                class="col-12 col-sm-12 col-md-8 col-lg-8 col-xl-8  float-left plb-60-20 customized-input cust_autoComplete pos-rel mb1">
                <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                  <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="search"
                    class="label-form mt20">Smart Search</label>
                  <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input" id="search" (click)="navigatetobusinesssolutionsearch()"
                    name="search" autocomplete="off" type="text"
                    placeholder="Search (service line, solution, alliance, platform solutions and holmes)" [disabled]="disableOnRoleBSPanel">
                  <span class="mdi mdi-magnify"></span>
            </div> -->
              </div>
              <!--search ends here-->
  
              <div class="col-12 col-sm-12 col-md-8 col-lg-8 col-xl-8  float-left plb-60-20">
  
                <!-- select method radio buttons -->
              <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6  float-left plb-60-20">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                  <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form">Select method of TCV calculation*</label>
                  <mat-radio-group class="float-left mt12 pt-10" name="BSPradio" [(ngModel)]="businessSOlutionData[0].TCVCalculation" aria-labelledby="key" [disabled]="disableOnRoleBSPanel || WTFlag">
                    <!-- <mat-radio-button value="tcv" class="pr30 label-form-blue" (click)="opentcvpopup()">% of TCV</mat-radio-button> -->
                    <mat-radio-button [value]=true class="pr30 label-form-blue">% of TCV</mat-radio-button>
                    <mat-radio-button [value]=false class="label-form-blue ">Revenue
                    </mat-radio-button>
                  </mat-radio-group>
                </div>
              </div>
              <!-- select method radio buttons -->
                <div class="col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3  float-left pad-left0">
                    <div class="customized-input">
                        <label for="license" class="label-form">SL TCV ({{CurrencySymbol}})</label>
                        <input id="license" name="BSPSLTCV" type="text" class="border-gray w-100" 
                        [(ngModel)]="businessSOlutionData[0].Sltcv" 
                        #bspsltcvmod [decimalnumbersOnly]="acceptNegative" [oldValue]="bspsltcvmod.value"
                        placeholder="00.00"  
                        onpaste="return false;"  ondrop="return false;" 
                        (blur)="OnBSPanelSLTCVBlur(bspsltcvmod.value)" 
                        [disabled]="!businessSOlutionData[0].TCVCalculation || disableOnRoleBSPanel || WTFlag">
                      </div>
                </div>
  
                <div class="col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3  float-left pad-left0">
                    <div class="customized-input">
                        <label for="license" class="label-form">IP TCV ({{CurrencySymbol}})</label>
                        <input id="license" name="BSPIPTCV" type="text" class="border-gray w-100" [(ngModel)]="businessSOlutionData[0].IpTcv" placeholder="00.00" disabled>
                      </div>
                </div>
  
              </div>
              <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 float-left plb-60-20">
                  <div class="col-12 no_pad float-left">
                      <label class="col-12 no_pad float-left label-form">Overall TCV ({{CurrencySymbol}})</label>
                  <span class="col-12 no_pad float-left subtext1 pt-10">{{(businessSOlutionData[0].OverallTcv)?businessSOlutionData[0].OverallTcv:'0.00'}}</span>
                  </div>
              </div>
  
            </div>
          </mat-expansion-panel>
        </div>
        <!-- business solution panel ends here -->  
  
      <!-- service lines panel starts here -->
      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mt20 order-tab normal_table mb0 no_pad">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left pad-26 service-tab padt0">
          <mat-expansion-panel hideToggle="true" [expanded]="panelOpenState3" class="no_pad"
            (opened)="panelOpenState3 = true" (closed)="panelOpenState3 = false">
            <mat-expansion-panel-header class="min_height60">
              <div class="min_height60 col-12 no_pad">
                <div class="accord-heading col-12">
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 float-left no_pad"> 
                  <span
                    [ngClass]="panelOpenState3 ? 'mdi mdi-chevron-down chevron-right float-left':'mdi mdi-chevron-up chevron-right float-left'"></span>
                  <span class="accordian-title cardsHead col-6 no_pad">
                      Service lines</span>
                    </div>
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 float-right no_pad mobpad15 bot10 mobile-button-width" *ngIf="!disableOnRoleBSSL && !WTFlag">
                      <button aria-label="Add service line" type="button" (click)="addNewSL();$event.stopPropagation()"
                      class="primary-button h-40 std save-responsive-btn float-right pad_10" [disabled]="disableOnRoleBSSL || WTFlag">+ Add
                      service line</button>
                  </div>
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 float-right no_pad mobpad15 bot10 mobile-button-width" *ngIf="!disableOnRoleBSSL && WTFlag && showDualCreditButton">
                    <button aria-label="Add dual credit" type="button" (click)="addNewDualCreditSL();$event.stopPropagation()"
                    class="primary-button h-40 std save-responsive-btn float-right pad_10">+ Add
                    dual credit</button>
                </div>
                </div>
              </div>
            </mat-expansion-panel-header>
  
            <!-- expansion data starts here -->
            <div class="col-12 no_pad float-left btop_withoutpadding">
            <!-- <perfect-scrollbar style="max-height:250px" class="z-ind-9"> -->
              <!-- Table starts here -->
              <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad scroll-tabs overflowscroll"> -->
              <div id="order-servicetable" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad scroll-tabs">
                <table class="table table-borderless servicelinetable matfrm-wrap">
                  <thead>
                    <tr>
                      <th matTooltip="Service line*">Service line*</th>
                      <th matTooltip="Practice">Practice</th>
                      <th matTooltip="Sub practice">Sub practice</th>
                      <th matTooltip="SL BDM*">SL BDM*</th>
                      <th matTooltip="% of TCV*">% of TCV*</th>
                      <th matTooltip="Est. SL TCV*">Est. SL TCV*</th>
                      <th matTooltip="Cloud">Cloud</th>
                      <th matTooltip="Pricing type">Pricing type*</th>
                      <th matTooltip="Engagement model*">Engagement model*</th>
                      <th matTooltip="Dual credit">Dual credit</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- <tr [ngClass]="data.errortext?'td-mb':''" *ngFor="let BSSLdata of BSSLDetails"> -->
                        <tr  *ngFor="let BSSLdata of BSSLDetails;let p=index">
                          <td class="display-none"></td>
                          <td [attr.data-label]="'Service line*'" >
  
                          <!-- updated mat select starts here -->
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                            <mat-form-field class="col-12 no_pad float-left inputfixed-width ">
                              <mat-select disableOptionCentering panelClass="Select-panel-class" 
                                class="select-focus mat-select {{service.getSelectedClass(BSSLdata.BSServiceLine.WiproServicelineidValue)}}" 
                                role="listbox"
                                [name]="BSSLdata.SLSLName" [title]="BSSLdata.BSServiceLine.WiproServicelineidValueName"
                                [ngClass]="{'width125' : service.Summary_window ,'orangeborder':!BSSLdata.BSServiceLine.WiproServicelineidValue}"
                                [(ngModel)]="BSSLdata.BSServiceLine.WiproServicelineidValue"
                                (selectionChange)="getBSSLPracticeData(BSSLdata.BSServiceLine,p)"
                                [disabled]="disableOnRoleBSSL || (WTFlag && !BSSLdata.addedByDualCreditbtn)">
                                <mat-option hidden disabled value="">Select</mat-option>
                                <mat-option *ngFor="let SLData of IpandServiceLinelDD" 
                                [hidden]="disableBSServiceLine(BSSLdata,SLData)== true" 
                                [disabled]="disableBSServiceLine(BSSLdata,SLData)== true" 
                                [value]="SLData.SysGuid">{{SLData.Name}}</mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <!-- updated mat select ends here -->
                          <!-- Mobile -select starts here -->

                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mobile-select-box no_pad">
                            <div class="customized-select" [ngClass]="{'disabled-control' : disableOnRoleBSSL || (WTFlag && !BSSLdata.addedByDualCreditbtn)}">
                              <span class="caret color-azure"></span>
                              <select role="listbox" aria-required="true"
                              [name]="BSSLdata.SLSLName" [title]="BSSLdata.BSServiceLine.WiproServicelineidValueName"
                              [ngClass]="{'width125' : service.Summary_window ,'orangeborder':!BSSLdata.BSServiceLine.WiproServicelineidValue}"
                              [(ngModel)]="BSSLdata.BSServiceLine.WiproServicelineidValue"
                              (change)="getBSSLPracticeData(BSSLdata.BSServiceLine,p)"
                              [disabled]="disableOnRoleBSSL || (WTFlag && !BSSLdata.addedByDualCreditbtn)">
                              <option hidden disabled value="">Select</option>
                              <option *ngFor="let SLData of IpandServiceLinelDD" 
                              [hidden]="disableBSServiceLine(BSSLdata,SLData)== true" 
                              [disabled]="disableBSServiceLine(BSSLdata,SLData)== true" 
                              [value]="SLData.SysGuid">{{SLData.Name}}</option>
                            </select>
                              </div>
                          </div>
                          <!-- Mobile -select end here -->
                        <!-- Select DROPDOWN STARTS -->
                        <!-- <p *ngIf="data.errortext" class="col-6 no_pad float-left validation-text">* Cloud details are mandatory for this combination of service line/ practice/ sub-practice.</p> -->
                      </td>
                      <td [attr.data-label]="'Practice'" >
  
                        <!-- updated mat select starts here -->
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                          <mat-form-field class="col-12 no_pad float-left inputfixed-width ">
                            <mat-select disableOptionCentering panelClass="Select-panel-class" 
                            class="select-focus mat-select {{service.getSelectedClass(BSSLdata.BSServiceLine.WiproPracticeId)}}" role="listbox"
                              [name]="BSSLdata.SLPracticeName" [title]="BSSLdata.BSServiceLine.WiproPracticeName"
                              [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!BSSLdata.BSServiceLine.WiproPracticeId && checkActivePractice(BSSLdata.SlpracticeDD)>0)}"
                              [(ngModel)]="BSSLdata.BSServiceLine.WiproPracticeId" (selectionChange)="getBSSLSubPracticeData(BSSLdata.BSServiceLine,p)"
                              [disabled]="!BSSLdata.BSServiceLine.WiproServicelineidValue || disableOnRoleBSSL || (BSSLdata.BSServiceLine.WiproServicelineidValue && checkActivePractice(BSSLdata.SlpracticeDD) == 0) || (WTFlag && !BSSLdata.addedByDualCreditbtn)">
                              <mat-option hidden disabled value="">Select</mat-option>
                              <mat-option *ngFor="let practiceData of BSSLdata.SlpracticeDD" 
                              [hidden]="practiceData.Name == ACS || !practiceData.IsVisible"
                              [disabled]="practiceData.Name == ACS || !practiceData.IsVisible"
                              [value]="practiceData.SysGuid">
                                {{practiceData.Name}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      <!-- updated mat select ends here -->
                      <!-- Mobile -select starts here -->
                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mobile-select-box no_pad">
                          <div class="customized-select" [ngClass]="{'disabled-control' : !BSSLdata.BSServiceLine.WiproServicelineidValue || disableOnRoleBSSL || (BSSLdata.BSServiceLine.WiproServicelineidValue && checkActivePractice(BSSLdata.SlpracticeDD) == 0) || (WTFlag && !BSSLdata.addedByDualCreditbtn)}">
                            <span class="caret color-azure"></span>
                            <select role="listbox" aria-required="true"
                            [name]="BSSLdata.SLPracticeName" [title]="BSSLdata.BSServiceLine.WiproPracticeName"
                            [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!BSSLdata.BSServiceLine.WiproPracticeId && checkActivePractice(BSSLdata.SlpracticeDD)>0)}"
                            [(ngModel)]="BSSLdata.BSServiceLine.WiproPracticeId" (change)="getBSSLSubPracticeData(BSSLdata.BSServiceLine,p)"
                            [disabled]="!BSSLdata.BSServiceLine.WiproServicelineidValue || disableOnRoleBSSL || (BSSLdata.BSServiceLine.WiproServicelineidValue && checkActivePractice(BSSLdata.SlpracticeDD) == 0) || (WTFlag && !BSSLdata.addedByDualCreditbtn)">
                              <option hidden disabled value="">Select</option>
                              <option *ngFor="let practiceData of BSSLdata.SlpracticeDD" 
                              [hidden]="practiceData.Name == ACS || !practiceData.IsVisible"
                              [disabled]="practiceData.Name == ACS || !practiceData.IsVisible"
                              [value]="practiceData.SysGuid">
                                {{practiceData.Name}}
                              </option>
                            </select>
                            </div>
                        </div>
                        <!-- Mobile -select end here -->
                        <!-- Select DROPDOWN STARTS -->
                      </td>
                      <td [attr.data-label]="'Sub practice*'" >
                
                        <!-- updated mat select starts here -->
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                          <mat-form-field class="col-12 no_pad float-left inputfixed-width ">
                            <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select {{service.getSelectedClass(BSSLdata.BSServiceLine.WiproSubpracticeid)}}"
                              role="listbox" [name]="BSSLdata.SLSubPracticeName" [title]="BSSLdata.BSServiceLine.WiproSubpracticeName"
                              [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!BSSLdata.BSServiceLine.WiproSubpracticeid && checkActiveSubPractice(BSSLdata.SlSubpracticeDD)>0)}"
                              [(ngModel)]="BSSLdata.BSServiceLine.WiproSubpracticeid" (selectionChange)="duplicateSubPracticeCheck(BSSLdata.BSServiceLine,p)"
                              [disabled]="!BSSLdata.BSServiceLine.WiproServicelineidValue || !BSSLdata.BSServiceLine.WiproPracticeId || disableOnRoleBSSL || (BSSLdata.BSServiceLine.WiproPracticeId && checkActiveSubPractice(BSSLdata.SlSubpracticeDD) == 0) || (WTFlag && !BSSLdata.addedByDualCreditbtn)">
                              <mat-option hidden disabled value="">Select</mat-option>
                              <mat-option *ngFor="let subPracticeData of BSSLdata.SlSubpracticeDD" 
                              [hidden]="!subPracticeData.IsVisible"
                              [disabled]="!subPracticeData.IsVisible"
                              [value]="subPracticeData.SubPracticeId">
                                {{subPracticeData.Name}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <!-- updated mat select ends here -->
                        <!-- Mobile -select starts here -->
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mobile-select-box no_pad">
                          <div class="customized-select" [ngClass]="{'disabled-control' : !BSSLdata.BSServiceLine.WiproServicelineidValue || !BSSLdata.BSServiceLine.WiproPracticeId || disableOnRoleBSSL || (BSSLdata.BSServiceLine.WiproPracticeId && checkActiveSubPractice(BSSLdata.SlSubpracticeDD) == 0) || (WTFlag && !BSSLdata.addedByDualCreditbtn)}">
                            <span class="caret color-azure"></span>
                            <select role="listbox" aria-required="true" [name]="BSSLdata.SLSubPracticeName" [title]="BSSLdata.BSServiceLine.WiproSubpracticeName"
                            [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!BSSLdata.BSServiceLine.WiproSubpracticeid && checkActiveSubPractice(BSSLdata.SlSubpracticeDD)>0)}"
                            [(ngModel)]="BSSLdata.BSServiceLine.WiproSubpracticeid" (change)="duplicateSubPracticeCheck(BSSLdata.BSServiceLine,p)"
                            [disabled]="!BSSLdata.BSServiceLine.WiproServicelineidValue || !BSSLdata.BSServiceLine.WiproPracticeId || disableOnRoleBSSL || (BSSLdata.BSServiceLine.WiproPracticeId && checkActiveSubPractice(BSSLdata.SlSubpracticeDD) == 0) || (WTFlag && !BSSLdata.addedByDualCreditbtn)">
                              <option hidden disabled value="">Select</option>
                              <option *ngFor="let subPracticeData of BSSLdata.SlSubpracticeDD" 
                              [hidden]="!subPracticeData.IsVisible"
                              [disabled]="!subPracticeData.IsVisible"
                              [value]="subPracticeData.SubPracticeId">
                                {{subPracticeData.Name}}
                              </option>
                            </select>
                          </div>
                        </div>
                        <!-- Mobile -select end here -->
                        <!-- Select DROPDOWN STARTS -->
                      </td>
                      <td [attr.data-label]="'SL BDM*'"  class="no_pad">
                        <!-- SL BDM autocomplete starts here-->
                         <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
  
                            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input inputfixed-width "
                            [name]="BSSLdata.SLSLBDMName" autocomplete="off" type="text" 
                            [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!BSSLdata.BSServiceLine.WiproSlbdmidValueName && !WTFlag)}" [(ngModel)]="BSSLdata.BSServiceLine.WiproSlbdmidValueName" (ngModelChange)="OnChangegetBSSLSlBDMData(BSSLdata.BSServiceLine,p,BSSLdata.BSServiceLine.WiproSlbdmidValueName)"
                            placeholder="Search" (click)="BSSLdata.SLSLBDMSwitchName = true;OnChangegetBSSLSlBDMData(BSSLdata.BSServiceLine,p,BSSLdata.BSServiceLine.WiproSlbdmidValueName)" [title]="BSSLdata.BSServiceLine.WiproSlbdmidValueName"
                            (blur)="BSSLbdmNameclose(BSSLdata.BSServiceLine,p,$event)" [disabled]="!BSSLdata.BSServiceLine.WiproServicelineidValue || (!BSSLdata.BSServiceLine.WiproPracticeId && BSSLdata.SlpracticeDD.length > 0) || (!BSSLdata.BSServiceLine.WiproSubpracticeid && BSSLdata.SlSubpracticeDD.length > 0) || disableOnRoleBSSL">
                          <span class="mdi mdi-magnify"></span>
                          <div
                            class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                            *ngIf="BSSLdata.SLSLBDMSwitchName">
                            <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                              <ul tabindex="0" class=" list-group sort-dropdown">
                                <li class="list-group-item no_pad "
                                  (keypress)="changeBSSLBDMData(item,BSSLdata.BSServiceLine,p)"
                                  (click)="changeBSSLBDMData(item,BSSLdata.BSServiceLine,p)"
                                  *ngFor="let item of BSSLdata.SlSLBDMDD">
                                  <label for="inti_name" class="float-left name mb-0">
                                    <span class="d-block list-name">{{item.Name}}</span>
                                    <!-- <span class="d-block sub-list">{{item.subtitle}}</span> -->
                                  </label>
                                </li>
                                <li class="d-block list-name no_pad"
                                  *ngIf="(BSSLdata.SlSLBDMDD).length == 0">
                                  No record found </li>
                                  <span class="db-search" (click)="openadvancetabsSearch(BSSLdata.BSServiceLine,'BSSLSLBDM',BSSLdata.SlSLBDMDD,BSSLdata.selectedSLBDM,BSSLdata.BSServiceLine.WiproSlbdmidValueName,p)">
                                      <button id="advanceBSSLSLBDMSearch{{p}}" role="option" tabindex="0"
                                      aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                                        <span class="mdi mdi-file-outline"></span> Advance look up
                                      </button>
                                    </span>
                              </ul>
                              </perfect-scrollbar>
                            </div>
                          </div>
                        </div>
  
                      </td>
                      <td [attr.data-label]="'% of TCV*'"  class="width10">
                        <div class="customized-input">
                          <label for="field1" class=""> </label>
                          <input id="field1" type="text" class="border-gray w-100 inputfixed-width " 
                          [name]="BSSLdata.PercTCVName" 
                          [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!BSSLdata.BSServiceLine.WiproPercentageOftcv && !BSSLdata.BSServiceLine.WiproDualCredit && businessSOlutionData[0].TCVCalculation)}" 
                          [(ngModel)]="BSSLdata.BSServiceLine.WiproPercentageOftcv" 
                          #slpercmod [decimalnumbersOnly]="acceptNegative" [oldValue]="slpercmod.value"
                           onpaste="return false;" ondrop="return false;" 
                           (blur)="OnBSPercTCVBlur(BSSLdata.BSServiceLine,slpercmod.value,p)" 
                          placeholder="00.00" 
                          [disabled]="(!businessSOlutionData[0].TCVCalculation) || (BSSLdata.BSServiceLine.WiproDualCredit != '') || disableOnRoleBSSL || (WTFlag && !BSSLdata.addedByDualCreditbtn)">
                        </div>
                      </td>
                      <td [attr.data-label]="'Est. SL TCV*'"  class="width10">
                        <div class="customized-input">
                          <label for="field1" class=""> </label>
                          <input id="field1" type="text" class="border-gray w-100 inputfixed-width" 
                          [name]="BSSLdata.SLTCVName" 
                          [ngClass]="{'width125' : service.Summary_window ,'orangeborder':((!BSSLdata.BSServiceLine.WiproEstsltcv && !businessSOlutionData[0].TCVCalculation) || (!BSSLdata.BSServiceLine.WiproEstsltcv && businessSOlutionData[0].TCVCalculation && BSSLdata.BSServiceLine.WiproDualCredit))}" 
                          [(ngModel)]="BSSLdata.BSServiceLine.WiproEstsltcv" 
                          #slsltcvmod [decimalnumbersOnly]="acceptNegative" [oldValue]="slsltcvmod.value"
                           onpaste="return false;"  
                          ondrop="return false;" (blur)="OnBSSLTCVBlur(BSSLdata.BSServiceLine,slsltcvmod.value,p)" 
                          placeholder="00.00" 
                          [disabled]="((businessSOlutionData[0].TCVCalculation) && (BSSLdata.BSServiceLine.WiproDualCredit == '')) || disableOnRoleBSSL || (WTFlag && !BSSLdata.addedByDualCreditbtn)">
                        </div>
                      </td>
                      <td [attr.data-label]="'Cloud'" class="customized-checkbox checkbox-center">
                        <mat-checkbox aria-label="select" [name]="BSSLdata.SLCloudName" [ngClass]="{'width125' : service.Summary_window ,'orangeborder checkbox-orange':(!BSSLdata.BSServiceLine.Cloud && BSSLdata.cloudFlag && !disableOnRoleBSSL && !BSSLdata.CloudDisabled)}" [(ngModel)]="BSSLdata.BSServiceLine.Cloud" [disabled]="BSSLdata.CloudDisabled || disableOnRoleBSSL" (click)="checkForBSSLCloud(BSSLdata.BSServiceLine,p,BSSLdata.CloudDisabled)">
                        </mat-checkbox>
                      </td>

                      <td class="" [attr.data-label]="'Pricing type*'">
                        <!-- Pricing type autocomplete starts here-->
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
  
                            <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input inputfixed-width-pt "
                            [name]="BSSLdata.SLPricingTypeName" autocomplete="off" type="text"
                                [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!BSSLdata.BSServiceLine.PricingTypeName)}"
                                [(ngModel)]="BSSLdata.BSServiceLine.PricingTypeName"
                                (ngModelChange)="OnChangegetBSSLPricingTypeData(BSSLdata.BSServiceLine,p,BSSLdata.BSServiceLine.PricingTypeName)"
                                placeholder="Search"
                                (click)="BSSLdata.SLPricingTypeSwitchName = true;OnChangegetBSSLPricingTypeData(BSSLdata.BSServiceLine,p,BSSLdata.BSServiceLine.PricingTypeName)"
                                [title]="BSSLdata.BSServiceLine.PricingTypeName"
                                (blur)="BSSLPricingTypeNameclose(BSSLdata.BSServiceLine,p,$event)"
                                [disabled]="disableOnRoleBSSL || (WTFlag && !BSSLdata.addedByDualCreditbtn) || disableonApproverDate">
                              <span class="mdi mdi-magnify"></span>
                          <div
                            class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                            *ngIf="BSSLdata.SLPricingTypeSwitchName">
                            <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                              <ul tabindex="0" class=" list-group sort-dropdown">
                                <li class="list-group-item no_pad "
                                (keypress)="changeBSSLPricingTypeData(item,BSSLdata.BSServiceLine,p)"
                                (click)="changeBSSLPricingTypeData(item,BSSLdata.BSServiceLine,p)"
                                *ngFor="let item of BSSLdata.SlPricingTypeDD">
                                 <label for="inti_name" class="float-left name mb-0">
                                    <span class="d-block list-name">{{item.Name}}</span>
                                    <!-- <span class="d-block sub-list">{{item.subtitle}}</span> -->
                                  </label>
                                </li>
                                <li class="d-block list-name no_pad"
                                  *ngIf="(BSSLdata.SlPricingTypeDD).length == 0">
                                  No record found </li>
                                  <span class="db-search"   (click)="openadvancetabsSearch(BSSLdata.BSServiceLine,'BSSLPricingType',BSSLdata.SlPricingTypeDD,BSSLdata.selectedSLPricingType,BSSLdata.BSServiceLine.PricingTypeName,p)">
                                    <button id="advanceBSSLPricingTypeSearch{{p}}" role="option" tabindex="0"
                                      aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                                        <span class="mdi mdi-file-outline"></span> Advance look up
                                      </button>
                                    </span>
                              </ul>
                              </perfect-scrollbar>
                            </div>
                          </div>
                        </div>
                        <!-- Pricing type autocomplete ends here-->

                        <!-- Select Pricing type dropdown  STARTS -->
                          <!-- <div class="customized-select mobile-select-box"
                          [ngClass]="{'disabled-control': disableOnRoleBSSL || (WTFlag && !BSSLdata.addedByDualCreditbtn)}">
                            <span class="caret color-azure"></span>
                            <select id="BSSLdata.SLPricingTypeName" role="listbox" [name]="BSSLdata.SLPricingTypeName"
                            [ngClass]="{'orangeborder': !BSSLdata.BSServiceLine.PricingTypeId}"
                              [(ngModel)]="BSSLdata.BSServiceLine.PricingTypeId"
                              [disabled]="disableOnRoleBSSL || (WTFlag && !BSSLdata.addedByDualCreditbtn)"
                              (change)="setpricingTypeSL(BSSLdata.BSServiceLine,p)" required>
                              <option hidden value="">Select</option>
                              <option *ngFor="let pricingType of pricingTypes" [hidden]="!IsIndiaSBU && pricingType.Id == 184450005" [disabled]= "!IsIndiaSBU && pricingType.Id == 184450005"
                                [value]="pricingType.Id">{{pricingType.Name}}</option>
                            </select>
                          </div>
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box ">
                            <mat-form-field class="col-12 no_pad float-left inputfixed-width-pt">
                              <mat-select  panelClass="Select-panel-class" class="select-focus mat-select" id="BSSLdata.SLPricingTypeName" role="listbox" [name]="BSSLdata.SLPricingTypeName" disableOptionCentering
                              [ngClass]="{'orangeborder': !BSSLdata.BSServiceLine.PricingTypeId}"
                              [(ngModel)]="BSSLdata.BSServiceLine.PricingTypeId"
                              [disabled]="disableOnRoleBSSL || (WTFlag && !BSSLdata.addedByDualCreditbtn)"
                              (selectionChange)="setpricingTypeSL(BSSLdata.BSServiceLine,p)" required>
                              <mat-option hidden value="">Select</mat-option>
                              <mat-option *ngFor="let pricingType of pricingTypes" [hidden]="!IsIndiaSBU && pricingType.Id == 184450005" [disabled]= "!IsIndiaSBU && pricingType.Id == 184450005"
                              [value]="pricingType.Id">{{pricingType.Name}}</mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div> -->
                          <!-- <p class="col-12 no_pad float-left validation-text" *ngIf="orderOverviewValidationValue.PricingTypeId">
                            Pricing type is mandatory.</p> -->
                        
                        <!-- Select Pricing type dropdown  ends here -->                          
                      </td>                      
  
                      <td [attr.data-label]="'Engagement model*'" >
           
                           <!-- updated mat select starts here -->
                           <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                            <mat-form-field class="col-12 no_pad float-left inputfixed-width">
                            <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select {{service.getSelectedClass(BSSLdata.BSServiceLine.WiproEngagementModel)}}"
                              role="listbox" [name]="BSSLdata.SLEngagementName" [title]="BSSLdata.BSServiceLine.WiproEngagementModelName"
                              [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!BSSLdata.BSServiceLine.WiproEngagementModel && !WTFlag)}"
                              [(ngModel)]="BSSLdata.BSServiceLine.WiproEngagementModel"
                              (selectionChange)="setEngagementModelName(BSSLdata.BSServiceLine,p)"
                              [disabled]="!BSSLdata.BSServiceLine.WiproServicelineidValue || disableOnRoleBSSL">
                              <mat-option value="">Select</mat-option>
                              <mat-option *ngFor="let engage of BSSLdata.EngagementModelDD" [value]="engage.Id">{{engage.Name}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                   <!-- updated mat select ends here -->
                     <!-- Mobile -select starts here -->
                     <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mobile-select-box no_pad">
                        <div class="customized-select" [ngClass]="{'disabled-control' : !BSSLdata.BSServiceLine.WiproServicelineidValue || disableOnRoleBSSL}">
                          <span class="caret color-azure"></span>
                          <select role="listbox" aria-required="true" [name]="BSSLdata.SLEngagementName" [title]="BSSLdata.BSServiceLine.WiproEngagementModelName"
                          [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!BSSLdata.BSServiceLine.WiproEngagementModel && !WTFlag)}"
                          [(ngModel)]="BSSLdata.BSServiceLine.WiproEngagementModel"
                          (change)="setEngagementModelName(BSSLdata.BSServiceLine,p)"
                          [disabled]="!BSSLdata.BSServiceLine.WiproServicelineidValue || disableOnRoleBSSL">
                            <option value="">Select </option>
                            <option *ngFor="let engage of BSSLdata.EngagementModelDD" [value]="engage.Id">{{engage.Name}}
                            </option>
                          </select>
                        </div>
                      </div>
                      <!-- Mobile -select end here -->
                        <!-- Select DROPDOWN STARTS -->
                      </td>
                      <td [attr.data-label]="'Dual credit'" >
  
                         <!-- updated mat select starts here -->
                         <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                          <mat-form-field class="col-12 no_pad float-left inputfixed-width ">
                            <mat-select disableOptionCentering panelClass="Select-panel-class" 
                              class="select-focus mat-select {{service.getSelectedClass(BSSLdata.BSServiceLine.WiproDualCredit)}}"
                              role="listbox" [name]="BSSLdata.SLDualCreditName" [ngClass]="{'width125' : service.Summary_window}"
                               [title]="BSSLdata.BSServiceLine.WiproDualCreditName"                              
                              [(ngModel)]="BSSLdata.BSServiceLine.WiproDualCredit" (selectionChange)="TCVChangeonDulaCredit(BSSLdata.BSServiceLine,p)"
                              [disabled]="(BSSLdata.BSServiceLine.WiproServicelineidValueName != CIS && BSSLdata.BSServiceLine.WiproServicelineidValueName != CRS) || disableOnRoleBSSL || WTFlag">
                              <mat-option value="">Select</mat-option>
                              <mat-option *ngFor="let dualCredit of BSDualCreditDD" [hidden]="!dualCredit.IsVisible" 
                              [disabled]="!dualCredit.IsVisible"
                              [value]="dualCredit.Id">{{dualCredit.Name}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                  <!-- updated mat select ends here -->
                    <!-- Mobile -select starts here -->
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mobile-select-box no_pad">
                        <div class="customized-select" [ngClass]="{'disabled-control' : (BSSLdata.BSServiceLine.WiproServicelineidValueName != CIS && BSSLdata.BSServiceLine.WiproServicelineidValueName != CRS) || disableOnRoleBSSL || WTFlag}">
                          <span class="caret color-azure"></span>
                          <select role="listbox" aria-required="true" [name]="BSSLdata.SLDualCreditName" [ngClass]="{'width125' : service.Summary_window}"
                          [title]="BSSLdata.BSServiceLine.WiproDualCreditName"                              
                         [(ngModel)]="BSSLdata.BSServiceLine.WiproDualCredit" (change)="TCVChangeonDulaCredit(BSSLdata.BSServiceLine,p)"
                         [disabled]="(BSSLdata.BSServiceLine.WiproServicelineidValueName != CIS && BSSLdata.BSServiceLine.WiproServicelineidValueName != CRS) || disableOnRoleBSSL || WTFlag">
                            <option value="">Select </option>
                            <option *ngFor="let dualCredit of BSDualCreditDD" [hidden]="!dualCredit.IsVisible" 
                            [disabled]="!dualCredit.IsVisible"
                            [value]="dualCredit.Id">{{dualCredit.Name}}
                            </option>
                          </select>
                        </div>
                      </div>
                      <!-- Mobile -select end here -->
  
                        <!-- Select DROPDOWN STARTS -->
                      </td>
                      <td class="no_pad display_flex mobile-align">
                          <button type="button" class="btn-none blue_circle_replay pad_left_0 cp mt5 commonActionBtn" aria-label="service"
                          matTooltip="service" (click)="navigatetoBSSLCloud(BSSLdata.BSServiceLine,p,BSSLdata.CloudDisabled)">
                          <span class="col-xs-12 nopad blue_circle_replay_img mdi  mdi-dots-horizontal"></span>
                        </button>
                        <button type="button" class="btn-none blue_circle_replay pad_left_0 cp mt5 commonActionBtn" *ngIf="!disableOnRoleBSSL && (!WTFlag || (WTFlag && BSSLdata.addedByDualCreditbtn))" aria-label="Delete"
                          matTooltip="Delete" (click)="deletBSSLValidation(BSSLdata.BSServiceLine,'serviceline',p)">
                          <span class="col-xs-12 nopad blue_circle_replay_img mdi  mdi-delete"></span>
                        </button>
                        <!-- (click)="openserviceline()" -->
                        <!-- <button class="btn-none float-right more-btn-mobile mr10 cp" role="button" title="more"
                          aria-label="more" tabindex="0" routerLink="/opportunity/servicelineadditionaldetails">
                          <span class="morepop mdi mdi-dots-vertical expand-btn"></span>
                        </button> -->
                      </td>
                      <!-- <td *ngIf="data.errortext" class="col-6 no_pad float-left validation-text">* Cloud details are mandatory for this combination of service line/ practice/ sub-practice.</td> -->
                    </tr>
  
                    <tr class="nodata_tr" *ngIf="BSSLDetails.length==0">
                         <td class="nodata_td" colSpan="12"> No records found </td>
                         </tr>
                    <!-- <tr  *ngIf="BSSLDetails.length==0">
                      </tr> -->
  
                  </tbody>
                </table>
              </div>
              <!-- Table ends here -->
            <!-- </perfect-scrollbar> -->
            </div>
          </mat-expansion-panel>
  
        </div>
        <!-- service lines panel ends here -->
      </div>
      <!-- service lines panel ends here -->
  
      <!-- IP panel starts here -->
      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left order-tab normal_table mb0 no_pad">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left pad-26 pad_t0 ip-tab">
          <mat-expansion-panel hideToggle="true" [expanded]="panelOpenState4" class="no_pad"
            (opened)="panelOpenState4 = true" (closed)="panelOpenState4 = false">
            <mat-expansion-panel-header class="min_height60">
              <div class="min_height60 col-12 no_pad">
                <div class="accord-heading col-12">
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 float-left no_pad"> 
                  <span
                    [ngClass]="panelOpenState4 ? 'mdi mdi-chevron-down chevron-right float-left':'mdi mdi-chevron-up chevron-right float-left'"></span>
                  <span class="accordian-title cardsHead col-6 no_pad">
                      IP</span>
                    </div>
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 float-right no_pad mobpad15 bot10 mobile-button-width" *ngIf="!disableOnRoleBSIp && !WTFlag">
                      <button aria-label="Add IP" type="button" (click)="addNewIP();$event.stopPropagation()"
                      class="primary-button h-40 std save-responsive-btn float-right pad_10" [disabled]="disableOnRoleBSIp || WTFlag">+ Add
                      IP</button>
                  </div>
                </div>
              </div>
            </mat-expansion-panel-header>
  
             <div class="col-12 no_pad float-left btop_withoutpadding">
              <!-- <perfect-scrollbar style="max-height:250px" class="z-ind-9"> -->
              <!-- Table starts here -->
              <div id="order-iptable" class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad scroll-tabs">
                <table class="table table-borderless  matfrm-wrap">
                  <thead>
                    <tr>
                      <th>IP*</th>
                      <th>Module*</th>
                      <th>Service line</th>
                      <th>Practice</th>
                      <th>SL BDM</th>
                      <th>Pricing type*</th>
                      <th>License value*</th>
                      <th>AMC value*</th>
                      <th>Cloud</th>
                      <th>Holmes BDM</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody>
  
                    <tr *ngFor="let Ipdata of IpDetails;let q=index">
                      <td class="display-none"></td>
                      <td [attr.data-label]="'IP*'" class="no_pad">
                        <!-- IP autocomplete starts here-->
                        <div
                          class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                            <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ContractingName"
                      class="label-form">Contracting country*</label>  -->
                                <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left h-40 label-input"
                                [name]="Ipdata.IpNmName" [title]="Ipdata.IP.IpName" autocomplete="off" type="text" [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!Ipdata.IP.IpName)}" [(ngModel)]="Ipdata.IP.IpName" placeholder="Search" (ngModelChange)="getIpNameData(Ipdata.IP,Ipdata.IP.IpName,q)"
                                (click)="Ipdata.IpNameSwitch = true;getIpNameData(Ipdata.IP,Ipdata.IP.IpName,q)" (blur)="IpNameclose(Ipdata.IP,q,$event)" [disabled]="disableOnRoleBSIp || WTFlag">
                              <span class="mdi mdi-magnify"></span>
                              <div
                                class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                                *ngIf="Ipdata.IpNameSwitch">
                                <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                                  <ul tabindex="0" class=" list-group sort-dropdown">
                                    <li id="Asd1" class="list-group-item no_pad " (keypress)="changeIpNameData(item,Ipdata.IP,q)"
                                      (click)="changeIpNameData(item,Ipdata.IP,q)"
                                      *ngFor="let item of Ipdata.IpNameDD">
                                      <label for="inti_name" class="float-left name mb-0">
                                        <span class="d-block list-name">{{item.name}}</span>
                                        <!-- <span class="d-block sub-list">{{item.subtitle}}</span> -->
                                      </label>
                                    </li>
                                    <li class="d-block list-name no_pad" *ngIf="(Ipdata.IpNameDD).length == 0">
                                      No record found </li>
                                      <span class="db-search" (click)="openadvancetabsSearch(Ipdata.IP,'BSIPIP',Ipdata.IpNameDD,Ipdata.selectedIP,Ipdata.IP.IpName,q)">
                                        <button id="advanceIPSearch{{q}}" role="option" tabindex="0"
                                        aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                                          <span class="mdi mdi-file-outline"></span> Advance look up
                                        </button>
                                      </span>
                                  </ul>
                              </perfect-scrollbar>
                            </div>
                          </div>
                        </div>
                        <!--IP autocomplete ends here-->
  
                      </td>
  
                      <td [attr.data-label]="'Module*'" class="no_pad">
                        <!-- module autocomplete starts here-->
                        <div
                          class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                            <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ContractingName"
                    class="label-form">Contracting country*</label>  -->
                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
                    [name]="Ipdata.IpModuleName" autocomplete="off" type="text" [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!Ipdata.IP.WiproModuleName && Ipdata.IP.IpName && Ipdata.IP.IpId && !Ipdata.ModuleDisabled)}" [(ngModel)]="Ipdata.IP.WiproModuleName" (ngModelChange)="getIpModuleData(Ipdata.IP,Ipdata.IP.WiproModuleName,q)"
                    placeholder="Search" [title]="Ipdata.IP.WiproModuleName" (click)="Ipdata.IpModuleNameSwitch = true;getIpModuleData(Ipdata.IP,Ipdata.IP.WiproModuleName,q)"
                    (blur)="IpModuleclose(Ipdata.IP,q,$event)" [disabled]="!Ipdata.IP.IpName || !Ipdata.IP.IpId || Ipdata.ModuleDisabled || disableOnRoleBSIp || WTFlag">
                  <span class="mdi mdi-magnify"></span>
                  <div
                    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                    *ngIf="Ipdata.IpModuleNameSwitch">
                    <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                      <ul tabindex="0" class=" list-group sort-dropdown">
                        <li class="list-group-item no_pad "
                          (keypress)="changeIpModuleData(item,Ipdata.IP,q)"
                          (click)="changeIpModuleData(item,Ipdata.IP,q)"
                          *ngFor="let item of Ipdata.IpModuleDD">
                          <label for="inti_name" class="float-left name mb-0">
                            <span class="d-block list-name">{{item.ModuleName}}</span>
                            <!-- <span class="d-block sub-list">{{item.subtitle}}</span> -->
                          </label>
                        </li>
                        <li class="d-block list-name no_pad"
                          *ngIf="(Ipdata.IpModuleDD).length == 0">
                          No record found </li>
                          <span class="db-search" (click)="openadvancetabsSearch(Ipdata.IP,'BSIPModule',Ipdata.IpModuleDD,Ipdata.selectedModule,Ipdata.IP.WiproModuleName,q)">
                            <button id="advanceIPModuleSearch{{q}}" role="option" tabindex="0"
                            aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                              <span class="mdi mdi-file-outline"></span> Advance look up
                            </button>
                          </span>
                      </ul>       
                              </perfect-scrollbar>
                            </div>
                          </div>
                        </div>
                        <!--module autocomplete ends here-->
  
                      </td>
                      <td [attr.data-label]="'Service line'">
                         <!-- updated mat select starts here -->
                         <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                          <mat-form-field class="col-12 no_pad float-left inputfixed-width-ip">
                            <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select {{service.getSelectedClass(Ipdata.IP.WiproServiceline)}}"
                              role="listbox" [name]="Ipdata.IpSLName" [title]="Ipdata.IP.WiproServicelineName"
                              [ngClass]="{'width125' : service.Summary_window}"
                              [(ngModel)]="Ipdata.IP.WiproServiceline" (selectionChange)="getIpPracticeData(Ipdata.IP,q)" [disabled]="disableOnRoleBSIp">
                              <mat-option value="">Select</mat-option>
                              <mat-option *ngFor="let IpSL of IpandServiceLinelDD" 
                              [hidden]="!IpSL.IsVisible"
                              [disabled]="!IpSL.IsVisible"
                              [value]="IpSL.SysGuid">{{IpSL.Name}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                 <!-- updated mat select ends here -->
                 <!-- Mobile -select starts here -->
                 <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mobile-select-box no_pad">
                    <div class="customized-select" [ngClass]="{'disabled-control' : disableOnRoleBSIp}">
                      <span class="caret color-azure"></span>
                      <select role="listbox" aria-required="true" [name]="Ipdata.IpSLName" [title]="Ipdata.IP.WiproServicelineName"
                      [ngClass]="{'width125' : service.Summary_window}"
                      [(ngModel)]="Ipdata.IP.WiproServiceline" (change)="getIpPracticeData(Ipdata.IP,q)" [disabled]="disableOnRoleBSIp">
                        <option value="">Select</option>
                        <option *ngFor="let IpSL of IpandServiceLinelDD" 
                        [hidden]="!IpSL.IsVisible"
                        [disabled]="!IpSL.IsVisible"
                        [value]="IpSL.SysGuid">{{IpSL.Name}}
                       </option>
                      </select>
                    </div>
                  </div>
                  <!-- Mobile -select end here -->
                        <!-- Select DROPDOWN STARTS -->
                      </td>
                      <td [attr.data-label]="'Practice'">
  
                        <!-- updated mat select starts here -->
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                          <mat-form-field class="col-12 no_pad float-left inputfixed-width-ip">
                            <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select {{service.getSelectedClass(Ipdata.IP.WiproPractice)}}" role="listbox"
                              [name]="Ipdata.IpPracticeName" [title]="Ipdata.IP.WiproPracticeName"
                              [ngClass]="{'width125' : service.Summary_window}"
                              [(ngModel)]="Ipdata.IP.WiproPractice" (selectionChange)="onIPPracticeChange(Ipdata.IP,q)"
                              [disabled]="!Ipdata.IP.WiproServiceline || disableOnRoleBSIp || (Ipdata.IP.WiproServiceline && checkActivePractice(Ipdata.IppracticeDD) == 0)">
                              <mat-option value="">Select</mat-option>
                              <mat-option *ngFor="let IpPractice of Ipdata.IppracticeDD" 
                              [hidden]="IpPractice.Name == ACS || !IpPractice.IsVisible"
                              [disabled]="IpPractice.Name == ACS || !IpPractice.IsVisible"
                              [value]="IpPractice.SysGuid">{{IpPractice.Name}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                <!-- updated mat select ends here -->
                    <!-- Mobile -select starts here -->
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mobile-select-box no_pad">
                        <div class="customized-select" [ngClass]="{'disabled-control' : !Ipdata.IP.WiproServiceline || disableOnRoleBSIp || (Ipdata.IP.WiproServiceline && checkActivePractice(Ipdata.IppracticeDD) == 0)}">
                          <span class="caret color-azure"></span>
                          <select role="listbox" aria-required="true"  [name]="Ipdata.IpPracticeName" [title]="Ipdata.IP.WiproPracticeName"
                          [ngClass]="{'width125' : service.Summary_window}"
                          [(ngModel)]="Ipdata.IP.WiproPractice" (change)="onIPPracticeChange(Ipdata.IP,q)"
                          [disabled]="!Ipdata.IP.WiproServiceline || disableOnRoleBSIp || (Ipdata.IP.WiproServiceline && checkActivePractice(Ipdata.IppracticeDD) == 0)">
                            <option value="">Select</option>
                            <option *ngFor="let IpPractice of Ipdata.IppracticeDD" 
                            [hidden]="IpPractice.Name == ACS || !IpPractice.IsVisible"
                            [disabled]="IpPractice.Name == ACS || !IpPractice.IsVisible"
                            [value]="IpPractice.SysGuid">{{IpPractice.Name}}
                           </option>
                          </select>
                        </div>
                      </div>
                      <!-- Mobile -select end here -->
                        <!-- Select DROPDOWN STARTS -->
                      </td>
                      <td [attr.data-label]="'SL BDM'" class="no_pad">
                        <!-- slbdm2 autocomplete starts here-->
                        <div
                          class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                            <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ContractingName"
                    class="label-form">Contracting country*</label>  -->
                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
                    [name]="Ipdata.IpSLBDmName" autocomplete="off" type="text"     [ngClass]="{'width125' : service.Summary_window}" [(ngModel)]="Ipdata.IP.WiproSlbdmName" (ngModelChange)="OnChangegetBSIPSlBDMData(Ipdata.IP,q,Ipdata.IP.WiproSlbdmName)"
                    placeholder="Search" [title]="Ipdata.IP.WiproSlbdmName" (click)="Ipdata.IpSLBDMNameSwitch = true;OnChangegetBSIPSlBDMData(Ipdata.IP,q,Ipdata.IP.WiproSlbdmName)"
                    (blur)="IpSlbdmclose(Ipdata.IP,q,$event)" [disabled]="!Ipdata.IP.WiproServiceline || (!Ipdata.IP.WiproPractice && Ipdata.IppracticeDD.length > 0) || disableOnRoleBSIp">
                  <span class="mdi mdi-magnify"></span>
                  <div
                    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                    *ngIf="Ipdata.IpSLBDMNameSwitch">
                    <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                      <ul tabindex="0" class=" list-group sort-dropdown">
                        <li class="list-group-item no_pad "
                          (keypress)="changeIpSlBDMData(item,Ipdata.IP,q)"
                          (click)="changeIpSlBDMData(item,Ipdata.IP,q)"
                          *ngFor="let item of Ipdata.IpslBDMDD">
                          <label for="inti_name" class="float-left name mb-0">
                            <span class="d-block list-name">{{item.Name}}</span>
                            <!-- <span class="d-block sub-list">{{item.subtitle}}</span> -->
                          </label>
                        </li>
                        <li class="d-block list-name no_pad"
                          *ngIf="(Ipdata.IpslBDMDD).length == 0">
                          No record found </li>
                          <span class="db-search" (click)="openadvancetabsSearch(Ipdata.IP,'BSIPSLBDM',Ipdata.IpslBDMDD,Ipdata.selectedIPSLBDM,Ipdata.IP.WiproSlbdmName,q)">
                            <button id="advanceIPSLBDMSearch{{q}}" role="option" tabindex="0"
                            aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                              <span class="mdi mdi-file-outline"></span> Advance look up
                            </button>
                          </span>
                      </ul>
                              </perfect-scrollbar>
                            </div>
                          </div>
                        </div>
                        <!--slbdm2 autocomplete ends here-->
                      </td>

                      <td class="" [attr.data-label]="'Pricing type*'">
                        <!-- Pricing type autocomplete starts here-->
                        <div
                          class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                            <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ContractingName"
                    class="label-form">Contracting country*</label>  -->
                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
                    [name]="Ipdata.IpPricingTypeName" autocomplete="off" type="text"
                    [ngClass]="{'width125' : service.Summary_window,'orangeborder':!Ipdata.IP.PricingTypeName}" [(ngModel)]="Ipdata.IP.PricingTypeName"
                    (ngModelChange)="OnChangegetBSIPPricingTypeData(Ipdata.IP,q,Ipdata.IP.PricingTypeName)"
                    placeholder="Search" [title]="Ipdata.IP.PricingTypeName"
                    (click)="Ipdata.IPPricingTypeSwitchName = true;OnChangegetBSIPPricingTypeData(Ipdata.IP,q,Ipdata.IP.PricingTypeName)"
                    (blur)="BSIPPricingTypeNameclose(Ipdata.IP,q,$event)"
                    [disabled]="disableOnRoleBSIp || WTFlag || disableonApproverDate">
                  <span class="mdi mdi-magnify"></span>
                  <div
                    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                    *ngIf="Ipdata.IPPricingTypeSwitchName">
                    <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                      <ul tabindex="0" class=" list-group sort-dropdown">
                        <li class="list-group-item no_pad "
                        (keypress)="changeBSIPPricingTypeData(item,Ipdata.IP,q)"
                        (click)="changeBSIPPricingTypeData(item,Ipdata.IP,q)"
                        *ngFor="let item of Ipdata.IPPricingTypeDD">
                          <label for="inti_name" class="float-left name mb-0">
                            <span class="d-block list-name">{{item.Name}}</span>
                            <!-- <span class="d-block sub-list">{{item.subtitle}}</span> -->
                          </label>
                        </li>
                        <li class="d-block list-name no_pad"
                          *ngIf="(Ipdata.IPPricingTypeDD).length == 0">
                          No record found </li>
                          <span class="db-search" (click)="openadvancetabsSearch(Ipdata.IP,'BSIPPricingType',Ipdata.IPPricingTypeDD,Ipdata.selectedIPPricingType,Ipdata.IP.PricingTypeName,q)">
                            <button id="advanceBSIPPricingTypeSearch{{q}}" role="option" tabindex="0"
                            aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                              <span class="mdi mdi-file-outline"></span> Advance look up
                            </button>
                          </span>
                      </ul>
                              </perfect-scrollbar>
                            </div>
                          </div>
                        </div>
                        <!--Pricing type autocomplete ends here-->

                        <!-- Select Pricing type dropdown  STARTS -->
                          <!-- <div class="customized-select mobile-select-box"
                          [ngClass]="{'disabled-control': disableOnRoleBSIp || WTFlag}">
                            <span class="caret color-azure"></span>
                            <select id="Ipdata.IpPricingTypeName" role="listbox" [name]="Ipdata.IpPricingTypeName"
                            [ngClass]="{'orangeborder':!Ipdata.IP.PricingTypeId }"
                              [(ngModel)]="Ipdata.IP.PricingTypeId"
                              [disabled]="disableOnRoleBSIp || WTFlag"
                              (change)="setpricingTypeIP(Ipdata.IP,q)" required>
                              <option hidden value="">Select</option>
                              <option *ngFor="let pricingType of pricingTypes" [hidden]="!IsIndiaSBU && pricingType.Id == 184450005" [disabled]= "!IsIndiaSBU && pricingType.Id == 184450005"
                                [value]="pricingType.Id">{{pricingType.Name}}</option>
                            </select>
                          </div>
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box ">
                            <mat-form-field class="col-12 no_pad float-left inputfixed-width-pt">
                              <mat-select  panelClass="Select-panel-class" class="select-focus mat-select" id="Ipdata.IpPricingTypeName" role="listbox" [name]="Ipdata.IpPricingTypeName" disableOptionCentering
                              [ngClass]="{'orangeborder':!Ipdata.IP.PricingTypeId }"
                              [(ngModel)]="Ipdata.IP.PricingTypeId"
                              [disabled]="disableOnRoleBSIp || WTFlag"
                              (selectionChange)="setpricingTypeIP(Ipdata.IP,q)" required>
                              <mat-option hidden value="">Select</mat-option>
                              <mat-option *ngFor="let pricingType of pricingTypes" [hidden]="!IsIndiaSBU && pricingType.Id == 184450005" [disabled]= "!IsIndiaSBU && pricingType.Id == 184450005"
                              [value]="pricingType.Id">{{pricingType.Name}}</mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div> -->
                        <!-- Select Pricing type dropdown  ends here -->                          
                      </td>                      

                      <td [attr.data-label]="'License value*'" class="width10">
                        <div class="customized-input">
                          <label for="license" class=""> </label>
                          <input id="license" type="text" class="border-gray w-100" [name]="Ipdata.IpLValueName" [ngClass]="{'width125' : service.Summary_window,'orangeborder':(!Ipdata.IP.WiproLicenseValue && !Ipdata.IP.WiproAmcvalue)}" 
                          [(ngModel)]="Ipdata.IP.WiproLicenseValue" 
                          #iplvmod [decimalnumbersOnly]="acceptNegative" [oldValue]="iplvmod.value"
                          (blur)="sumIpTCVLV(Ipdata.IP,iplvmod.value,q)" onpaste="return false;"  ondrop="return false;" placeholder="00.00" [disabled]="disableOnRoleBSIp || WTFlag">
                        </div>
                      </td>
                      <td [attr.data-label]="'AMC value*'" class="width10">
                        <div class="customized-input">
                          <label for="amc" class=""> </label>
                          <input id="amc" type="text" class="border-gray w-100" [name]="Ipdata.IpAMCValueName" [ngClass]="{'width125' : service.Summary_window,'orangeborder':(!Ipdata.IP.WiproLicenseValue && !Ipdata.IP.WiproAmcvalue)}" 
                          [(ngModel)]="Ipdata.IP.WiproAmcvalue" 
                          #ipamcmod [decimalnumbersOnly]="acceptNegative" [oldValue]="ipamcmod.value"
                          (blur)="sumIpTCVAMC(Ipdata.IP,ipamcmod.value,q)" placeholder="00.00" onpaste="return false;"  ondrop="return false;" [disabled]="disableOnRoleBSIp || WTFlag">
                        </div>
                      </td>
                      <td [attr.data-label]="'Cloud'" class="customized-checkbox checkbox-center">
                        <mat-checkbox aria-label="select" [name]="Ipdata.IpCloudName" [(ngModel)]="Ipdata.IP.WiproCloud" [disabled]="Ipdata.CloudDisabled || disableOnRoleBSIp" (click)="checkForCloud(Ipdata.IP,q,Ipdata.CloudDisabled)">
                        </mat-checkbox>
                      </td>
                      <!--<td class="customized-checkbox">
                        <mat-checkbox aria-label="select" [name]="Ipdata.IpAcceptIpName" [(ngModel)]="Ipdata.IP.AcceptIpUI" [disabled]="Ipdata.AcceptIpDisable || disableOnRoleBSIp">
                        </mat-checkbox>
                      </td>-->
  
                      <td [attr.data-label]="'Holmes BDM'" class="no_pad">
                          <!-- Holmes BDM autocomplete starts here-->
                          <div
                            class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                              <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ContractingName"
                        class="label-form">Contracting country*</label>  -->
                        <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
                        [name]="Ipdata.IpHolmesBDMName" autocomplete="off" type="text" [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!Ipdata.IP.WiproHolmesbdmName && !Ipdata.HolmesDisable)}" [title]="Ipdata.IP.WiproHolmesbdmName" [(ngModel)]="Ipdata.IP.WiproHolmesbdmName" [disabled]="!Ipdata.IP.IpName || !Ipdata.IP.IpId || Ipdata.HolmesDisable || disableOnRoleBSIp" placeholder="Search" (ngModelChange)="getIpHolmesData(Ipdata.IP,Ipdata.IP.WiproHolmesbdmName,q)"
                        (click)="Ipdata.IpHolmesbdmNameSwitch = true;getIpHolmesData(Ipdata.IP,Ipdata.IP.WiproHolmesbdmName,q)" (blur)="IpHolmesBDMclose(Ipdata.IP,q,$event)">
                      <span class="mdi mdi-magnify"></span>
                      <div
                        class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                        *ngIf="Ipdata.IpHolmesbdmNameSwitch">
                        <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                          <ul tabindex="0" class=" list-group sort-dropdown">
                            <li class="list-group-item no_pad " (keypress)="changeIpHolmesBDMData(item,Ipdata.IP,q)"
                              (click)="changeIpHolmesBDMData(item,Ipdata.IP,q)"
                              *ngFor="let item of Ipdata.IpHolmesDD">
                              <label for="inti_name" class="float-left name mb-0">
                                <span class="d-block list-name">{{item.Name}}</span>
                                <!-- <span class="d-block sub-list">{{item.subtitle}}</span> -->
                              </label>
                            </li>
                            <li class="d-block list-name no_pad" *ngIf="(Ipdata.IpHolmesDD).length == 0">
                              No record found </li>
                              <span class="db-search" (click)="openadvancetabsSearch(Ipdata.IP,'BSIPHolmesBDM',Ipdata.IpHolmesDD,Ipdata.selectedHomesBDM,Ipdata.IP.WiproHolmesbdmName,q)">
                                <button id="advanceIPHolmesBDmSearch{{q}}" role="option" tabindex="0"
                                aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                                  <span class="mdi mdi-file-outline"></span> Advance look up
                                </button>
                              </span>
                          </ul>
                                </perfect-scrollbar>
                              </div>
                            </div>
                          </div>
                          <!--Holmes BDM autocomplete ends here-->
  
                        </td>
  
                      <td class="no_pad display_flex mobile-align">
                          <!-- <button class="btn-none blue_circle_replay pad_left_0 cp commonActionBtn" aria-label="view"
                          matTooltip="view">
                          <span class="col-xs-12 nopad blue_circle_replay_img mdi mdi-eye"></span>
                        </button> -->
                        <button type="button" class="btn-none blue_circle_replay pad_left_0 cp mt5 commonActionBtn" aria-label="view"
                        matTooltip="view" (click)="navigatetoIPCloud(Ipdata.IP,q,Ipdata.CloudDisabled)">
                        <span class="col-xs-12 nopad blue_circle_replay_img mdi mdi-dots-horizontal"></span>
                      </button>
                        <button type="button" class="btn-none blue_circle_replay pad_left_0 cp mt5 commonActionBtn" *ngIf="!disableOnRoleBSIp && !WTFlag" aria-label="Delete"
                          matTooltip="Delete" (click)="deletBSIpValidation(Ipdata.IP,'ip',q)">
                          <span class="col-xs-12 nopad blue_circle_replay_img mdi  mdi-delete"></span>
                        </button>
                        <!-- (click)="openip()" -->
                        <!-- <button class="btn-none float-right more-btn-mobile mr10 cp" role="button" title="more"
                           aria-label="more" tabindex="0"  routerLink="/opportunity/ipadditionaldetails">
                          <span class="morepop mdi mdi-dots-vertical expand-btn"></span>
                        </button> -->
                      </td>
                    </tr>
                    <tr class="nodata_tr" *ngIf="IpDetails.length==0">
                        <td class="nodata_td" colSpan="12"> No records found </td>
                        </tr>
                  </tbody>
                </table>
              </div>
              <!-- Table ends here -->
              <!-- </perfect-scrollbar> -->
            </div>
          </mat-expansion-panel>
  
        </div>
      </div>
      <!-- IP panel ends here -->
  
      <!-- Solution panel starts here -->
      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left order-tab normal_table mb0 no_pad">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left pad-26 pad_t0 solution-tab ">
          <mat-expansion-panel hideToggle="true" [expanded]="panelOpenState5" class="no_pad"
            (opened)="panelOpenState5 = true" (closed)="panelOpenState5 = false">
            <mat-expansion-panel-header class="min_height60">
              <div class="min_height60 col-12 no_pad">
                <div class="accord-heading col-12">
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 float-left no_pad"> 
                  <span
                    [ngClass]="panelOpenState5 ? 'mdi mdi-chevron-down chevron-right float-left':'mdi mdi-chevron-up chevron-right float-left'"></span>
                  <span class="accordian-title cardsHead col-6 no_pad">
                      Solution</span>
                    </div>
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 float-right no_pad mobpad15 bot10 mobile-button-width" *ngIf="!disableOnRoleBSSolution">
                    <button aria-label="Add solution" type="button" (click)="addsolution();$event.stopPropagation()"
                    class="primary-button h-40 std save-responsive-btn float-right pad_10" [disabled]="disableOnRoleBSSolution">+ Add
                    solution</button>
                  </div>
                </div>
              </div>
            </mat-expansion-panel-header>
  
             <div class="col-12 no_pad float-left btop_withoutpadding">
             <!-- <perfect-scrollbar style="max-height:250px" class="z-ind-9"> -->
              <!-- Table starts here -->
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad scroll-tabs">
                <table class="table table-borderless matfrm-wrap">
                  <thead>
                    <tr>
                      <!-- <th class="customized-checkbox">
                        <mat-checkbox aria-label="select all" name="checkbox" (change)="selectAllsol()" [(ngModel)]="selectedAllsol">
                        </mat-checkbox>
                      </th> -->
                      <th>Type*</th>
                      <th>Name*</th>
                      <th>Owner</th>
                      <th>%</th>
                      <th>% of TCV*</th>
                      <th>Solution value*</th>
                      <th>Solution BDM</th>
                      <th>Influence type</th>
                      <th>Service type</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody *ngFor="let solData of SolutionDetails;let j =index">
  
                    <tr>
                      <td class="display-none"></td>
                      <!-- <td class="customized-checkbox">
                        <mat-checkbox aria-label="select" name="checkbox" (change)="checkIfAllSelectedsol(data)"
                          [(ngModel)]="data.isCheccked">
                        </mat-checkbox>
                      </td> -->
                      <td [attr.data-label]="'Type*'">
           
                                   <!-- updated mat select starts here -->
                                   <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                                    <mat-form-field class="col-12 no_pad float-left">
                                      <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select {{service.getSelectedClass(solData.solutions.WiproType)}}"
                                        role="listbox" [name]="solData.solutionTypeName" [title]="solData.solutions.WiproTypeName"
                                        [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!solData.solutions.WiproType)}"
                                        [(ngModel)]="solData.solutions.WiproType" (selectionChange)="getnamearray(solData.solutions,j)"
                                        [disabled]="disableOnRoleBSSolution">
                                        <mat-option hidden disabled value="">Select</mat-option>
                                        <mat-option *ngFor="let type of solutionTypeDD" [value]="type.Id">{{type.Name}}
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div>
                                <!-- updated mat select ends here -->
                                <!-- Mobile -select starts here -->
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mobile-select-box no_pad">
                                  <div class="customized-select" [ngClass]="{'disabled-control' : disableOnRoleBSSolution}">
                                    <span class="caret color-azure"></span>
                                    <select role="listbox" aria-required="true" [name]="solData.solutionTypeName" [title]="solData.solutions.WiproTypeName"
                                    [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!solData.solutions.WiproType)}"
                                    [(ngModel)]="solData.solutions.WiproType" (change)="getnamearray(solData.solutions,j)"
                                    [disabled]="disableOnRoleBSSolution">
                                      <option hidden disabled value="">Select</option>
                                      <option *ngFor="let type of solutionTypeDD" [value]="type.Id">{{type.Name}}
                                      </option>
                                    </select>
                                  </div>
                                </div>
                                <!-- Mobile -select end here -->
                                <!-- Select DROPDOWN STARTS -->
                      </td>
                      <td [attr.data-label]="'Name*'" class="no_pad">
                        <!-- name autocomplete starts here-->
                        <div
                          class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                            <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ContractingName"
                    class="label-form">Contracting country*</label>  -->
                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
                    [name]="solData.solutionNmName" autocomplete="off" type="text" [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!solData.solutions.WiproAccountname)}" [(ngModel)]="solData.solutions.WiproAccountname" (ngModelChange)="getnameArrayDataonType(solData.solutions,j,solData.solutions.WiproAccountname)"
                    placeholder="Search" [title]="solData.solutions.WiproAccountname" (click)="solData.solNameSwitch = true;getnameArrayDataonType(solData.solutions,j,solData.solutions.WiproAccountname)"
                    (blur)="solNameclose(solData.solutions,j,$event)" [disabled]="!solData.solutions.WiproType || disableOnRoleBSSolution">
                  <span class="mdi mdi-magnify"></span>
                  <div
                    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                    *ngIf="solData.solNameSwitch">
                    <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                      <ul tabindex="0" class=" list-group sort-dropdown">
                        <li class="list-group-item no_pad "
                          (keypress)="appendsolutionname(item, solData.solutions, j)"
                          (click)="appendsolutionname(item, solData.solutions, j)"
                          *ngFor="let item of solData.nameDD">
                          <label for="inti_name" class="float-left name mb-0">
                        <span class="d-block list-name">{{item.AccountName}}</span>
                            <!-- <span class="d-block sub-list">{{item.Name}}</span> -->
                              </label>
                        </li>
                        <li class="d-block list-name no_pad"
                          *ngIf="(solData.nameDD).length == 0">
                          No record found </li>
                          <span class="db-search" (click)="openadvancetabsSearch(solData.solutions,'BSSolutionName',solData.nameDD,solData.selectedSolName,solData.solutions.WiproAccountname,j)">
                            <button id="advanceSolutionNameSearch{{j}}" role="option" tabindex="0"
                            aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                              <span class="mdi mdi-file-outline"></span> Advance look up
                            </button>
                          </span>
                      </ul>
                              </perfect-scrollbar>
                            </div>
                          </div>
                        </div>
                        <!--name autocomplete ends here-->
  
                      </td>
  
                      <td [attr.data-label]="'Owner'" class="no_pad">
                        <!-- owner autocomplete starts here-->
                        <div
                          class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                            <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ContractingName"
                    class="label-form">Contracting country*</label>  -->
                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
                    [name]="solData.solutionOwnerName" autocomplete="off" type="text"
                    [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!solData.solutions.OwnerIdValueName && solData.solutions.WiproType && solData.solutions.WiproType != '184450001')}"
                    [title]="solData.solutions.OwnerIdValueName"
                    [(ngModel)]="solData.solutions.OwnerIdValueName" 
                    (ngModelChange)="getOwnerArray(solData.solutions,j,solData.solutions.OwnerIdValueName)"
                    placeholder="Search"
                    (click)="solData.solOwnerSwitch = true;getOwnerArray(solData.solutions,j,solData.solutions.OwnerIdValueName)"
                    (blur)="solOwnerclose(solData.solutions,j,$event)"
                    [disabled]="!solData.solutions.WiproAccountname || disableOnRoleBSSolution ||solData.solutions.WiproType == '184450001'">
                  <span class="mdi mdi-magnify"></span>
                 
              <div
              class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
              *ngIf="solData.solOwnerSwitch">
              <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                <ul tabindex="0" class=" list-group sort-dropdown">
                  <li class="list-group-item no_pad "
                    (keypress)="appendOwnername(item, solData.solutions, j)"
                    (click)="appendOwnername(item, solData.solutions, j)"
                    *ngFor="let item of solData.ownerDD">
                    <label for="inti_name" class="float-left name mb-0">
                      <span class="d-block list-name">{{item.Name}}</span>
                      <!-- <span class="d-block sub-list">{{item.Name}}</span> -->
                    </label>
                  </li>
                  <li class="d-block list-name no_pad" *ngIf="(solData.ownerDD).length == 0">
                    No record found </li>
                  <span class="db-search"
                    (click)="openadvancetabsSearch(solData.solutions,'BSSolutionOwnerName',solData.ownerDD,solData.selectedOwnerName,solData.solutions.OwnerIdValueName,j)">
                    <button id="advanceSolutionOwnerNameSearch{{j}}" role="option" tabindex="0"
                      aria-disabled="false" aria-label="Advance look up" type="button" class="button-search">
                      <span class="mdi mdi-file-outline"></span> Advance look up
                    </button>
                  </span>
                </ul>
              </perfect-scrollbar>
            </div>
            
                          </div>
                        </div>
                        <!--owner autocomplete ends here-->
  
                      </td>
                      <td [attr.data-label]="'%'" class="customized-checkbox">
                        <mat-checkbox aria-label="select" [name]="solData.solutionPerName" [(ngModel)]="solData.solutions.WiproPercentage" [disabled]="disableOnRoleBSSolution">
                        </mat-checkbox>
                      </td>
                      <td [attr.data-label]="'% of TCV*'" class="width10">
                        <div class="customized-input">
                          <!-- <label [for]="solData.solutionTCVName" class=""> </label> -->
                          <input type="text" class="border-gray w-100"  [name]="solData.solutionTCVName" [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!solData.solutions.WiproPercentageOfTCV && solData.solutions.WiproPercentage)}" 
                          [(ngModel)]="solData.solutions.WiproPercentageOfTCV" 
                          #solpercmod [decimalnumbersOnly]="acceptNegative" [oldValue]="solpercmod.value"
                          placeholder="00.00" onpaste="return false;" ondrop="return false;" 
                          (blur)="checkTCVPercBlur(solData.solutions,solpercmod.value,j)" [disabled]='solData.solutions.WiproPercentage == false || disableOnRoleBSSolution'>
                        </div>
                      </td>
                      <td [attr.data-label]="'Solution value*'" class="width10">
                        <div class="customized-input">
                          <label for="solval" class=""> </label>
                          <input id="solval" type="text" class="border-gray w-100"  [name]="solData.solutionValueName" [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!solData.solutions.WiproValue && !solData.solutions.WiproPercentage)}" 
                          [(ngModel)]="solData.solutions.WiproValue" 
                          #solvalmod [decimalnumbersOnly]="acceptNegative" [oldValue]="solvalmod.value"
                          onpaste="return false;"  ondrop="return false;" 
                          (blur)="checkSolValueBlur(solData.solutions,solvalmod.value,j)" placeholder="00.00" [disabled]='solData.solutions.WiproPercentage == true || disableOnRoleBSSolution'>
                        </div>
                      </td>
                      <td [attr.data-label]="'Solution BDM'" class="no_pad">
                        <!-- solbdm autocomplete starts here-->
                        <div
                          class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                            <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ContractingName"
                    class="label-form">Contracting country*</label>  -->
                    <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
                    [name]="solData.solutionBDMName" autocomplete="off" type="text" [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!solData.solutions.WiproSolutionBDMName && solData.solutions.WiproType == '184450001')}" [(ngModel)]="solData.solutions.WiproSolutionBDMName" (ngModelChange)="getsolutionBDMArray(solData.solutions,j,solData.solutions.WiproSolutionBDMName)"
                    placeholder="Search" [title]="solData.solutions.WiproSolutionBDMName" (click)="solData.solbdmNameSwitch = true;getsolutionBDMArray(solData.solutions,j,solData.solutions.WiproSolutionBDMName)"
                    (blur)="solutionBDMclose(solData.solutions,j,$event)" [disabled]="solData.solutions.WiproType != '184450001' || !solData.solutions.WiproAccountname || !solData.solutions.WiproAccountNameValue || disableOnRoleBSSolution">
                  <span class="mdi mdi-magnify"></span>
                  <div
                    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                    *ngIf="solData.solbdmNameSwitch">
                    <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                      <ul tabindex="0" class=" list-group sort-dropdown">
                        <li class="list-group-item no_pad "
                          (keypress)="appendsolutionBDM(item,solData.solutions,j)"
                          (click)="appendsolutionBDM(item,solData.solutions,j)"
                          *ngFor="let item of solData.solutionBDMDD">
                          <label for="inti_name" class="float-left name mb-0">
                            <span class="d-block list-name">{{item.Name}}</span>
                            <!-- <span class="d-block sub-list">{{item.subtitle}}</span> -->
                          </label>
                        </li>
                        <li class="d-block list-name no_pad"
                          *ngIf="(solData.solutionBDMDD).length == 0">
                          No record found </li>
                          <span class="db-search" (click)="openadvancetabsSearch(solData.solutions,'BSIPSolutionBDM',solData.solutionBDMDD,solData.selectedSolBDM,solData.solutions.WiproSolutionBDMName,j)">
                            <button id="advanceSolutionBDMSearch{{j}}" role="option" tabindex="0"
                            aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                              <span class="mdi mdi-file-outline"></span> Advance look up
                            </button>
                          </span>
                      </ul>
                              </perfect-scrollbar>
                            </div>
                          </div>
                        </div>
                        <!--solbdm autocomplete ends here-->
                      </td>
                      <td [attr.data-label]="'Influence type'">

                          <!-- updated mat select starts here -->
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                            <mat-form-field class="col-12 no_pad float-left">
                              <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select {{service.getSelectedClass(solData.solutions.WiproInfluenceType)}}" role="listbox"
                                [name]="solData.solutionInfName" [title]="solData.solutions.WiproInfluenceTypeName"
                                [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!solData.solutions.WiproInfluenceType && solData.solutions.WiproType && solData.solutions.WiproType != '184450001')}"
                                [(ngModel)]="solData.solutions.WiproInfluenceType"
                                [disabled]="solData.solutions.WiproType == '184450001' || !solData.solutions.WiproType || disableOnRoleBSSolution"
                                (selectionChange)="resetServiceType(solData.solutions,j)">
                                <mat-option hidden disabled value="">Select</mat-option>
                                <mat-option *ngFor="let Inf of InfluenceTypeDD" 
                                [hidden]="!Inf.IsVisible"
                                [disabled]="!Inf.IsVisible"
                                [value]="Inf.Id">{{Inf.Name}}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                      <!-- updated mat select ends here -->
                      <!-- Mobile -select starts here -->
                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mobile-select-box no_pad">
                          <div class="customized-select" [ngClass]="{'disabled-control' : solData.solutions.WiproType == '184450001' || !solData.solutions.WiproType || disableOnRoleBSSolution}">
                            <span class="caret color-azure"></span>
                            <select role="listbox" aria-required="true" [name]="solData.solutionInfName" [title]="solData.solutions.WiproInfluenceTypeName"
                            [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!solData.solutions.WiproInfluenceType && solData.solutions.WiproType && solData.solutions.WiproType != '184450001')}"
                            [(ngModel)]="solData.solutions.WiproInfluenceType"
                            [disabled]="solData.solutions.WiproType == '184450001' || !solData.solutions.WiproType || disableOnRoleBSSolution"
                            (change)="resetServiceType(solData.solutions,j)">
                              <option hidden disabled value="">Select</option>
                              <option *ngFor="let Inf of InfluenceTypeDD" 
                              [hidden]="!Inf.IsVisible"
                              [disabled]="!Inf.IsVisible"
                              [value]="Inf.Id">{{Inf.Name}}
                              </option>
                            </select>
                          </div>
                        </div>
                        <!-- Mobile -select end here -->
                          <!-- Select DROPDOWN STARTS -->
                        </td>
                        <td [attr.data-label]="'Service type'">
             
                             <!-- updated mat select starts here -->
                             <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                              <mat-form-field class="col-12 no_pad float-left">
                                <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select {{service.getSelectedClass(solData.solutions.WiproServiceType)}}"
                                role="listbox" [name]="solData.solutionSTName"
                                [title]="solData.solutions.WiproServiceTypeName"                                  
                                  [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!solData.solutions.WiproServiceType && solData.solutions.WiproType && solData.solutions.WiproType != '184450001' && solData.solutions.WiproInfluenceType && solData.solutions.WiproInfluenceType != '184450001')}"
                                  [(ngModel)]="solData.solutions.WiproServiceType"
                                  (selectionChange)="setServiceType(solData.solutions,j)"
                                  [disabled]="solData.solutions.WiproType == '184450001' || !solData.solutions.WiproType || solData.solutions.WiproInfluenceType == '184450001' || disableOnRoleBSSolution || !solData.solutions.WiproInfluenceType">
                                  <mat-option hidden disabled value="">Select</mat-option>
                                  <mat-option *ngFor="let ST of serviceTypeDD" [value]="ST.Id">{{ST.Name}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                      <!-- updated mat select ends here -->
                      <!-- Mobile -select starts here -->
                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mobile-select-box no_pad">
                          <div class="customized-select" [ngClass]="{'disabled-control' : solData.solutions.WiproType == '184450001' || !solData.solutions.WiproType || solData.solutions.WiproInfluenceType == '184450001' || disableOnRoleBSSolution || !solData.solutions.WiproInfluenceType}">
                            <span class="caret color-azure"></span>
                            <select role="listbox" aria-required="true" [name]="solData.solutionSTName"
                            [title]="solData.solutions.WiproServiceTypeName"                                  
                              [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!solData.solutions.WiproServiceType && solData.solutions.WiproType && solData.solutions.WiproType != '184450001' && solData.solutions.WiproInfluenceType && solData.solutions.WiproInfluenceType != '184450001')}"
                              [(ngModel)]="solData.solutions.WiproServiceType"
                              (change)="setServiceType(solData.solutions,j)"
                              [disabled]="solData.solutions.WiproType == '184450001' || !solData.solutions.WiproType || solData.solutions.WiproInfluenceType == '184450001' || disableOnRoleBSSolution || !solData.solutions.WiproInfluenceType">
                              <option hidden disabled value="">Select</option>
                              <option *ngFor="let ST of serviceTypeDD" [value]="ST.Id">{{ST.Name}}
                              </option>
                            </select>
                          </div>
                        </div>
                        <!-- Mobile -select end here -->
                            <!-- Select DROPDOWN STARTS -->
                          </td>
                      <td class="no_pad display_flex mobile-align">
                          <!-- <button class="btn-none blue_circle_replay pad_left_0 cp commonActionBtn" aria-label="view"
                          matTooltip="view">
                          <span class="col-xs-12 nopad blue_circle_replay_img mdi mdi-eye"></span>
                        </button> -->
                        <button type="button" class="btn-none blue_circle_replay pad_left_0 cp mt5 commonActionBtn" *ngIf="!disableOnRoleBSSolution" aria-label="Delete"
                          matTooltip="Delete" (click)="deleteBSSolutionValidation(solData.solutions,'solution',j)">
                          <span class="col-xs-12 nopad blue_circle_replay_img mdi  mdi-delete"></span>
                        </button>
                      </td>
                    </tr>
                    <tr *ngIf="solData.solutions.WiproType == '184450000'">
                      <td class="float-right">
                        <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad label-form mb0 pad-9">Deal registered*
                          <span class="mdi mdi-information-outline info-icon" tabindex="0" (click)="DealPricingChange(solData.solutions,j)" aria-labelledby="atool atoola"></span></label>
                      </td>
                      <td>
                        <!-- Select DROPDOWN STARTS -->
                          <div class="customized-select mobile-select-box" [ngClass]="{'disabled-control' : solData.solutions.WiproType != '184450000' || !solData.solutions.WiproType || disableOnRoleBSSolution}">
                            <span class="caret color-azure"></span>
                            <select role="listbox" [title]="solData.solutions.IsDealRegistered === true ? 'Yes' : (solData.solutions.IsDealRegistered === false ? 'No' : '')" role="listbox"
                            [name]="solData.solutionDealPricingName"
                            [ngClass]="{'orangeborder':(solData.solutions.IsDealRegistered === '' && solData.solutions.WiproType && solData.solutions.WiproType == '184450000')}"
                                [(ngModel)]="solData.solutions.IsDealRegistered"
                            (change)="DealPricingChange(solData.solutions,j)"
                            [disabled]="solData.solutions.WiproType != '184450000' || !solData.solutions.WiproType || disableOnRoleBSSolution">
                                <option selected hidden disabled value="">Select</option>
                                <option [value]="dealYes"> Yes </option>
                                <option [value]="dealNo"> No</option>

                            </select>
                          </div>
                          <!-- updated mat select starts here -->
                          <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box inputfixed-width">
                            <mat-form-field class="col-12 no_pad float-left">
                              <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select"
                                role="listbox" [title]="solData.solutions.IsDealRegistered === true ? 'Yes' : (solData.solutions.IsDealRegistered === false ? 'No' : '')" role="listbox"
                                [name]="solData.solutionDealPricingName"
                                [ngClass]="{'orangeborder':(solData.solutions.IsDealRegistered === '' && solData.solutions.WiproType && solData.solutions.WiproType == '184450000')}"
                                [(ngModel)]="solData.solutions.IsDealRegistered"
                                (selectionChange)="DealPricingChange(solData.solutions,j)"
                                [disabled]="solData.solutions.WiproType != '184450000' || !solData.solutions.WiproType || disableOnRoleBSSolution">
                                  <mat-option selected hidden disabled value="">Select</mat-option>
                                  <mat-option [value]="dealYes"> Yes </mat-option>
                                  <mat-option [value]="dealNo"> No </mat-option>
                              </mat-select>
                              <!-- <p class="error-message top-40" *ngIf="(!solData.solutions.WiproType)" title="Type is required">Type is required</p>-->
                            </mat-form-field> 
                          </div>
                        <!-- updated mat select ends here -->
                        <!-- Select DROPDOWN STARTS -->
                      </td>
                    </tr>
                    <!-- <tr class="nodata_tr" *ngIf="SolutionDetails.length==0">
                        <td class="nodata_td" colSpan="12"> No records found </td>
                        </tr> -->
                  </tbody>
                  <tbody *ngIf="SolutionDetails.length==0">
                    <tr class="nodata_tr">
                       <td class="nodata_td" colSpan="12"> No records found </td>
                     </tr>
                   </tbody>
                </table>
              </div>
              <!-- Table ends here -->
              <!-- </perfect-scrollbar> -->
            </div>
          </mat-expansion-panel>
  
        </div>
      </div>
      <!-- Solution panel ends here -->
  
      <!-- Credit allocation panel starts here -->
      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left order-tab normal_table mb0 no_pad">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left pad-26 pad_t0 credit-tab">
          <mat-expansion-panel hideToggle="true" [expanded]="panelOpenState6" class="no_pad"
            (opened)="panelOpenState6 = true" (closed)="panelOpenState6 = false">
            <mat-expansion-panel-header class="min_height60">
              <div class="min_height60 col-12 no_pad">
                <div class="accord-heading col-12">
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 float-left no_pad"> 
                  <span
                    [ngClass]="panelOpenState6 ? 'mdi mdi-chevron-down chevron-right float-left':'mdi mdi-chevron-up chevron-right float-left'"></span>
                  <span class="accordian-title cardsHead col-6 no_pad">
  
                      Credit allocation</span>
                    </div>
  
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 float-right no_pad mobpad15 bot10 mobile-button-width"  *ngIf="!disableOnRoleBSCA">
                    <button aria-label="Add credit" type="button" (click)="addcredit();$event.stopPropagation()"
                      class="primary-button h-40 std save-responsive-btn float-right pad_10" [disabled]="disableOnRoleBSCA">+ Add
                      credit</button>
                  </div>
                </div>
              </div>
            </mat-expansion-panel-header>
               <div class="col-12 no_pad float-left btop_withoutpadding">
              <!-- <perfect-scrollbar style="max-height:250px" class="z-ind-9"> -->
              <!-- Table starts here -->
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad scroll-tabs">
                <table class="table table-borderless matfrm-wrap">
                  <thead>
                    <tr>
                      <!-- <th class="customized-checkbox">
                        <mat-checkbox aria-label="select all" (change)="selectAllcredit()" [(ngModel)]="selectedAllcredit">
                        </mat-checkbox>
                      </th> -->
                      <th>Credit type*</th>
                      <th>Service line</th>
                      <th>Practice</th>
                      <th>Sub practice</th>
                      <th>BDM*</th>
                      <th>Value({{CurrencySymbol}})</th>
                      <th>% Contribution*</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody>
  
                    <tr *ngFor="let creditdata of creditAllocationdataDetails;let i =index">
                      <td class="display-none"></td>
                      <!-- <td class="customized-checkbox">
                        <mat-checkbox aria-label="select" (change)="checkIfAllSelectedcredit(data)"
                          [(ngModel)]="data.isCheccked">
                        </mat-checkbox>
                      </td> -->
                      <td [attr.data-label]="'Credit type*'">
                         <!-- updated mat select starts here -->
                         <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                          <mat-form-field class="col-12 no_pad float-left">
                            <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select {{service.getSelectedClass(creditdata.creditAllocation.WiproTypeId)}}"
                              role="listbox" [name]="creditdata.creditTypeName" [title]="creditdata.creditAllocation.WiproTypeName"
                              [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!creditdata.creditAllocation.WiproTypeId)}"
                              [(ngModel)]="creditdata.creditAllocation.WiproTypeId" (selectionChange)="assignBDMData(creditdata.creditAllocation,i)"
                              [disabled]="disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault">
                              <mat-option hidden disabled value="">Select</mat-option>
                              <mat-option *ngFor="let creditType of creditTypeDD" [value]="creditType.Id">{{creditType.Name}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                  <!-- updated mat select ends here -->
                         <!-- Mobile -select starts here -->
                         <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mobile-select-box no_pad">
                            <div class="customized-select" [ngClass]="{'disabled-control' : disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault}">
                              <span class="caret color-azure"></span>
                              <select role="listbox" aria-required="true" [name]="creditdata.creditTypeName" [title]="creditdata.creditAllocation.WiproTypeName"
                              [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!creditdata.creditAllocation.WiproTypeId)}"
                              [(ngModel)]="creditdata.creditAllocation.WiproTypeId" (change)="assignBDMData(creditdata.creditAllocation,i)"
                              [disabled]="disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault">
                                <option hidden disabled value="">Select</option>
                                <option *ngFor="let creditType of creditTypeDD" [value]="creditType.Id">{{creditType.Name}}
                                </option>
                              </select>
                            </div>
                          </div>
                          <!-- Mobile -select end here -->
                        <!-- Select DROPDOWN STARTS -->
                      </td>
                      <td [attr.data-label]="'Service line'">
  
                        <!-- updated mat select starts here -->
                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                        <mat-form-field class="col-12 no_pad float-left">
                          <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select {{service.getSelectedClass(creditdata.creditAllocation.ServicelineId)}}"
                            role="listbox" [name]="creditdata.sLName" [title]="creditdata.creditAllocation.ServicelineName"
                            [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!creditdata.creditAllocation.ServicelineId && creditdata.creditAllocation.WiproTypeId != '184450001' && creditdata.creditAllocation.WiproTypeId)}"
                            [(ngModel)]="creditdata.creditAllocation.ServicelineId"
                            (selectionChange)="getPracticeCAData(creditdata.creditAllocation,i)"
                            [disabled]="creditdata.creditAllocation.WiproTypeId == '184450001' || !creditdata.creditAllocation.WiproTypeId || disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault">
                            <mat-option hidden disabled value="">Select</mat-option>
                            <mat-option *ngFor="let creditSL of creditAllocationSLDD" [value]="creditSL.ServicelineId">
                              {{creditSL.ServicelineIdName}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
              <!-- updated mat select ends here -->
              <!-- Mobile -select starts here -->
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mobile-select-box no_pad">
                  <div class="customized-select" [ngClass]="{'disabled-control' : creditdata.creditAllocation.WiproTypeId == '184450001' || !creditdata.creditAllocation.WiproTypeId || disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault}">
                    <span class="caret color-azure"></span>
                    <select role="listbox" aria-required="true" [name]="creditdata.sLName" [title]="creditdata.creditAllocation.ServicelineName"
                    [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!creditdata.creditAllocation.ServicelineId && creditdata.creditAllocation.WiproTypeId != '184450001' && creditdata.creditAllocation.WiproTypeId)}"
                    [(ngModel)]="creditdata.creditAllocation.ServicelineId"
                    (change)="getPracticeCAData(creditdata.creditAllocation,i)"
                    [disabled]="creditdata.creditAllocation.WiproTypeId == '184450001' || !creditdata.creditAllocation.WiproTypeId || disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault">
                      <option hidden disabled value="">Select</option>
                      <option *ngFor="let creditSL of creditAllocationSLDD" [value]="creditSL.ServicelineId">
                        {{creditSL.ServicelineIdName}}
                      </option>
                    </select>
                  </div>
                </div>
                <!-- Mobile -select end here -->
                        <!-- Select DROPDOWN STARTS -->
                      </td>
                      <td [attr.data-label]="'Practice'">
  
                        <!-- updated mat select starts here -->
                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                        <mat-form-field class="col-12 no_pad float-left">
                          <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select {{service.getSelectedClass(creditdata.creditAllocation.PracticeId)}}"
                            role="listbox" [name]="creditdata.practiceName" [title]="creditdata.creditAllocation.PracticeName"
                            [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!creditdata.creditAllocation.PracticeId && creditdata.creditAllocation.WiproTypeId != '184450001' && creditdata.practiceDD.length>0)}"
                            [(ngModel)]="creditdata.creditAllocation.PracticeId"
                            (selectionChange)="getSubPracticeCAData(creditdata.creditAllocation,i)"
                            [disabled]="creditdata.creditAllocation.WiproTypeId == '184450001' || !creditdata.creditAllocation.ServicelineId || disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault || (creditdata.creditAllocation.ServicelineId && creditdata.practiceDD.length == 0)">
                            <mat-option hidden disabled value="">Select</mat-option>
                            <mat-option *ngFor="let creditpractice of creditdata.practiceDD" 
                            [hidden]="creditpractice.PracticeIdName == ACS"
                            [disabled]="creditpractice.PracticeIdName == ACS"
                            [value]="creditpractice.PracticeId">
                              {{creditpractice.PracticeIdName}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
            <!-- updated mat select ends here -->
             <!-- Mobile -select starts here -->
             <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mobile-select-box no_pad">
                <div class="customized-select" [ngClass]="{'disabled-control' : creditdata.creditAllocation.WiproTypeId == '184450001' || !creditdata.creditAllocation.ServicelineId || disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault || (creditdata.creditAllocation.ServicelineId && creditdata.practiceDD.length == 0)}">
                  <span class="caret color-azure"></span>
                  <select role="listbox" aria-required="true" [name]="creditdata.practiceName" [title]="creditdata.creditAllocation.PracticeName"
                  [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!creditdata.creditAllocation.PracticeId && creditdata.creditAllocation.WiproTypeId != '184450001' && creditdata.practiceDD.length>0)}"
                  [(ngModel)]="creditdata.creditAllocation.PracticeId"
                  (change)="getSubPracticeCAData(creditdata.creditAllocation,i)"
                  [disabled]="creditdata.creditAllocation.WiproTypeId == '184450001' || !creditdata.creditAllocation.ServicelineId || disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault || (creditdata.creditAllocation.ServicelineId && creditdata.practiceDD.length == 0)">
                    <option hidden disabled value="">Select</option>
                    <option *ngFor="let creditpractice of creditdata.practiceDD" 
                    [hidden]="creditpractice.PracticeIdName == ACS"
                    [disabled]="creditpractice.PracticeIdName == ACS"
                    [value]="creditpractice.PracticeId">
                      {{creditpractice.PracticeIdName}}
                    </option>
                  </select>
                </div>
              </div>
              <!-- Mobile -select end here -->
                        <!-- Select DROPDOWN STARTS -->
                      </td>
                      <td [attr.data-label]="'Sub practice'">
            
                        <!-- updated mat select starts here -->
                      <div class="col-12 col-sm-12 col-md-12 col-lg-12 float-left h100 no_pad web-select-box">
                        <mat-form-field class="col-12 no_pad float-left">
                          <mat-select disableOptionCentering panelClass="Select-panel-class" class="select-focus mat-select {{service.getSelectedClass(creditdata.creditAllocation.SubPracticeId)}}"
                            role="listbox" [name]="creditdata.subPracticeName" [title]="creditdata.creditAllocation.SubPracticeName"
                            [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!creditdata.creditAllocation.SubPracticeId && creditdata.creditAllocation.WiproTypeId != '184450001' && creditdata.subPracticeDD.length>0)}"
                            [(ngModel)]="creditdata.creditAllocation.SubPracticeId"
                            (selectionChange)="changeSubpracticeCAData(creditdata.creditAllocation,i)"
                            [disabled]="creditdata.creditAllocation.WiproTypeId == '184450001' || !creditdata.creditAllocation.ServicelineId || !creditdata.creditAllocation.PracticeId || disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault || (creditdata.creditAllocation.PracticeId && creditdata.subPracticeDD.length == 0)">
                            <mat-option hidden disabled value="">Select</mat-option>
                            <mat-option *ngFor="let creditSubpractice of creditdata.subPracticeDD" [value]="creditSubpractice.SubPracticeId">
                              {{creditSubpractice.SubPracticeIdName}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
          <!-- updated mat select ends here -->
          <!-- Mobile -select starts here -->
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  mobile-select-box no_pad">
              <div class="customized-select" [ngClass]="{'disabled-control' : creditdata.creditAllocation.WiproTypeId == '184450001' || !creditdata.creditAllocation.ServicelineId || !creditdata.creditAllocation.PracticeId || disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault || (creditdata.creditAllocation.PracticeId && creditdata.subPracticeDD.length == 0)}">
                <span class="caret color-azure"></span>
                <select role="listbox" aria-required="true" [name]="creditdata.subPracticeName" [title]="creditdata.creditAllocation.SubPracticeName"
                [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!creditdata.creditAllocation.SubPracticeId && creditdata.creditAllocation.WiproTypeId != '184450001' && creditdata.subPracticeDD.length>0)}"
                [(ngModel)]="creditdata.creditAllocation.SubPracticeId"
                (change)="changeSubpracticeCAData(creditdata.creditAllocation,i)"
                [disabled]="creditdata.creditAllocation.WiproTypeId == '184450001' || !creditdata.creditAllocation.ServicelineId || !creditdata.creditAllocation.PracticeId || disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault || (creditdata.creditAllocation.PracticeId && creditdata.subPracticeDD.length == 0)">
                  <option hidden disabled value="">Select</option>
                  <option *ngFor="let creditSubpractice of creditdata.subPracticeDD" [value]="creditSubpractice.SubPracticeId">
                    {{creditSubpractice.SubPracticeIdName}}
                  </option>
                </select>
              </div>
            </div>
            <!-- Mobile -select end here -->
                        <!-- Select DROPDOWN STARTS -->
                      </td>
                      <td [attr.data-label]="'BDM*'" class="no_pad">
                          <!-- bdm autocomplete starts here-->
                          <div
                            class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  float-left customized-input cust_autoComplete pos-rel no_pad">
                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad">
                              <!-- <label class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left no_pad" for="ContractingName"
                      class="label-form">Contracting country*</label>  -->
                      <input class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left  h-40 label-input"
                      [name]="creditdata.BDMName" autocomplete="off" type="text" 
                      [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!creditdata.creditAllocation.ServicelineBDMName && (!WTFlag || (WTFlag && !creditdata.creditAllocation.WiproIsDefault)))}" 
                      [title]="creditdata.creditAllocation.ServicelineBDMName" [(ngModel)]="creditdata.creditAllocation.ServicelineBDMName" placeholder="Search"
                        (click)="creditdata.bdmNameSwitch = true;getCABDMData(creditdata.creditAllocation,i,creditdata.creditAllocation.ServicelineBDMName)" (ngModelChange)="getCABDMData(creditdata.creditAllocation,i,creditdata.creditAllocation.ServicelineBDMName)"
                        (blur)="bdmNameclose(creditdata.creditAllocation,i,$event)" 
                        [disabled]="!creditdata.creditAllocation.WiproTypeId || (creditdata.creditAllocation.WiproTypeId == '184450000' && (!creditdata.creditAllocation.ServicelineId || (!creditdata.creditAllocation.PracticeId && creditdata.practiceDD.length > 0))) || disableOnRoleBSCA || creditdata.creditAllocation.WiproIsDefault">
                      <span class="mdi mdi-magnify"></span>
                      <div
                        class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 border-btm border float-left top64 no_pad standard-border color-azure suggestion-box pos-abs z-ind-99 white-bg"
                        *ngIf="creditdata.bdmNameSwitch">
                        <perfect-scrollbar style="max-height:160px" class="z-ind-9">
                          <ul tabindex="0" class=" list-group sort-dropdown">
                            <li class="list-group-item no_pad " (keypress)="changeBDMData(item,creditdata.creditAllocation,i)"
                              (click)="changeBDMData(item,creditdata.creditAllocation,i)"
                              *ngFor="let item of creditdata.bdmDD">
                              <label for="inti_name" class="float-left name mb-0">
                                <span class="d-block list-name">{{item.Name}}</span>
                                <!-- <span class="d-block sub-list">{{item.OwnerId}}</span> -->
                              </label>
                            </li>
                            <li class="d-block list-name no_pad" *ngIf="(creditdata.bdmDD).length == 0">
                              No record found </li>
                              <span class="db-search" (click)="openadvancetabsSearch(creditdata.creditAllocation,'BSCASLBDM',creditdata.bdmDD,creditdata.selectedCABDM,creditdata.creditAllocation.ServicelineBDMName,i)">
                                <button id="advanceCABDMSearch{{i}}" role="option" tabindex="0"
                                aria-disabled="false" aria-label="Advance look up" type="button" class="button-search" >
                                  <span class="mdi mdi-file-outline"></span> Advance look up
                                </button>
                              </span>
                          </ul>
                                </perfect-scrollbar>
                              </div>
                            </div>
                          </div>
                          <!--bdm autocomplete ends here-->
                        </td>
                      <td [attr.data-label]="'Value(CurrencySymbol)'" class="width10">
                        <div class="customized-input">
                          <label for="val" class=""> </label>
                          <input id="val" type="text" class="border-gray w-100" [name]="creditdata.valueName" [ngClass]="{'width125' : service.Summary_window}" [(ngModel)]="creditdata.creditAllocation.WiproValue" placeholder="00.00" disabled >
                        </div>
                      </td>
                      <td [attr.data-label]="'% Contribution*'" class="width10">
                        <div class="customized-input">
                          <label for="cont" class=""> </label>
                          <input id="cont" type="text" class="border-gray w-100" [name]="creditdata.contributionName" [ngClass]="{'width125' : service.Summary_window ,'orangeborder':(!creditdata.creditAllocation.Contribution)}" 
                          [(ngModel)]="creditdata.creditAllocation.Contribution" 
                          #cacontpercmod [decimalnumbersOnly]="acceptNegativeContribution" [oldValue]="cacontpercmod.value"
                          (blur)="checkContributionPercBlur(creditdata.creditAllocation,cacontpercmod.value,i)" onpaste="return false;"  ondrop="return false;" placeholder="00.00" [disabled]="disableOnRoleBSCA">
                        </div>
                      </td>
                      <td class="no_pad display_flex mobile-align">
                        <button type="button" class="btn-none blue_circle_replay pad_left_0 cp mt5 commonActionBtn" *ngIf="!disableOnRoleBSCA && !creditdata.creditAllocation.WiproIsDefault" aria-label="Delete"
                          matTooltip="Delete" (click)="deletecredit(creditdata.creditAllocation,i)">
                          <span class="col-xs-12 nopad blue_circle_replay_img mdi  mdi-delete"></span>
                        </button>
                      </td>
                    </tr>
                    <tr class="nodata_tr" *ngIf="creditAllocationdataDetails.length==0">
                        <td class="nodata_td" colSpan="12"> No records found </td>
                        </tr>
                  </tbody>
                </table>
              </div>
              <!-- Table ends here -->
              <!-- </perfect-scrollbar> -->
            </div>
          </mat-expansion-panel>
        </div>
      </div>
      <!-- Credit allocation panel ends here -->
    </form>

  </div>
</div>